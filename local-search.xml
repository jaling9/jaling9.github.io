<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Hexo è‡ªå®šä¹‰å­—ä½“æ–¹æ³•</title>
    <link href="/2022/11/19/hexo%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E6%96%B9%E6%B3%95/"/>
    <url>/2022/11/19/hexo%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>å¯ä½¿ç”¨åœ¨çº¿å­—ä½“å’Œæœ¬åœ°å­—ä½“ã€‚</p>          </div><ul><li>æ‰¾åˆ°fluidæ–‡ä»¶å¤¹ä¸‹çš„source&#x2F;cssç›®å½•,æ–°å»ºä¸€ä¸ªcustom_css.cssæ–‡ä»¶ï¼Œé‡Œé¢é…ç½®å­—ä½“é£æ ¼ï¼Œç±»ä¼¼ï¼š</li></ul><figure><div class="code-wrapper"><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">html,body,header,.markdown-body</span> <span class="token punctuation">&#123;</span>    <span class="token property">font-family</span><span class="token punctuation">:</span> Verdana<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></div></figure><ul><li>æ‰¾åˆ°_config.fluid.ymlé…ç½®æ–‡ä»¶ï¼Œå¼•å…¥custom.cssç›®å½•å³å¯ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æŠ€æœ¯å¯¼èˆª</title>
    <link href="/2022/11/16/%E6%8A%80%E6%9C%AF%E5%AF%BC%E8%88%AA/"/>
    <url>/2022/11/16/%E6%8A%80%E6%9C%AF%E5%AF%BC%E8%88%AA/</url>
    
    <content type="html"><![CDATA[<h3 id="ğŸ‘‡-Javaè¯­è¨€ç›¸å…³"><a href="#ğŸ‘‡-Javaè¯­è¨€ç›¸å…³" class="headerlink" title="ğŸ‘‡ Javaè¯­è¨€ç›¸å…³"></a>ğŸ‘‡ Javaè¯­è¨€ç›¸å…³</h3><ul><li>Java å­¦ä¹ è·¯çº¿: <a href="https://www.pdai.tech/md/outline/x-outline.html">https://www.pdai.tech/md/outline/x-outline.html</a></li><li>Java å…¥é—¨æ•™ç¨‹: <a href="https://www.liaoxuefeng.com/wiki/1252599548343744">https://www.liaoxuefeng.com/wiki/1252599548343744</a></li><li>Jvm æ‰‹å†Œ: <a href="http://www.ityouknow.com/java.html">http://www.ityouknow.com/java.html</a></li><li>Dubboæ‰‹å†Œ: <a href="https://dubbo.apache.org/zh/docs/">https://dubbo.apache.org/zh/docs/</a>)</li><li>Netty: <a href="https://netty.io/wiki/index.html">https://netty.io/wiki/index.html</a>)</li><li>Java NIO æ•™ç¨‹: <a href="http://www.ityouknow.com/java.html">http://www.ityouknow.com/java.html</a></li><li>Spring å®æˆ˜: <a href="https://potoyang.gitbook.io/spring-in-action-v5/">https://potoyang.gitbook.io/spring-in-action-v5/</a></li><li>Spring Boot æ‰‹å†Œ: <a href="http://www.ityouknow.com/spring-boot.html">http://www.ityouknow.com/spring-boot.html</a></li><li>Spring Cloud æ‰‹å†Œ: <a href="http://www.ityouknow.com/spring-cloud.html">http://www.ityouknow.com/spring-cloud.html</a></li><li>Spring Data JPA - å‚è€ƒæ–‡æ¡£: <a href="https://www.springcloud.cc/spring-data-jpa.html">https://www.springcloud.cc/spring-data-jpa.html</a></li><li>Apache Shiro ä¸­æ–‡æ–‡æ¡£: <a href="https://www.docs4dev.com/docs/zh/apache-shiro/1.5.3/reference/introduction.html">https://www.docs4dev.com/docs/zh/apache-shiro/1.5.3/reference/introduction.html</a></li><li>Netty 4.x ç”¨æˆ·æŒ‡å—: <a href="https://waylau.com/netty-4-user-guide/">https://waylau.com/netty-4-user-guide/</a></li><li>MyBatisä¸­æ–‡æ–‡æ¡£: <a href="https://mybatis.org/mybatis-3/zh/index.html">https://mybatis.org/mybatis-3/zh/index.html</a></li><li>Tomcat 8 æƒå¨æŒ‡å—: <a href="https://wiki.jikexueyuan.com/project/tomcat/">https://wiki.jikexueyuan.com/project/tomcat/</a></li></ul><h3 id="ğŸ‘‰-Pythonè¯­è¨€ç›¸å…³"><a href="#ğŸ‘‰-Pythonè¯­è¨€ç›¸å…³" class="headerlink" title="ğŸ‘‰ Pythonè¯­è¨€ç›¸å…³"></a>ğŸ‘‰ Pythonè¯­è¨€ç›¸å…³</h3><ul><li>Python é›¶åŸºç¡€å…¥é—¨: <a href="http://www.ityouknow.com/python.html">http://www.ityouknow.com/python.html</a></li><li>Python CookBook ä¸­æ–‡ç‰ˆ: <a href="https://www.kancloud.cn/kancloud/python3-cookbook">https://www.kancloud.cn/kancloud/python3-cookbook</a></li><li>Pythonè¿›é˜¶: <a href="https://docs.pythontab.com/interpy/">https://docs.pythontab.com/interpy/</a></li><li>Django æ•™ç¨‹: <a href="https://docs.djangoproject.com/zh-hans/3.2//">https://docs.djangoproject.com/zh-hans/3.2//</a></li><li>Flask æ•™ç¨‹: <a href="http://docs.jinkan.org/docs/flask/quickstart.html#quickstart">http://docs.jinkan.org/docs/flask/quickstart.html#quickstart</a></li><li>Scrapy æ•™ç¨‹: <a href="https://www.osgeo.cn/scrapy/index.html">https://www.osgeo.cn/scrapy/index.html</a></li></ul><h3 id="ğŸ–-å…¶ä»–ç¼–ç¨‹è¯­è¨€æ–‡æ¡£"><a href="#ğŸ–-å…¶ä»–ç¼–ç¨‹è¯­è¨€æ–‡æ¡£" class="headerlink" title="ğŸ– å…¶ä»–ç¼–ç¨‹è¯­è¨€æ–‡æ¡£"></a>ğŸ– å…¶ä»–ç¼–ç¨‹è¯­è¨€æ–‡æ¡£</h3><ul><li>C è¯­è¨€æ•™ç¨‹: <a href="https://www.nowcoder.com/tutorial/10002/8f7c3e0e7efd441d8f7c9c8d43c2a0f4">https://www.nowcoder.com/tutorial/10002/8f7c3e0e7efd441d8f7c9c8d43c2a0f4</a></li><li>C++ å­¦ä¹ æ•™ç¨‹ï¼ˆä¸­ï¼‰: <a href="https://www.w3cschool.cn/cpp/">https://www.w3cschool.cn/cpp/</a></li><li>Laravel 8 ä¸­æ–‡æ•™ç¨‹: <a href="https://learnku.com/docs/laravel/8.x/releases/9351">https://learnku.com/docs/laravel/8.x/releases/9351</a></li><li>Go è¯­è¨€æ•™ç¨‹: <a href="http://www.topgoer.com/">http://www.topgoer.com/</a></li><li>Go Web ç¼–ç¨‹: <a href="https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/preface.md">https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/preface.md</a></li><li>PHP æ•™ç¨‹: <a href="https://phpbestpractices.justjavac.com/#">https://phpbestpractices.justjavac.com/#</a></li><li>PHP å¼€å‘è€…å®è·µ: <a href="https://ryancao.gitbooks.io/php-developer-prepares/content/">https://ryancao.gitbooks.io/php-developer-prepares/content/</a></li><li>ThinkPHP æ•™ç¨‹: <a href="https://www.kancloud.cn/agdholo/thinkphp">https://www.kancloud.cn/agdholo/thinkphp</a></li><li>Visual Basic æ•™ç¨‹: <a href="https://docs.microsoft.com/zh-cn/visualstudio/get-started/visual-basic/?view=vs-2019">https://docs.microsoft.com/zh-cn/visualstudio/get-started/visual-basic/?view=vs-2019</a></li><li>Rè¯­è¨€æ•™ç¨‹: <a href="https://www.math.pku.edu.cn/teachers/lidf/docs/Rbook/html/_Rbook/intro.html">https://www.math.pku.edu.cn/teachers/lidf/docs/Rbook/html/_Rbook/intro.html</a></li><li>Swift æ•™ç¨‹: <a href="https://swift.bootcss.com/">https://swift.bootcss.com/</a></li><li>Ruby æ•™ç¨‹: <a href="https://www.ruby-lang.org/zh_cn/documentation/">https://www.ruby-lang.org/zh_cn/documentation/</a></li></ul><h3 id="ğŸ‘¨ğŸ”§-å¼€å‘å·¥å…·å¿…å¤‡"><a href="#ğŸ‘¨ğŸ”§-å¼€å‘å·¥å…·å¿…å¤‡" class="headerlink" title="ğŸ‘¨ğŸ”§ å¼€å‘å·¥å…·å¿…å¤‡"></a>ğŸ‘¨ğŸ”§ å¼€å‘å·¥å…·å¿…å¤‡</h3><ul><li>Git å­¦ä¹ æ‰‹å†Œ: <a href="https://git-scm.com/book/zh/v2">https://git-scm.com/book/zh/v2</a></li><li>Gitäº’åŠ¨æ•™ç¨‹: <a href="https://learngitbranching.js.org/?locale=zh_CN">https://learngitbranching.js.org/?locale=zh_CN</a></li><li>SQL æ•™ç¨‹: <a href="https://www.kancloud.cn/wizardforcel/w3school-sql/93915">https://www.kancloud.cn/wizardforcel/w3school-sql/93915</a></li><li>LeetCode åˆ·é¢˜æ‰‹å†Œ: <a href="https://books.halfrost.com/leetcode/ChapterOne/">https://books.halfrost.com/leetcode/ChapterOne/</a></li><li>Nginx æç®€æ•™ç¨‹: <a href="https://dunwu.github.io/nginx-tutorial/#/nginx-quickstart">https://dunwu.github.io/nginx-tutorial/#/nginx-quickstart</a></li><li>å›¾è¯´è®¾è®¡æ¨¡å¼: <a href="https://design-patterns.readthedocs.io/zh_CN/latest/index.html">https://design-patterns.readthedocs.io/zh_CN/latest/index.html</a></li><li>JSON æ‰‹å†Œ: <a href="http://www.dingding.team/book/json/">http://www.dingding.team/book/json/</a></li><li>IDEA ä½¿ç”¨æ•™ç¨‹: <a href="https://github.com/judasn/IntelliJ-IDEA-Tutorial">https://github.com/judasn/IntelliJ-IDEA-Tutorial</a></li><li>Docker æ•™ç¨‹: <a href="https://yeasy.gitbook.io/docker_practice/">https://yeasy.gitbook.io/docker_practice/</a></li></ul><h3 id="ğŸ‘©ğŸ¨-å¤§æ•°æ®ç›¸å…³"><a href="#ğŸ‘©ğŸ¨-å¤§æ•°æ®ç›¸å…³" class="headerlink" title="ğŸ‘©ğŸ¨ å¤§æ•°æ®ç›¸å…³"></a>ğŸ‘©ğŸ¨ å¤§æ•°æ®ç›¸å…³</h3><ul><li>Apache æ•™ç¨‹: <a href="https://www.yiibai.com/apache_http/">https://www.yiibai.com/apache_http/</a></li><li>hadoop æ–‡æ¡£: <a href="https://hadoop.apache.org/docs/r1.0.4/cn/index.html">https://hadoop.apache.org/docs/r1.0.4/cn/index.html</a></li><li>Hive æ–‡æ¡£: <a href="https://hive.apache.org/">https://hive.apache.org/</a></li><li>HBase æ–‡æ¡£: <a href="https://blogs.apache.org/hbase/">https://blogs.apache.org/hbase/</a></li><li>Impala æ–‡æ¡£: <a href="https://impala.apache.org/">https://impala.apache.org/</a></li><li>Oozie è°ƒåº¦æ¡†æ¶æ–‡æ¡£: <a href="https://oozie.apache.org/">https://oozie.apache.org/</a></li><li>Apache Sentry: <a href="https://sentry.apache.org/">https://sentry.apache.org/</a></li><li>ZooKeeper: <a href="https://github.com/apache/zookeeper/">https://github.com/apache/zookeeper/</a></li><li>Spark å®˜æ–¹æ–‡æ¡£: <a href="https://spark.apache.org/">https://spark.apache.org/</a></li><li>Spark æ•™ç¨‹: <a href="https://aiyanbo.gitbooks.io/spark-programming-guide-zh-cn/content/">https://aiyanbo.gitbooks.io/spark-programming-guide-zh-cn/content/</a></li><li>Flink å®˜æ–¹æ–‡æ¡£: <a href="https://flink.apache.org/">https://flink.apache.org/</a></li></ul><h3 id="ğŸ‘¨âœˆï¸-å­˜å‚¨ç›¸å…³"><a href="#ğŸ‘¨âœˆï¸-å­˜å‚¨ç›¸å…³" class="headerlink" title="ğŸ‘¨âœˆï¸ å­˜å‚¨ç›¸å…³"></a>ğŸ‘¨âœˆï¸ å­˜å‚¨ç›¸å…³</h3><ul><li>Redis ä¸­æ–‡æ•™ç¨‹: <a href="https://www.redis.com.cn/tutorial.html">https://www.redis.com.cn/tutorial.html</a></li><li>memcached æ•™ç¨‹: <a href="https://www.twle.cn/l/yufei/memcached/memcached-basic-index.html">https://www.twle.cn/l/yufei/memcached/memcached-basic-index.html</a></li><li>Mysql ç®€å•æ•™ç¨‹: <a href="https://segmentfault.com/a/1190000006876419">https://segmentfault.com/a/1190000006876419</a></li><li>MongoDB æ•™ç¨‹: <a href="https://www.mongodb.org.cn/tutorial/">https://www.mongodb.org.cn/tutorial/</a></li><li>Elasticsearch æ•™ç¨‹: <a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/getting-started.html">https://www.elastic.co/guide/cn/elasticsearch/guide/current/getting-started.html</a></li><li>OpenResty æœ€ä½³å®è·µ: <a href="https://moonbingbing.gitbooks.io/openresty-best-practices/content/">https://moonbingbing.gitbooks.io/openresty-best-practices/content/</a></li></ul><h3 id="ğŸ™†â™‚ï¸-Linux-ç›¸å…³"><a href="#ğŸ™†â™‚ï¸-Linux-ç›¸å…³" class="headerlink" title="ğŸ™†â™‚ï¸ Linux ç›¸å…³"></a>ğŸ™†â™‚ï¸ Linux ç›¸å…³</h3><ul><li>é¸Ÿå“¥çš„ Linux ç§æˆ¿èœ: <a href="http://cn.linux.vbird.org/linux_basic/linux_basic.php">http://cn.linux.vbird.org/linux_basic/linux_basic.php</a></li><li>Bash Shell æ•™ç¨‹: <a href="https://wangdoc.com/bash/intro.html">https://wangdoc.com/bash/intro.html</a></li><li>Shell æ•™ç¨‹: <a href="http://billie66.github.io/TLCL/book/index.html">http://billie66.github.io/TLCL/book/index.html</a></li><li>HTTP 2.0 ç¿»è¯‘: <a href="https://yuedu.baidu.com/ebook/478d1a62376baf1ffc4fad99?pn=1###">https://yuedu.baidu.com/ebook/478d1a62376baf1ffc4fad99?pn=1###</a></li></ul><h3 id="ğŸ¤¦â™‚ï¸-ç§»åŠ¨ç«¯æ‰‹å†Œ"><a href="#ğŸ¤¦â™‚ï¸-ç§»åŠ¨ç«¯æ‰‹å†Œ" class="headerlink" title="ğŸ¤¦â™‚ï¸ ç§»åŠ¨ç«¯æ‰‹å†Œ"></a>ğŸ¤¦â™‚ï¸ ç§»åŠ¨ç«¯æ‰‹å†Œ</h3><ul><li>é¸¿è’™OS æ‰‹å†Œ: <a href="https://developer.harmonyos.com/cn/documentation/">https://developer.harmonyos.com/cn/documentation/</a></li><li>Android æ‰‹å†Œ: <a href="https://developer.android.com/guide?hl=zh-cn">https://developer.android.com/guide?hl=zh-cn</a></li><li>IOS æ‰‹å†Œ: <a href="https://developer.apple.com/cn/documentation/">https://developer.apple.com/cn/documentation/</a></li><li>å¾®ä¿¡å°ç¨‹åºæ‰‹å†Œ: <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/">https://developers.weixin.qq.com/miniprogram/dev/framework/</a></li><li>React Native æ‰‹å†Œ: <a href="https://reactnative.cn/docs/getting-started">https://reactnative.cn/docs/getting-started</a></li><li>Flutter æ‰‹å†Œ: <a href="https://flutter.cn/docs">https://flutter.cn/docs</a></li><li>MUI æ‰‹å†Œ: <a href="https://dev.dcloud.net.cn/mui/">https://dev.dcloud.net.cn/mui/</a></li><li>WeUI æ‰‹å†Œ: <a href="https://weui.io/">https://weui.io/</a></li><li>VUX æ‰‹å†Œ: <a href="https://doc.vux.li/zh-CN/">https://doc.vux.li/zh-CN/</a></li><li>FrozenUI æ‰‹å†Œ: <a href="http://frozenui.github.io/getting-started">http://frozenui.github.io/getting-started</a></li><li>Cube-UI æ‰‹å†Œ: <a href="https://didi.github.io/cube-ui/#/zh-CN/docs/introduction">https://didi.github.io/cube-ui/#/zh-CN/docs/introduction</a></li></ul><h3 id="ğŸ’‡â™‚ï¸-å‰ç«¯æ‰‹å†Œ"><a href="#ğŸ’‡â™‚ï¸-å‰ç«¯æ‰‹å†Œ" class="headerlink" title="ğŸ’‡â™‚ï¸ å‰ç«¯æ‰‹å†Œ"></a>ğŸ’‡â™‚ï¸ å‰ç«¯æ‰‹å†Œ</h3><ul><li>Html æ•™ç¨‹: <a href="https://developer.mozilla.org/zh-CN/docs/learn/HTML">https://developer.mozilla.org/zh-CN/docs/learn/HTML</a></li><li>JS æ•™ç¨‹: <a href="https://developer.mozilla.org/zh-CN/docs/learn/HTML">https://developer.mozilla.org/zh-CN/docs/learn/HTML</a></li><li>CSSå‚è€ƒæ‰‹å†Œ: <a href="http://css.doyoe.com/">http://css.doyoe.com/</a></li><li>jQuery æ“ä½œæ‰‹å†Œ: <a href="https://www.jquery123.com/">https://www.jquery123.com/</a></li><li>Bootstrap æ“ä½œæ‰‹å†Œ: <a href="https://v4.bootcss.com/docs/getting-started/introduction/">https://v4.bootcss.com/docs/getting-started/introduction/</a></li><li>Vue.jsæ‰‹å†Œ: <a href="https://v3.cn.vuejs.org/guide/introduction.html">https://v3.cn.vuejs.org/guide/introduction.html</a></li><li>Reactæ•™ç¨‹: <a href="https://zh-hans.reactjs.org/tutorial/tutorial.html">https://zh-hans.reactjs.org/tutorial/tutorial.html</a></li><li>AngularJSæ•™ç¨‹: <a href="https://www.angularjs.net.cn/tutorial/">https://www.angularjs.net.cn/tutorial/</a></li><li>ä¸ƒå¤©å­¦ä¼šNodeJS: <a href="http://nqdeng.github.io/7-days-nodejs/">http://nqdeng.github.io/7-days-nodejs/</a></li><li>Vue cli æ•™ç¨‹: <a href="https://cli.vuejs.org/zh/guide/">https://cli.vuejs.org/zh/guide/</a></li><li>Angular æ‰‹å†Œ: <a href="https://angular.cn/docs">https://angular.cn/docs</a></li><li>ES6 æ•™ç¨‹: <a href="https://es6.ruanyifeng.com/">https://es6.ruanyifeng.com/</a></li></ul><h3 id="ğŸ‘‡-è½¬æ¢å·¥å…·"><a href="#ğŸ‘‡-è½¬æ¢å·¥å…·" class="headerlink" title="ğŸ‘‡ è½¬æ¢å·¥å…·"></a>ğŸ‘‡ è½¬æ¢å·¥å…·</h3><ul><li>æ—¶é—´æˆ³è½¬æ¢: <a href="https://tool.lu/timestamp/">https://tool.lu/timestamp/</a></li><li>å›¾ç‰‡base64ç¼–ç : <a href="https://tool.lu/base64image/">https://tool.lu/base64image/</a></li><li>è¿›åˆ¶è½¬æ¢: <a href="https://tool.lu/hexconvert/">https://tool.lu/hexconvert/</a></li></ul><h3 id="ğŸ¤ -ä»£ç æ ¼å¼åŒ–å·¥å…·"><a href="#ğŸ¤ -ä»£ç æ ¼å¼åŒ–å·¥å…·" class="headerlink" title="ğŸ¤  ä»£ç æ ¼å¼åŒ–å·¥å…·"></a>ğŸ¤  ä»£ç æ ¼å¼åŒ–å·¥å…·</h3><ul><li>SQLæ ¼å¼è½¬æ¢: <a href="https://tool.lu/sql/">https://tool.lu/sql/</a></li><li>Jsonæ ¼å¼è½¬æ¢: <a href="https://tool.lu/json/">https://tool.lu/json/</a></li><li>Javaæ ¼å¼åŒ–: <a href="https://tool.oschina.net/codeformat/java">https://tool.oschina.net/codeformat/java</a></li><li>PHPæ ¼å¼åŒ–: <a href="https://tool.lu/php/">https://tool.lu/php/</a></li><li>Pythonæ ¼å¼åŒ–: <a href="https://tool.lu/pyc/">https://tool.lu/pyc/</a></li><li>Htmlæ ¼å¼è½¬æ¢: <a href="https://tool.chinaz.com/tools/jsformat.aspx">https://tool.chinaz.com/tools/jsformat.aspx</a></li><li>Jsæ ¼å¼è½¬æ¢: <a href="https://tool.chinaz.com/tools/jsformat.aspx">https://tool.chinaz.com/tools/jsformat.aspx</a></li><li>CSSæ ¼å¼è½¬æ¢: <a href="https://tool.chinaz.com/Tools/CssFormat.aspx">https://tool.chinaz.com/Tools/CssFormat.aspx</a></li><li>Xmlæ ¼å¼è½¬æ¢: <a href="https://tool.lu/xml/">https://tool.lu/xml/</a></li></ul><h3 id="ğŸ˜-å…¶ä»–å¸¸ç”¨å·¥å…·"><a href="#ğŸ˜-å…¶ä»–å¸¸ç”¨å·¥å…·" class="headerlink" title="ğŸ˜ å…¶ä»–å¸¸ç”¨å·¥å…·"></a>ğŸ˜ å…¶ä»–å¸¸ç”¨å·¥å…·</h3><ul><li>åœ¨çº¿æ–‡æœ¬å¯¹æ¯”: <a href="https://text-compare.com/zh-hans/">https://text-compare.com/zh-hans/</a></li><li>æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•: <a href="https://tool.oschina.net/regex/">https://tool.oschina.net/regex/</a></li><li>SQLå·¥å…·: <a href="https://tool.lu/sql/">https://tool.lu/sql/</a></li><li>åŠ å¯†è§£å¯†: <a href="https://tool.oschina.net/encrypt">https://tool.oschina.net/encrypt</a></li><li>CronæŸ¥è¯¢: <a href="https://www.matools.com/cron/">https://www.matools.com/cron/</a></li><li>äºŒç»´ç åˆ¶ä½œå·¥å…·: <a href="https://cli.im/">https://cli.im/</a></li><li>IPåœ°å€æŸ¥è¯¢: <a href="https://tool.lu/ip/">https://tool.lu/ip/</a></li><li>ä¸‹è½½é“¾æ¥è½¬æ¢å·¥å…·: <a href="https://tool.lu/urlconvert/">https://tool.lu/urlconvert/</a></li><li>curlå‘½ä»¤è½¬ä»£ç : <a href="https://tool.lu/curl/">https://tool.lu/curl/</a></li><li>å­—æ•°ç»Ÿè®¡: <a href="https://www.eteste.com/">https://www.eteste.com/</a></li><li>æ•°å­—å¤§å†™è½¬æ¢å™¨: <a href="https://tool.gaodun.com/rmb.html">https://tool.gaodun.com/rmb.html</a></li><li>é¢œè‰²è½¬åŒ–å™¨: <a href="https://www.sioe.cn/yingyong/yanse-rgb-16/">https://www.sioe.cn/yingyong/yanse-rgb-16/</a></li><li>åœ¨çº¿ä»£ç æµ‹è¯•: <a href="https://tool.lu/coderunner/">https://tool.lu/coderunner/</a></li></ul><h3 id="ğŸ¤£-æŠ€æœ¯ç ”å‘ç¤¾åŒº"><a href="#ğŸ¤£-æŠ€æœ¯ç ”å‘ç¤¾åŒº" class="headerlink" title="ğŸ¤£ æŠ€æœ¯ç ”å‘ç¤¾åŒº"></a>ğŸ¤£ æŠ€æœ¯ç ”å‘ç¤¾åŒº</h3><ul><li>åšå®¢å›­: <a href="https://www.cnblogs.com/">https://www.cnblogs.com</a></li><li>æ˜é‡‘: <a href="https://juejin.im/">https://juejin.im</a></li><li>å¼€æºä¸­å›½: <a href="https://www.oschina.net/">https://www.oschina.net</a></li><li>InfoQ: <a href="https://xie.infoq.cn/">https://xie.infoq.cn</a></li><li>51CTO: <a href="https://www.51cto.com/">https://www.51cto.com</a></li><li>è…¾è®¯äº‘ç¤¾åŒº: <a href="https://cloud.tencent.com/developer">https://cloud.tencent.com/developer</a></li><li>é˜¿é‡Œäº‘ç¤¾åŒº: <a href="https://developer.aliyun.com/">https://developer.aliyun.com</a></li><li>åä¸ºäº‘ç¤¾åŒº: <a href="https://bbs.huaweicloud.com/community/">https://bbs.huaweicloud.com/community/</a></li><li>SFæ€å¦: <a href="https://segmentfault.com/">https://segmentfault.com</a></li><li>CSDN: <a href="https://www.csdn.net/">https://www.csdn.net</a></li><li>Golangä¸­æ–‡ç¤¾åŒº: <a href="https://studygolang.com/">https://studygolang.com</a></li><li>å¼€å‘è€…å¤´æ¡: <a href="https://toutiao.io/">https://toutiao.io</a></li><li>StackOverflow: <a href="https://stackoverflow.com/">https://stackoverflow.com</a></li><li>ChinaUnix: <a href="http://www.chinaunix.net/">http://www.chinaunix.net</a></li><li>ç®€ä¹¦: <a href="https://www.jianshu.com/">https://www.jianshu.com</a></li></ul><h3 id="ğŸ¤¡-å¼€å‘å·¥å…·å¤§å…¨"><a href="#ğŸ¤¡-å¼€å‘å·¥å…·å¤§å…¨" class="headerlink" title="ğŸ¤¡ å¼€å‘å·¥å…·å¤§å…¨"></a>ğŸ¤¡ å¼€å‘å·¥å…·å¤§å…¨</h3><ul><li>IntelliJ IDEA: <a href="https://www.jetbrains.com/idea">https://www.jetbrains.com/idea</a></li><li>VS Code: <a href="https://code.visualstudio.com/">https://code.visualstudio.com</a></li><li>Macç ´è§£åº”ç”¨: <a href="https://xclient.info/">https://xclient.info</a></li><li>IDEA ç ´è§£: <a href="http://itmooc.tech/">http://itmooc.tech</a></li><li>Eclipse: <a href="https://www.eclipse.org/downloads">https://www.eclipse.org/downloads</a></li><li>Pycharm: <a href="https://www.jetbrains.com/pycharm">https://www.jetbrains.com/pycharm</a></li><li>Sublime Text: <a href="https://www.sublimetext.com/">https://www.sublimetext.com</a></li><li>Nodepad++: <a href="https://notepad-plus.en.softonic.com/">https://notepad-plus.en.softonic.com</a></li><li>EditPlus: <a href="https://www.editplus.com/download.html">https://www.editplus.com/download.html</a></li><li>atom: <a href="https://atom.io/">https://atom.io</a></li><li>WebStorm: <a href="https://www.jetbrains.com/webstorm">https://www.jetbrains.com/webstorm</a></li><li>secureCRT\u0026FX: <a href="https://www.vandyke.com/download/index.html">https://www.vandyke.com/download/index.html</a></li><li>Navicat: <a href="https://www.navicat.com.cn/download/navicat-premium">https://www.navicat.com.cn/download/navicat-premium</a></li><li>DBeaver: <a href="https://dbeaver.io/">https://dbeaver.io</a></li><li>Postman: <a href="https://www.postman.com/downloads">https://www.postman.com/downloads</a></li><li>ApiPost: <a href="https://www.apipost.cn/download.html">https://www.apipost.cn/download.html</a></li><li>DataGrip: <a href="https://www.jetbrains.com/datagrip">https://www.jetbrains.com/datagrip</a></li><li>studio3t: <a href="https://studio3t.com/download">https://studio3t.com/download</a></li><li>Redis Desktop Manager: <a href="https://rdm.dev/">https://rdm.dev</a></li><li>Another Redis Desktop Manager: <a href="https://github.com/qishibo/AnotherRedisDesktopManager">https://github.com/qishibo/AnotherRedisDesktopManager</a></li><li>Fiddler: <a href="https://www.telerik.com/download/fiddler">https://www.telerik.com/download/fiddler</a></li><li>Beyond Compare: <a href="https://www.scootersoftware.com/download.php">https://www.scootersoftware.com/download.php</a></li><li>FinalShell: <a href="https://www.hostbuf.com/t/988.html">https://www.hostbuf.com/t/988.html</a></li><li>XMind: <a href="https://www.xmind.cn/download">https://www.xmind.cn/download</a></li><li>SnipPaste: <a href="https://www.snipaste.com/">https://www.snipaste.com</a></li></ul><h3 id="ğŸ¤”-æ–‡æ¡£è®°å½•å·¥å…·"><a href="#ğŸ¤”-æ–‡æ¡£è®°å½•å·¥å…·" class="headerlink" title="ğŸ¤” æ–‡æ¡£è®°å½•å·¥å…·"></a>ğŸ¤” æ–‡æ¡£è®°å½•å·¥å…·</h3><ul><li>typora: <a href="https://typora.io/">https://typora.io/</a></li><li>è¯­é›€: <a href="https://www.yuque.com/">https://www.yuque.com</a></li><li>é£ä¹¦: <a href="https://www.feishu.cn/">https://www.feishu.cn</a></li><li>çŸ³å¢¨æ–‡æ¡£: <a href="https://shimo.im/">https://shimo.im</a></li><li>è…¾è®¯æ–‡æ¡£: <a href="https://docs.qq.com/">https://docs.qq.com</a></li><li>æœ‰é“äº‘ç¬”è®°: <a href="https://note.youdao.com/web">https://note.youdao.com/web</a></li><li>é‡‘å±±æ–‡æ¡£: <a href="https://www.kdocs.cn/">https://www.kdocs.cn</a></li><li>å°è±¡ç¬”è®°: <a href="https://www.yinxiang.com/">https://www.yinxiang.com/</a></li></ul><h3 id="ğŸ˜±-ç¼–ç¨‹å­¦ä¹ å¹³å°"><a href="#ğŸ˜±-ç¼–ç¨‹å­¦ä¹ å¹³å°" class="headerlink" title="ğŸ˜± ç¼–ç¨‹å­¦ä¹ å¹³å°"></a>ğŸ˜± ç¼–ç¨‹å­¦ä¹ å¹³å°</h3><ul><li>Bç«™å­¦ä¹ ç½‘: <a href="https://www.bilibili.com/">https://www.bilibili.com</a></li><li>ä¸­å›½å¤§å­¦MOOC(æ…•è¯¾ï¼‰: <a href="https://www.icourse163.org/">https://www.icourse163.org</a></li><li>ç½‘æ˜“äº‘è¯¾å ‚: <a href="https://study.163.com/">https://study.163.com</a></li><li>ç½‘æ˜“å…¬å¼€è¯¾: <a href="https://open.163.com/">https://open.163.com</a></li><li>ç å†œæ•™ç¨‹: <a href="http://www.manongjc.com/">http://www.manongjc.com</a></li><li>èœé¸Ÿæ•™ç¨‹: <a href="https://www.runoob.com/">https://www.runoob.com</a></li><li>æ˜“ç™¾æ•™ç¨‹: <a href="https://www.yiibai.com/">https://www.yiibai.com</a></li><li>W3school: <a href="https://www.w3school.com.cn/">https://www.w3school.com.cn</a></li><li>æ…•è¯¾ç½‘: <a href="https://www.imooc.com/">https://www.imooc.com</a></li><li>Gitchat: <a href="https://gitbook.cn/">https://gitbook.cn</a></li><li>Bootstrapä¸­æ–‡ç½‘: <a href="https://www.bootcss.com/">https://www.bootcss.com</a></li><li>GitHub: <a href="https://github.com/">https://github.com</a></li><li>Gitee: <a href="https://gitee.com/">https://gitee.com</a></li><li>SpringBootä¸­æ–‡å¯¼èˆª: <a href="http://springboot.fun/">http://springboot.fun</a></li><li>SpringCloudä¸­æ–‡å¯¼èˆª: <a href="http://springcloud.fun/">http://springcloud.fun</a></li><li>æŠ€æœ¯åšå®¢: <a href="http://techblog.pub/">http://techblog.pub</a></li><li>coursera: <a href="https://www.coursera.org/">https://www.coursera.org</a></li><li>æ‹‰é’©æ•™è‚²: <a href="https://kaiwu.lagou.com/">https://kaiwu.lagou.com</a></li><li>æå®¢æ—¶é—´: <a href="https://time.geekbang.org/">https://time.geekbang.org</a></li><li>æå®¢å­¦é™¢: <a href="https://wiki.jikexueyuan.com/">https://wiki.jikexueyuan.com</a></li><li>äººå·¥æ™ºèƒ½æ•™ç¨‹: <a href="https://www.captainai.net/puresmilex">https://www.captainai.net/puresmilex</a></li><li>ç™¾åº¦å‰ç«¯æŠ€æœ¯å­¦é™¢: <a href="http://ife.baidu.com/">http://ife.baidu.com</a></li></ul><h3 id="ğŸ¤¤-åˆ·é¢˜ç»ƒä¹ ç½‘ç«™"><a href="#ğŸ¤¤-åˆ·é¢˜ç»ƒä¹ ç½‘ç«™" class="headerlink" title="ğŸ¤¤ åˆ·é¢˜ç»ƒä¹ ç½‘ç«™"></a>ğŸ¤¤ åˆ·é¢˜ç»ƒä¹ ç½‘ç«™</h3><ul><li>LeetCode: <a href="https://leetcode-cn.com/">https://leetcode-cn.com</a></li><li>ç‰›å®¢ç½‘: <a href="https://www.nowcoder.com/">https://www.nowcoder.com</a></li><li>LintCode: <a href="https://www.lintcode.com/">https://www.lintcode.com</a></li></ul><h3 id="ğŸ˜-ä»£ç ç»ƒä¹ ç½‘ç«™"><a href="#ğŸ˜-ä»£ç ç»ƒä¹ ç½‘ç«™" class="headerlink" title="ğŸ˜ ä»£ç ç»ƒä¹ ç½‘ç«™"></a>ğŸ˜ ä»£ç ç»ƒä¹ ç½‘ç«™</h3><ul><li>åŒ—äº¬å¤§å­¦POJ: <a href="http://poj.org/">http://poj.org</a></li><li>AlgoMoocç®—æ³•æ…•è¯¾ç½‘: <a href="https://www.algomooc.com/">https://www.algomooc.com</a></li><li>è‡ªå­¦SQLç½‘: <a href="http://xuesql.cn/">http://xuesql.cn</a></li><li>SQLZOOç»ƒä¹ : <a href="https://sqlzoo.net/wiki/SQL_Tutorial/zh">https://sqlzoo.net/wiki/SQL_Tutorial/zh</a></li><li>èµ›ç : <a href="http://www.acmcoder.com/#/practice/company">http://www.acmcoder.com/#/practice/company</a></li><li>UOJ: <a href="https://uoj.ac/">https://uoj.ac</a></li><li>Hihocoder: <a href="http://hihocoder.com/problemset">http://hihocoder.com/problemset</a></li><li>è¶£IT: <a href="https://www.funit.cn/">https://www.funit.cn</a></li></ul><h3 id="ğŸ‘©ğŸ“-æ–‡æ¡£å·¥å…·"><a href="#ğŸ‘©ğŸ“-æ–‡æ¡£å·¥å…·" class="headerlink" title="ğŸ‘©ğŸ“ æ–‡æ¡£å·¥å…·"></a>ğŸ‘©ğŸ“ æ–‡æ¡£å·¥å…·</h3><ul><li>typora: <a href="https://typora.io/">https://typora.io/</a></li><li>è¯­é›€: <a href="https://www.yuque.com/">https://www.yuque.com</a></li><li>é£ä¹¦: <a href="https://www.feishu.cn/">https://www.feishu.cn</a></li><li>çŸ³å¢¨æ–‡æ¡£: <a href="https://shimo.im/">https://shimo.im</a></li><li>è…¾è®¯æ–‡æ¡£: <a href="https://docs.qq.com/">https://docs.qq.com</a></li><li>æœ‰é“äº‘ç¬”è®°: <a href="https://note.youdao.com/web">https://note.youdao.com/web</a></li><li>é‡‘å±±æ–‡æ¡£: <a href="https://www.kdocs.cn/">https://www.kdocs.cn</a></li><li>å°è±¡ç¬”è®°: <a href="https://www.yinxiang.com/">https://www.yinxiang.com/</a></li><li>å…¬ä¼—å·: <a href="https://mp.weixin.qq.com/">https://mp.weixin.qq.com/</a></li><li>æ–‡ç« åŒæ­¥åŠ©æ‰‹: <a href="https://www.wechatsync.com/">https://www.wechatsync.com/</a></li></ul><h3 id="ğŸ‘¨ğŸš€-åœ¨çº¿ç”»å›¾å·¥å…·"><a href="#ğŸ‘¨ğŸš€-åœ¨çº¿ç”»å›¾å·¥å…·" class="headerlink" title="ğŸ‘¨ğŸš€ åœ¨çº¿ç”»å›¾å·¥å…·"></a>ğŸ‘¨ğŸš€ åœ¨çº¿ç”»å›¾å·¥å…·</h3><ul><li>Processon: <a href="https://www.processon.com/">https://www.processon.com</a></li><li>Draw.io: <a href="https://app.diagrams.net/">https://app.diagrams.net</a></li><li>æ€ç»´å¯¼å›¾mindline: <a href="http://www.mindline.cn/webapp">http://www.mindline.cn/webapp</a></li><li>Omnigraffle: <a href="https://www.omnigroup.com/download">https://www.omnigroup.com/download</a></li></ul><h3 id="ğŸ¦¸â™‚ï¸-è§†é¢‘å·¥å…·"><a href="#ğŸ¦¸â™‚ï¸-è§†é¢‘å·¥å…·" class="headerlink" title="ğŸ¦¸â™‚ï¸ è§†é¢‘å·¥å…·"></a>ğŸ¦¸â™‚ï¸ è§†é¢‘å·¥å…·</h3><ul><li>Videezy: <a href="https://www.videezy.com/">https://www.videezy.com/</a></li><li>Videovo: <a href="https://www.videvo.net/">https://www.videvo.net/</a></li><li>mixkit: <a href="https://mixkit.co/">https://mixkit.co/</a></li><li>distill: <a href="https://wedistill.io/">https://wedistill.io/</a></li></ul><h3 id="ğŸ’ƒ-å›¾ç‰‡ï¼ˆå›¾åƒï¼‰å¤„ç†"><a href="#ğŸ’ƒ-å›¾ç‰‡ï¼ˆå›¾åƒï¼‰å¤„ç†" class="headerlink" title="ğŸ’ƒ å›¾ç‰‡ï¼ˆå›¾åƒï¼‰å¤„ç†"></a>ğŸ’ƒ å›¾ç‰‡ï¼ˆå›¾åƒï¼‰å¤„ç†</h3><ul><li>å›¾ç‰‡å¤„ç†ï¼ˆè¶…çº§èƒ½è€ï¼‰: <a href="https://www.iloveimg.com/zh-cn">https://www.iloveimg.com/zh-cn</a></li><li>pixabay: <a href="https://pixabay.com/zh/">https://pixabay.com/zh/</a></li><li>Unsplash: <a href="https://unsplash.com/">https://unsplash.com/</a></li><li>Pexels: <a href="https://www.pexels.com/zh-cn/">https://www.pexels.com/zh-cn/</a></li><li>Foodiesfeed : <a href="https://www.foodiesfeed.com/">https://www.foodiesfeed.com</a></li><li>CCé›¶å›¾ç‰‡ç½‘: <a href="https://cc0.cn/">https://cc0.cn/</a></li><li>Logoç¥å™¨: <a href="https://www.logosc.cn/so/">https://www.logosc.cn/so/</a></li><li>iconfont: <a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a></li><li>å­—ç”±: <a href="https://www.hellofont.cn/">https://www.hellofont.cn/</a></li><li>100font: <a href="https://www.100font.com/">https://www.100font.com/</a></li></ul><h3 id="ğŸ‘¨ğŸ”§-éŸ³ä¹éŸ³é¢‘å·¥å…·"><a href="#ğŸ‘¨ğŸ”§-éŸ³ä¹éŸ³é¢‘å·¥å…·" class="headerlink" title="ğŸ‘¨ğŸ”§ éŸ³ä¹éŸ³é¢‘å·¥å…·"></a>ğŸ‘¨ğŸ”§ éŸ³ä¹éŸ³é¢‘å·¥å…·</h3><ul><li>è®¯é£å¿«è¯»: <a href="https://www.ffkuaidu.com/">https://www.ffkuaidu.com/</a></li><li>audionautix: <a href="https://audionautix.com/">https://audionautix.com/</a></li><li>Freepd: <a href="https://freepd.com/">https://freepd.com/</a></li><li>è€³è†ç½‘: <a href="https://www.ear0.com/">https://www.ear0.com/</a></li><li>Freesound: <a href="https://freesound.org/">https://freesound.org/</a></li><li>æ·˜å£°ç½‘: <a href="https://www.tosound.com/">https://www.tosound.com/</a></li></ul><h3 id="ğŸ’-PDFå…è´¹å·¥å…·"><a href="#ğŸ’-PDFå…è´¹å·¥å…·" class="headerlink" title="ğŸ’ PDFå…è´¹å·¥å…·"></a>ğŸ’ PDFå…è´¹å·¥å…·</h3><ul><li>æœ€å®ç”¨PDFå·¥å…·åŒ…: <a href="https://www.ilovepdf.com/zh-cn">https://www.ilovepdf.com/zh-cn</a></li><li>Light PDF: <a href="https://lightpdf.com/zh/">https://lightpdf.com/zh/</a></li><li>PDFæ ¼å¼è½¬æ¢: <a href="http://app.xunjiepdf.com/">http://app.xunjiepdf.com/</a></li></ul><h3 id="ğŸ‘¨ğŸ”§-ç«™é•¿å·¥å…·æ±‡æ€»"><a href="#ğŸ‘¨ğŸ”§-ç«™é•¿å·¥å…·æ±‡æ€»" class="headerlink" title="ğŸ‘¨ğŸ”§ ç«™é•¿å·¥å…·æ±‡æ€»"></a>ğŸ‘¨ğŸ”§ ç«™é•¿å·¥å…·æ±‡æ€»</h3><ul><li>ç«™é•¿ä¹‹å®¶: <a href="https://tool.chinaz.com/">https://tool.chinaz.com</a></li><li>ç™¾åº¦ç»Ÿè®¡: <a href="https://tongji.baidu.com/">https://tongji.baidu.com</a></li><li>ç½‘ç«™æ’å: <a href="http://www.alexa.cn/">http://www.alexa.cn</a></li><li>å‹ç›Ÿ: <a href="https://www.umeng.com/web">https://www.umeng.com/web</a></li><li>é˜¿é‡Œäº‘ECS: <a href="https://www.aliyun.com/">https://www.aliyun.com/</a></li><li>è…¾è®¯äº‘: <a href="https://curl.qcloud.com/Rqy4Deo2">https://curl.qcloud.com/Rqy4Deo2</a></li><li>åä¸ºäº‘: <a href="https://www.huaweicloud.com/">https://www.huaweicloud.com</a></li><li>æå®¢å¢é•¿: <a href="https://yinliu.club/member/KeywordHot/index">https://yinliu.club/member/KeywordHot/index</a></li><li>äºŒåæ¬¡å¹‚: <a href="https://www.cimidata.com/?refcode=PEyZMk">https://www.cimidata.com/?refcode=PEyZMk</a></li><li>å¤§æ•°æ®å¯¼èˆª: <a href="http://hao.199it.com/">http://hao.199it.com</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>å…¶ä»–</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è½¬è½½</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MySQLä¼˜åŒ–</title>
    <link href="/2022/11/15/MySQL%E4%BC%98%E5%8C%96/"/>
    <url>/2022/11/15/MySQL%E4%BC%98%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æœ‰æƒ…æ€€ï¼Œæœ‰å¹²è´§ï¼Œå¾®ä¿¡æœç´¢ã€<strong>ä¸‰å¤ªå­æ•–ä¸™</strong>ã€‘å…³æ³¨è¿™ä¸ªä¸ä¸€æ ·çš„ç¨‹åºå‘˜ã€‚</p><p>æœ¬æ–‡ <strong>GitHub</strong> <a href="https://link.juejin.cn/?target=https://github.com/AobingJava/JavaFamily" title="https://github.com/AobingJava/JavaFamily">github.com&#x2F;JavaFamily</a> å·²æ”¶å½•ï¼Œæœ‰ä¸€çº¿å¤§å‚é¢è¯•å®Œæ•´è€ƒç‚¹ã€èµ„æ–™ä»¥åŠæˆ‘çš„ç³»åˆ—æ–‡ç« ã€‚<br>åŸæ–‡é“¾æ¥:<a href="https://juejin.cn/post/6895507965899063310#heading-1">https://juejin.cn/post/6895507965899063310#heading-1</a></p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™å¤©æˆ‘æ­£åœ¨åˆä¼‘å‘¢ï¼Œå…¬å¸DBAå°±æŠŠæˆ‘å–Šé†’äº†ï¼Œè¯´æŸåº“å‡ºç°å¤§é‡æ…¢SQLï¼Œå¾ˆå¿«å•Šï¼Œå¾ˆå¿«ï¼Œæˆ‘è¿˜æ²¡ååº”è¿‡æ¥ï¼Œåº“å°±æŒ‚äº†ï¼Œæˆ‘å¿ƒæƒ³ç°åœ¨çš„ç”¨æˆ·ä¸è®²æ­¦å¾·å•Šï¼Œæ€ä¹ˆåœ¨æˆ‘ç¡è§‰çš„æ—¶å€™å¤§é‡è¯·æ±‚å‘¢ã€‚</p><p>è¿™æ˜¯å¾ˆå¸¸è§çš„ä¸€ä¸ªåœºæ™¯å“ˆï¼Œå› ä¸ºå¾ˆå¤šä¸šåŠ¡å¼€å§‹æ•°æ®é‡çº§ä¸å¤§ï¼Œæ‰€ä»¥å†™sqlçš„æ—¶å€™å°±æ²¡æ³¨æ„æ€§èƒ½ï¼Œç­‰é‡çº§ä¸Šå»ï¼Œå¾ˆå¤šä¸šåŠ¡å°±éœ€è¦åšè°ƒä¼˜äº†ï¼Œåœ¨ç”µå•†å…¬å¸å·¥ä½œçš„è¿™å‡ å¹´æˆ‘ä¹Ÿæ€»ç»“äº†ä¸å°‘ï¼Œä¸‹é¢å°±åˆ†äº«ç»™å¤§å®¶å§ã€‚</p><p>åœ¨ä»£ç å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éƒ½ä¼šéµå¾ªä¸€äº›SQLå¼€å‘è§„èŒƒå»ç¼–å†™é«˜è´¨é‡SQLï¼Œæ¥æé«˜æ¥å£çš„Response Time(RT)ï¼Œå¯¹ä¸€äº›æ ¸å¿ƒæ¥å£è¦æ±‚RTåœ¨100msä»¥å†…ç”šè‡³æ›´ä½ã€‚</p><p>ç”±äºä¸šåŠ¡å‰æœŸæ•°æ®é‡æ¯”è¾ƒå°ï¼ŒåŸºæœ¬éƒ½èƒ½æ»¡è¶³è¿™ä¸ªè¦æ±‚ï¼Œä½†éšç€ä¸šåŠ¡é‡çš„å¢é•¿ï¼Œæ•°æ®é‡ä¹Ÿéšä¹‹å¢åŠ ï¼Œå¯¹åº”æ¥å£çš„SQLè€—æ—¶ä¹Ÿåœ¨å˜é•¿ï¼Œç›´æ¥å½±å“äº†ç”¨æˆ·çš„ä½“éªŒï¼Œè¿™æ—¶å€™å°±éœ€è¦å¯¹SQLè¿›è¡Œä¼˜åŒ–ã€‚</p><p>ä¼˜åŒ–ç‚¹ä¸»è¦åŒ…æ‹¬SQLè§„èŒƒæ€§æ£€æŸ¥ï¼Œè¡¨ç»“æ„ç´¢å¼•æ£€æŸ¥ï¼ŒSQLä¼˜åŒ–æ¡ˆä¾‹åˆ†æï¼Œä¸‹é¢ä»è¿™ä¸‰æ–¹é¢ç»“åˆå®é™…æ¡ˆä¾‹èŠèŠå¦‚ä½•ä¼˜åŒ–SQLã€‚</p><h2 id="SQLè§„èŒƒæ€§æ£€æŸ¥"><a href="#SQLè§„èŒƒæ€§æ£€æŸ¥" class="headerlink" title="SQLè§„èŒƒæ€§æ£€æŸ¥"></a>SQLè§„èŒƒæ€§æ£€æŸ¥</h2><p>æ¯ä¸ªå…¬å¸éƒ½æœ‰è‡ªå·±çš„MySQLå¼€å‘è§„èŒƒï¼ŒåŸºæœ¬ä¸Šå¤§åŒå°å¼‚ï¼Œè¿™é‡Œç½—åˆ—ä¸€äº›æ¯”è¾ƒé‡è¦çš„ï¼Œæˆ‘å·¥ä½œæœŸé—´ç»å¸¸æ¥è§¦çš„ç»™å¤§å®¶ã€‚</p><h3 id="selectæ£€æŸ¥"><a href="#selectæ£€æŸ¥" class="headerlink" title="selectæ£€æŸ¥"></a>selectæ£€æŸ¥</h3><p><strong>UDFç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°</strong></p><p>SQLè¯­å¥çš„selectåé¢ä½¿ç”¨äº†è‡ªå®šä¹‰å‡½æ•°UDFï¼ŒSQLè¿”å›å¤šå°‘è¡Œï¼Œé‚£ä¹ˆUDFå‡½æ•°å°±ä¼šè¢«è°ƒç”¨å¤šå°‘æ¬¡ï¼Œè¿™æ˜¯éå¸¸å½±å“æ€§èƒ½çš„ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">#getOrderNoæ˜¯ç”¨æˆ·è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°ç”¨æˆ·æ¥æ ¹æ®order_snæ¥è·å–è®¢å•ç¼–å·select id, payment_id, order_sn, getOrderNo(order_sn) from payment_transaction where status &#x3D; 1 and create_time between &#39;2020-10-01 10:00:00&#39; and &#39;2020-10-02 10:00:00&#39;;</code></pre></div></figure><p><strong>textç±»å‹æ£€æŸ¥</strong></p><p>å¦‚æœselectå‡ºç°textç±»å‹çš„å­—æ®µï¼Œå°±ä¼šæ¶ˆè€—å¤§é‡çš„ç½‘ç»œå’ŒIOå¸¦å®½ï¼Œç”±äºè¿”å›çš„å†…å®¹è¿‡å¤§è¶…è¿‡max_allowed_packetè®¾ç½®ä¼šå¯¼è‡´ç¨‹åºæŠ¥é”™ï¼Œéœ€è¦è¯„ä¼°è°¨æ…ä½¿ç”¨ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">#è¡¨request_logçš„ä¸­contentæ˜¯textç±»å‹ã€‚select user_id, content, status, url, type from request_log where user_id &#x3D; 32121;</code></pre></div></figure><p><strong>group_concatè°¨æ…ä½¿ç”¨</strong></p><p>gorup_concatæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²èšåˆå‡½æ•°ï¼Œä¼šå½±å“SQLçš„å“åº”æ—¶é—´ï¼Œå¦‚æœè¿”å›çš„å€¼è¿‡å¤§è¶…è¿‡äº†max_allowed_packetè®¾ç½®ä¼šå¯¼è‡´ç¨‹åºæŠ¥é”™ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">select batch_id, group_concat(name) from buffer_batch where status &#x3D; 0 and create_time between &#39;2020-10-01 10:00:00&#39; and &#39;2020-10-02 10:00:00&#39;;</code></pre></div></figure><p><strong>å†…è”å­æŸ¥è¯¢</strong></p><p>åœ¨selectåé¢æœ‰å­æŸ¥è¯¢çš„æƒ…å†µç§°ä¸ºå†…è”å­æŸ¥è¯¢ï¼ŒSQLè¿”å›å¤šå°‘è¡Œï¼Œå­æŸ¥è¯¢å°±éœ€è¦æ‰§è¡Œè¿‡å¤šå°‘æ¬¡ï¼Œä¸¥é‡å½±å“SQLæ€§èƒ½ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">select id,(select rule_name from member_rule limit 1) as rule_name, member_id, member_type, member_name, status  from member_info m where status &#x3D; 1 and create_time between &#39;2020-09-02 10:00:00&#39; and &#39;2020-10-01 10:00:00&#39;;</code></pre></div></figure><h3 id="fromæ£€æŸ¥"><a href="#fromæ£€æŸ¥" class="headerlink" title="fromæ£€æŸ¥"></a>fromæ£€æŸ¥</h3><p><strong>è¡¨çš„é“¾æ¥æ–¹å¼</strong></p><p>åœ¨MySQLä¸­ä¸å»ºè®®ä½¿ç”¨Left Joinï¼Œå³ä½¿ONè¿‡æ»¤æ¡ä»¶åˆ—ç´¢å¼•ï¼Œä¸€äº›æƒ…å†µä¹Ÿä¸ä¼šèµ°ç´¢å¼•ï¼Œå¯¼è‡´å¤§é‡çš„æ•°æ®è¡Œè¢«æ‰«æï¼ŒSQLæ€§èƒ½å˜å¾—å¾ˆå·®ï¼ŒåŒæ—¶è¦æ¸…æ¥šONå’ŒWhereçš„åŒºåˆ«ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">SELECT a.member_id,a.create_time,b.active_time FROM operation_log a LEFT JOIN member_info b ON a.member_id &#x3D; b.member_id where  b.&#96;status&#96; &#x3D; 1and a.create_time between &#39;2020-10-01 00:00:00&#39; and &#39;2020-10-30 00:00:00&#39; limit 100, 0;</code></pre></div></figure><p><strong>å­æŸ¥è¯¢</strong></p><p>ç”±äºMySQLçš„åŸºäºæˆæœ¬çš„ä¼˜åŒ–å™¨CBOå¯¹å­æŸ¥è¯¢çš„å¤„ç†èƒ½åŠ›æ¯”è¾ƒå¼±ï¼Œä¸å»ºè®®ä½¿ç”¨å­æŸ¥è¯¢ï¼Œå¯ä»¥æ”¹å†™æˆInner Joinã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">select b.member_id,b.member_type, a.create_time,a.device_model from member_operation_log a inner join (select member_id,member_type from member_base_info where &#96;status&#96; &#x3D; 1and create_time between &#39;2020-10-01 00:00:00&#39; and &#39;2020-10-30 00:00:00&#39;) as b on a.member_id &#x3D; b.member_id;</code></pre></div></figure><h3 id="whereæ£€æŸ¥"><a href="#whereæ£€æŸ¥" class="headerlink" title="whereæ£€æŸ¥"></a>whereæ£€æŸ¥</h3><p><strong>ç´¢å¼•åˆ—è¢«è¿ç®—</strong></p><p>å½“ä¸€ä¸ªå­—æ®µè¢«ç´¢å¼•ï¼ŒåŒæ—¶å‡ºç°whereæ¡ä»¶åé¢ï¼Œæ˜¯ä¸èƒ½è¿›è¡Œä»»ä½•è¿ç®—ï¼Œä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">#device_noåˆ—ä¸Šæœ‰ç´¢å¼•ï¼Œç”±äºä½¿ç”¨äº†ltrimå‡½æ•°å¯¼è‡´ç´¢å¼•å¤±æ•ˆselect id, name , phone, address, device_no from users where ltrim(device_no) &#x3D; &#39;Hfs1212121&#39;;#balanceåˆ—æœ‰ç´¢å¼•,ç”±äºåšäº†è¿ç®—å¯¼è‡´ç´¢å¼•å¤±æ•ˆselect account_no, balance from accounts where balance + 100 &#x3D; 10000 and status &#x3D; 1;</code></pre></div></figure><p><strong>ç±»å‹è½¬æ¢</strong></p><p>å¯¹äºIntç±»å‹çš„å­—æ®µï¼Œä¼ varcharç±»å‹çš„å€¼æ˜¯å¯ä»¥èµ°ç´¢å¼•ï¼ŒMySQLå†…éƒ¨è‡ªåŠ¨åšäº†éšå¼ç±»å‹è½¬æ¢ï¼›ç›¸åå¯¹äºvarcharç±»å‹å­—æ®µä¼ å…¥Intå€¼æ˜¯æ— æ³•èµ°ç´¢å¼•çš„ï¼Œåº”è¯¥åšåˆ°å¯¹åº”çš„å­—æ®µç±»å‹ä¼ å¯¹åº”çš„å€¼æ€»æ˜¯å¯¹çš„ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">#user_idæ˜¯bigintç±»å‹ï¼Œä¼ å…¥varcharå€¼å‘ç”Ÿäº†éšå¼ç±»å‹è½¬æ¢ï¼Œå¯ä»¥èµ°ç´¢å¼•ã€‚select id, name , phone, address, device_no from users where user_id &#x3D; &#39;23126&#39;;#card_noæ˜¯varchar(20)ï¼Œä¼ å…¥intå€¼æ˜¯æ— æ³•èµ°ç´¢å¼•select id, name , phone, address, device_no from users where card_no &#x3D; 2312612121;</code></pre></div></figure><p><strong>åˆ—å­—ç¬¦é›†</strong></p><p>ä»MySQL 5.6å¼€å§‹å»ºè®®æ‰€æœ‰å¯¹è±¡å­—ç¬¦é›†åº”è¯¥ä½¿ç”¨ç”¨utf8mb4ï¼ŒåŒ…æ‹¬MySQLå®ä¾‹å­—ç¬¦é›†ï¼Œæ•°æ®åº“å­—ç¬¦é›†ï¼Œè¡¨å­—ç¬¦é›†ï¼Œåˆ—å­—ç¬¦é›†ã€‚é¿å…åœ¨å…³è”æŸ¥è¯¢Joinæ—¶å­—æ®µå­—ç¬¦é›†ä¸åŒ¹é…å¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼ŒåŒæ—¶ç›®å‰åªæœ‰utf8mb4æ”¯æŒemojiè¡¨æƒ…å­˜å‚¨ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">character_set_server  &#x3D;  utf8mb4    #æ•°æ®åº“å®ä¾‹å­—ç¬¦é›†character_set_connection &#x3D; utf8mb4  #è¿æ¥å­—ç¬¦é›†character_set_database &#x3D; utf8mb4    #æ•°æ®åº“å­—ç¬¦é›†character_set_results &#x3D; utf8mb4     #ç»“æœé›†å­—ç¬¦é›†</code></pre></div></figure><h3 id="group-byæ£€æŸ¥"><a href="#group-byæ£€æŸ¥" class="headerlink" title="group byæ£€æŸ¥"></a>group byæ£€æŸ¥</h3><p><strong>å‰ç¼€ç´¢å¼•</strong></p><p>group byåé¢çš„åˆ—æœ‰ç´¢å¼•ï¼Œç´¢å¼•å¯ä»¥æ¶ˆé™¤æ’åºå¸¦æ¥çš„CPUå¼€é”€ï¼Œå¦‚æœæ˜¯å‰ç¼€ç´¢å¼•ï¼Œæ˜¯ä¸èƒ½æ¶ˆé™¤æ’åºçš„ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">#device_noå­—æ®µç±»å‹varchar(200)ï¼Œåˆ›å»ºäº†å‰ç¼€ç´¢å¼•ã€‚mysql&gt; alter table users add index idx_device_no(device_no(64));mysql&gt; select device_no, count(*) from users where create_time between &#39;2020-10-01 00:00:00&#39; and &#39;2020-10-30 00:00:00&#39; group by device_no;</code></pre></div></figure><p><strong>å‡½æ•°è¿ç®—</strong></p><p>å‡è®¾éœ€è¦ç»Ÿè®¡æŸæœˆæ¯å¤©çš„æ–°å¢ç”¨æˆ·é‡ï¼Œå‚è€ƒå¦‚ä¸‹SQLè¯­å¥ï¼Œè™½ç„¶å¯ä»¥èµ°create_timeçš„ç´¢å¼•ï¼Œä½†æ˜¯ä¸èƒ½æ¶ˆé™¤æ’åºï¼Œå¯ä»¥è€ƒè™‘å†—ä½™ä¸€ä¸ªå­—æ®µstats_date dateç±»å‹æ¥è§£å†³è¿™ç§é—®é¢˜ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">select DATE_FORMAT(create_time, &#39;%Y-%m-%d&#39;), count(*) from users where create_time between &#39;2020-09-01 00:00:00&#39; and &#39;2020-09-30 23:59:59&#39; group by DATE_FORMAT(create_time, &#39;%Y-%m-%d&#39;);</code></pre></div></figure><h3 id="order-byæ£€æŸ¥"><a href="#order-byæ£€æŸ¥" class="headerlink" title="order byæ£€æŸ¥"></a>order byæ£€æŸ¥</h3><p><strong>å‰ç¼€ç´¢å¼•</strong></p><p>order byåé¢çš„åˆ—æœ‰ç´¢å¼•ï¼Œç´¢å¼•å¯ä»¥æ¶ˆé™¤æ’åºå¸¦æ¥çš„CPUå¼€é”€ï¼Œå¦‚æœæ˜¯å‰ç¼€ç´¢å¼•ï¼Œæ˜¯ä¸èƒ½æ¶ˆé™¤æ’åºçš„ã€‚</p><p><strong>å­—æ®µé¡ºåº</strong></p><p>æ’åºå­—æ®µé¡ºåºï¼Œasc&#x2F;descå‡é™è¦è·Ÿç´¢å¼•ä¿æŒä¸€è‡´ï¼Œå……åˆ†åˆ©ç”¨ç´¢å¼•çš„æœ‰åºæ€§æ¥æ¶ˆé™¤æ’åºå¸¦æ¥çš„CPUå¼€é”€ã€‚</p><h3 id="limitæ£€æŸ¥"><a href="#limitæ£€æŸ¥" class="headerlink" title="limitæ£€æŸ¥"></a>limitæ£€æŸ¥</h3><p><strong>limit m,nè¦æ…é‡</strong></p><p>å¯¹äºlimit m, nåˆ†é¡µæŸ¥è¯¢ï¼Œè¶Šå¾€åé¢ç¿»é¡µå³mè¶Šå¤§çš„æƒ…å†µä¸‹SQLçš„è€—æ—¶ä¼šè¶Šæ¥è¶Šé•¿ï¼Œå¯¹äºè¿™ç§åº”è¯¥å…ˆå–å‡ºä¸»é”®idï¼Œç„¶åé€šè¿‡ä¸»é”®idè·ŸåŸè¡¨è¿›è¡ŒJoinå…³è”æŸ¥è¯¢ã€‚</p><h2 id="è¡¨ç»“æ„æ£€æŸ¥"><a href="#è¡¨ç»“æ„æ£€æŸ¥" class="headerlink" title="è¡¨ç»“æ„æ£€æŸ¥"></a>è¡¨ç»“æ„æ£€æŸ¥</h2><h3 id="è¡¨-amp-åˆ—åå…³é”®å­—"><a href="#è¡¨-amp-åˆ—åå…³é”®å­—" class="headerlink" title="è¡¨&amp;åˆ—åå…³é”®å­—"></a>è¡¨&amp;åˆ—åå…³é”®å­—</h3><p>åœ¨æ•°æ®åº“è®¾è®¡å»ºæ¨¡é˜¶æ®µï¼Œå¯¹è¡¨ååŠå­—æ®µåè®¾ç½®è¦åˆç†ï¼Œä¸èƒ½ä½¿ç”¨MySQLçš„å…³é”®å­—ï¼Œå¦‚desc, order, status, groupç­‰ã€‚åŒæ—¶å»ºè®®è®¾ç½®lower_case_table_names &#x3D; 1è¡¨åä¸åŒºåˆ†å¤§å°å†™ã€‚</p><h3 id="è¡¨å­˜å‚¨å¼•æ“"><a href="#è¡¨å­˜å‚¨å¼•æ“" class="headerlink" title="è¡¨å­˜å‚¨å¼•æ“"></a>è¡¨å­˜å‚¨å¼•æ“</h3><p>å¯¹äºOLTPä¸šåŠ¡ç³»ç»Ÿï¼Œå»ºè®®ä½¿ç”¨InnoDBå¼•æ“è·å–æ›´å¥½çš„æ€§èƒ½ï¼Œå¯ä»¥é€šè¿‡å‚æ•°default_storage_engineæ§åˆ¶ã€‚</p><h3 id="AUTO-INCREMENTå±æ€§"><a href="#AUTO-INCREMENTå±æ€§" class="headerlink" title="AUTO_INCREMENTå±æ€§"></a>AUTO_INCREMENTå±æ€§</h3><p>å»ºè¡¨çš„æ—¶å€™ä¸»é”®idå¸¦æœ‰AUTO_INCREMENTå±æ€§ï¼Œè€Œä¸”AUTO_INCREMENT&#x3D;1ï¼Œåœ¨InnoDBå†…éƒ¨æ˜¯é€šè¿‡ä¸€ä¸ªç³»ç»Ÿå…¨å±€å˜é‡dict_sys.row_idæ¥è®¡æ•°ï¼Œrow_idæ˜¯ä¸€ä¸ª8å­—èŠ‚çš„bigint unsignedï¼ŒInnoDBåœ¨è®¾è®¡æ—¶åªç»™row_idä¿ç•™äº†6ä¸ªå­—èŠ‚çš„é•¿åº¦ï¼Œè¿™æ ·row_idå–å€¼èŒƒå›´å°±æ˜¯0åˆ°2^48 - 1ï¼Œå¦‚æœidçš„å€¼è¾¾åˆ°äº†æœ€å¤§å€¼ï¼Œä¸‹ä¸€ä¸ªå€¼å°±ä»0å¼€å§‹ç»§ç»­å¾ªç¯é€’å¢ï¼Œåœ¨ä»£ç ä¸­ç¦æ­¢æŒ‡å®šä¸»é”®idå€¼æ’å…¥ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">#æ–°æ’å…¥çš„idå€¼ä¼šä»10001å¼€å§‹ï¼Œè¿™æ˜¯ä¸å¯¹çš„ï¼Œåº”è¯¥ä»1å¼€å§‹ã€‚create table booking( &#96;id&#96; bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;ä¸»é”®id&#39;,......) engine &#x3D; InnoDB auto_increment &#x3D; 10000;#æŒ‡å®šäº†idå€¼æ’å…¥ï¼Œåç»­è‡ªå¢å°±ä¼šä»è¯¥å€¼å¼€å§‹+1ï¼Œç´¢å¼•ç¦æ­¢æŒ‡å®šidå€¼æ’å…¥ã€‚insert into booking(id, book_sn) values(1234551121, &#39;N12121&#39;);</code></pre></div></figure><h3 id="NOT-NULLå±æ€§"><a href="#NOT-NULLå±æ€§" class="headerlink" title="NOT NULLå±æ€§"></a>NOT NULLå±æ€§</h3><p>æ ¹æ®ä¸šåŠ¡å«ä¹‰ï¼Œå°½é‡å°†å­—æ®µéƒ½æ·»åŠ ä¸ŠNOT NULL DEFAULT VALUEå±æ€§ï¼Œå¦‚æœåˆ—å€¼å­˜å‚¨äº†å¤§é‡çš„NULLï¼Œä¼šå½±å“ç´¢å¼•çš„ç¨³å®šæ€§ã€‚</p><h3 id="DEFAULTå±æ€§"><a href="#DEFAULTå±æ€§" class="headerlink" title="DEFAULTå±æ€§"></a>DEFAULTå±æ€§</h3><p>åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œå»ºè®®æ¯ä¸ªå­—æ®µå°½é‡éƒ½æœ‰é»˜è®¤å€¼ï¼Œç¦æ­¢DEFAULT NULLï¼Œè€Œæ˜¯å¯¹å­—æ®µç±»å‹å¡«å……å“åº”çš„é»˜è®¤å€¼ã€‚</p><h3 id="COMMENTå±æ€§"><a href="#COMMENTå±æ€§" class="headerlink" title="COMMENTå±æ€§"></a>COMMENTå±æ€§</h3><p>å­—æ®µçš„å¤‡æ³¨è¦èƒ½æ˜ç¡®è¯¥å­—æ®µçš„ä½œç”¨ï¼Œå°¤å…¶æ˜¯æŸäº›è¡¨ç¤ºçŠ¶æ€çš„å­—æ®µï¼Œè¦æ˜¾å¼çš„å†™å‡ºè¯¥å­—æ®µæ‰€æœ‰å¯èƒ½çš„çŠ¶æ€æ•°å€¼ä»¥åŠè¯¥æ•°å€¼çš„å«ä¹‰ã€‚</p><h3 id="TEXTç±»å‹"><a href="#TEXTç±»å‹" class="headerlink" title="TEXTç±»å‹"></a>TEXTç±»å‹</h3><p>ä¸å»ºè®®ä½¿ç”¨Textæ•°æ®ç±»å‹ï¼Œä¸€æ–¹é¢ç”±äºä¼ è¾“å¤§é‡çš„æ•°æ®åŒ…å¯èƒ½ä¼šè¶…è¿‡max_allowed_packetè®¾ç½®å¯¼è‡´ç¨‹åºæŠ¥é”™ï¼Œå¦ä¸€æ–¹é¢è¡¨ä¸Šçš„DMLæ“ä½œéƒ½ä¼šå˜çš„å¾ˆæ…¢ï¼Œå»ºè®®é‡‡ç”¨esæˆ–è€…å¯¹è±¡å­˜å‚¨OSSæ¥å­˜å‚¨å’Œæ£€ç´¢ã€‚</p><h2 id="ç´¢å¼•æ£€æŸ¥"><a href="#ç´¢å¼•æ£€æŸ¥" class="headerlink" title="ç´¢å¼•æ£€æŸ¥"></a>ç´¢å¼•æ£€æŸ¥</h2><h3 id="ç´¢å¼•å±æ€§"><a href="#ç´¢å¼•å±æ€§" class="headerlink" title="ç´¢å¼•å±æ€§"></a>ç´¢å¼•å±æ€§</h3><p>ç´¢å¼•åŸºæ•°æŒ‡çš„æ˜¯è¢«ç´¢å¼•çš„åˆ—å”¯ä¸€å€¼çš„ä¸ªæ•°ï¼Œå”¯ä¸€å€¼è¶Šå¤šæ¥è¿‘è¡¨çš„count(*)è¯´æ˜ç´¢å¼•çš„é€‰æ‹©ç‡è¶Šé«˜ï¼Œé€šè¿‡ç´¢å¼•æ‰«æçš„è¡Œæ•°å°±è¶Šå°‘ï¼Œæ€§èƒ½å°±è¶Šé«˜ï¼Œä¾‹å¦‚ä¸»é”®idçš„é€‰æ‹©ç‡æ˜¯100%ï¼Œåœ¨MySQLä¸­å°½é‡æ‰€æœ‰çš„updateéƒ½ä½¿ç”¨ä¸»é”®idå»æ›´æ–°ï¼Œå› ä¸ºidæ˜¯èšé›†ç´¢å¼•å­˜å‚¨ç€æ•´è¡Œæ•°æ®ï¼Œä¸éœ€è¦å›è¡¨ï¼Œæ€§èƒ½æ˜¯æœ€é«˜çš„ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">mysql&gt; select count(*) from member_info;+----------+| count(*) |+----------+|   148416 |+----------+1 row in set (0.35 sec)mysql&gt; show index from member_base_info;+------------------+------------+----------------------------+--------------+-------------------+-----------+-------------+----------+--------+------+------------+---------+---------------+| Table            | Non_unique | Key_name                   | Seq_in_index | Column_name       | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |+------------------+------------+----------------------------+--------------+-------------------+-----------+-------------+----------+--------+------+------------+---------+---------------+| member_info |          0 | PRIMARY                    |            1 | id                | A         |      131088 | NULL     | NULL   |      | BTREE      |         |               || member_info |          0 | uk_member_id               |            1 | member_id         | A         |      131824 | NULL     | NULL   |      | BTREE      |         |               || member_info |          1 | idx_create_time            |            1 | create_time       | A         |        6770 | NULL     | NULL   |      | BTREE      |         |               |+------------------+------------+----------------------------+--------------+-------------------+-----------+-------------+----------+--------+------+------------+---------+---------------+#Tableï¼š è¡¨å#Non_unique ï¼šæ˜¯å¦ä¸ºunique indexï¼Œ0-æ˜¯ï¼Œ1-å¦ã€‚#Key_nameï¼šç´¢å¼•åç§°#Seq_in_indexï¼šç´¢å¼•ä¸­çš„é¡ºåºå·ï¼Œå•åˆ—ç´¢å¼•-éƒ½æ˜¯1ï¼›å¤åˆç´¢å¼•-æ ¹æ®ç´¢å¼•åˆ—çš„é¡ºåºä»1å¼€å§‹é€’å¢ã€‚#Column_nameï¼šç´¢å¼•çš„åˆ—å#Collationï¼šæ’åºé¡ºåºï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šasc&#x2F;descï¼Œé»˜è®¤éƒ½æ˜¯å‡åºASCã€‚#Cardinalityï¼šç´¢å¼•åŸºæ•°-ç´¢å¼•åˆ—å”¯ä¸€å€¼çš„ä¸ªæ•°ã€‚#sub_partï¼šå‰ç¼€ç´¢å¼•çš„é•¿åº¦ï¼›ä¾‹å¦‚index (member_name(10)ï¼Œé•¿åº¦å°±æ˜¯10ã€‚#Packedï¼šç´¢å¼•çš„ç»„ç»‡æ–¹å¼ï¼Œé»˜è®¤æ˜¯NULLã€‚#Nullï¼šYES:ç´¢å¼•åˆ—åŒ…å«Nullå€¼ï¼›&#39;&#39;:ç´¢å¼•ä¸åŒ…å«Nullå€¼ã€‚#Index_typeï¼šé»˜è®¤æ˜¯BTREEï¼Œå…¶ä»–çš„å€¼FULLTEXTï¼ŒHASHï¼ŒRTREEã€‚#Commentï¼šåœ¨ç´¢å¼•åˆ—ä¸­æ²¡æœ‰è¢«æè¿°çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ç´¢å¼•è¢«ç¦ç”¨ã€‚#Index_commentï¼šåˆ›å»ºç´¢å¼•æ—¶çš„å¤‡æ³¨ã€‚</code></pre></div></figure><h3 id="å‰ç¼€ç´¢å¼•"><a href="#å‰ç¼€ç´¢å¼•" class="headerlink" title="å‰ç¼€ç´¢å¼•"></a>å‰ç¼€ç´¢å¼•</h3><p>å¯¹äºå˜é•¿å­—ç¬¦ä¸²ç±»å‹varchar(m)ï¼Œä¸ºäº†å‡å°‘key_lenï¼Œå¯ä»¥è€ƒè™‘åˆ›å»ºå‰ç¼€ç´¢å¼•ï¼Œä½†æ˜¯å‰ç¼€ç´¢å¼•ä¸èƒ½æ¶ˆé™¤group byï¼Œ order byå¸¦æ¥æ’åºå¼€é”€ã€‚å¦‚æœå­—æ®µçš„å®é™…æœ€å¤§å€¼æ¯”må°å¾ˆå¤šï¼Œå»ºè®®ç¼©å°å­—æ®µé•¿åº¦ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">alter table member_info add index idx_member_name_part(member_name(10));</code></pre></div></figure><h3 id="å¤åˆç´¢å¼•é¡ºåº"><a href="#å¤åˆç´¢å¼•é¡ºåº" class="headerlink" title="å¤åˆç´¢å¼•é¡ºåº"></a>å¤åˆç´¢å¼•é¡ºåº</h3><p>æœ‰å¾ˆå¤šäººå–œæ¬¢åœ¨åˆ›å»ºå¤åˆç´¢å¼•çš„æ—¶å€™ï¼Œæ€»ä»¥ä¸ºå‰å¯¼åˆ—ä¸€å®šæ˜¯å”¯ä¸€å€¼å¤šçš„åˆ—ï¼Œä¾‹å¦‚ç´¢å¼•index idx_create_time_status(create_time, status)ï¼Œè¿™ä¸ªç´¢å¼•å¾€å¾€æ˜¯æ— æ³•å‘½ä¸­ï¼Œå› ä¸ºæ‰«æçš„IOæ¬¡æ•°å¤ªå¤šï¼Œæ€»ä½“çš„costçš„æ¯”å…¨è¡¨æ‰«æè¿˜å¤§ï¼ŒCBOæœ€ç»ˆçš„é€‰æ‹©æ˜¯èµ°full table scanã€‚</p><p>MySQLéµå¾ªçš„æ˜¯ç´¢å¼•æœ€å·¦åŒ¹é…åŸåˆ™ï¼Œå¯¹äºå¤åˆç´¢å¼•ï¼Œä»å·¦åˆ°å³ä¾æ¬¡æ‰«æç´¢å¼•åˆ—ï¼Œåˆ°é‡åˆ°ç¬¬ä¸€ä¸ªèŒƒå›´æŸ¥è¯¢ï¼ˆ&gt;&#x3D;, &gt;,&lt;, &lt;&#x3D;, between â€¦.. and â€¦.ï¼‰å°±åœæ­¢æ‰«æï¼Œç´¢å¼•æ­£ç¡®çš„ç´¢å¼•é¡ºåºåº”è¯¥æ˜¯index idx_status_create_time(status, create_time)ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">select account_no, balance from accounts where status &#x3D; 1 and create_time between &#39;2020-09-01 00:00:00&#39; and &#39;2020-09-30 23:59:59&#39;;</code></pre></div></figure><h3 id="æ—¶é—´åˆ—ç´¢å¼•"><a href="#æ—¶é—´åˆ—ç´¢å¼•" class="headerlink" title="æ—¶é—´åˆ—ç´¢å¼•"></a>æ—¶é—´åˆ—ç´¢å¼•</h3><p>å¯¹äºé»˜è®¤å­—æ®µcreated_at(create_time)ã€updated_at(update_time)è¿™ç§é»˜è®¤å°±åº”è¯¥åˆ›å»ºç´¢å¼•ï¼Œè¿™ä¸€èˆ¬æ¥è¯´æ˜¯é»˜è®¤çš„è§„åˆ™ã€‚</p><h2 id="SQLä¼˜åŒ–æ¡ˆä¾‹"><a href="#SQLä¼˜åŒ–æ¡ˆä¾‹" class="headerlink" title="SQLä¼˜åŒ–æ¡ˆä¾‹"></a>SQLä¼˜åŒ–æ¡ˆä¾‹</h2><p>é€šè¿‡å¯¹æ…¢æŸ¥è¯¢çš„ç›‘æ§å‘Šè­¦ï¼Œç»å¸¸å‘ç°ä¸€äº›SQLè¯­å¥whereè¿‡æ»¤å­—æ®µéƒ½æœ‰ç´¢å¼•ï¼Œä½†æ˜¯ç”±äºSQLå†™æ³•çš„é—®é¢˜å¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œä¸‹é¢äºŒä¸ªæ¡ˆä¾‹å‘Šè¯‰å¤§å®¶å¦‚ä½•é€šè¿‡SQLæ”¹å†™æ¥æŸ¥è¯¢ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹SQLæ¥æå–æœ€è¿‘5åˆ†é’Ÿçš„æ…¢æŸ¥è¯¢è¿›è¡Œå‘Šè­¦ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">select CONCAT( &#39;# Time: &#39;, DATE_FORMAT(start_time, &#39;%y%m%d %H%i%s&#39;), &#39;\n&#39;, &#39;# User@Host: &#39;, user_host, &#39;\n&#39;, &#39;# Query_time: &#39;, TIME_TO_SEC(query_time),  &#39;  Lock_time: &#39;, TIME_TO_SEC(lock_time), &#39;  Rows_sent: &#39;, rows_sent, &#39;  Rows_examined: &#39;, rows_examined, &#39;\n&#39;, sql_text, &#39;;&#39; ) FROM mysql.slow_log where start_time between current_timestamp and date_add(CURRENT_TIMESTAMP,INTERVAL -5 MINUTE);</code></pre></div></figure><h3 id="æ…¢æŸ¥è¯¢SQL"><a href="#æ…¢æŸ¥è¯¢SQL" class="headerlink" title="æ…¢æŸ¥è¯¢SQL"></a>æ…¢æŸ¥è¯¢SQL</h3><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">| 2020-10-02 19:17:23 | w_mini_user[w_mini_user] @  [10.200.20.11] | 00:00:02   | 00:00:00  |         9 |        443117 | mini_user |              0 |         0 | 168387936 | select id,club_id,reason,status,type,created_time,invite_id,falg_admin,file_id from t_user_msg where 1 and (team_id in (3212) and app_id is not null) or (invite_id&#x3D;12395 or applicant_id&#x3D;12395) order by created_time desc limit 0,10; | 1219921665 |</code></pre></div></figure><p>ä»æ…¢æŸ¥è¯¢slow_logå¯ä»¥çœ‹åˆ°ï¼Œæ‰§è¡Œæ—¶é—´2sï¼Œæ‰«æäº†443117è¡Œï¼Œåªè¿”å›äº†9è¡Œï¼Œè¿™æ˜¯ä¸åˆç†çš„ã€‚</p><h3 id="SQLåˆ†æ"><a href="#SQLåˆ†æ" class="headerlink" title="SQLåˆ†æ"></a>SQLåˆ†æ</h3><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">#åŸå§‹SQLï¼Œé¢‘ç¹è®¿é—®çš„æ¥å£ï¼Œç›®å‰æ‰§è¡Œæ—¶é—´2sã€‚select id,team_id,reason,status,type,created_time,invite_id,falg_admin,file_id from t_user_msg where 1 and (team_id in (3212) and app_id is not null) or (invite_id&#x3D;12395 or app_id&#x3D;12395) order by created_time desc limit 0,10;#æ‰§è¡Œè®¡åˆ’+----+-------------+--------------+-------+---------------------------------+------------+---------+------+------+-------------+| id | select_type | table        | type  | possible_keys                   | key        | key_len | ref  | rows | Extra       |+----+-------------+--------------+-------+---------------------------------+------------+---------+------+------+-------------+|  1 | SIMPLE      | t_user_msg | index | invite_id,app_id,team_id | created_time | 5       | NULL |   10 | Using where |+----+-------------+--------------+-------+---------------------------------+------------+---------+------+------+-------------+1 row in set (0.00 sec)</code></pre></div></figure><p>ä»æ‰§è¡Œè®¡åˆ’å¯ä»¥çœ‹åˆ°ï¼Œè¡¨ä¸Šæœ‰å•åˆ—ç´¢å¼•invite_id,app_id,team_id,created_timeï¼Œèµ°çš„æ˜¯create_timeçš„ç´¢å¼•ï¼Œè€Œä¸”type&#x3D;indexç´¢å¼•å…¨æ‰«æï¼Œå› ä¸ºcreate_timeæ²¡æœ‰å‡ºç°åœ¨whereæ¡ä»¶åï¼Œåªå‡ºç°åœ¨order byåé¢ï¼Œåªèƒ½æ˜¯type&#x3D;indexï¼Œè¿™ä¹Ÿé¢„ç¤ºç€è¡¨æ•°æ®é‡è¶Šå¤§è¯¥SQLè¶Šæ…¢ï¼Œæˆ‘ä»¬æœŸæœ›æ˜¯èµ°ä¸‰ä¸ªå•åˆ—ç´¢å¼•invite_idï¼Œapp_idï¼Œteam_idï¼Œç„¶åtype&#x3D;index_mergeæ“ä½œã€‚</p><p>æŒ‰ç…§å¸¸è§„æ€è·¯ï¼Œå¯¹äºORæ¡ä»¶æ‹†åˆ†ä¸¤éƒ¨åˆ†ï¼Œåˆ†åˆ«è¿›è¡Œåˆ†æã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">select id, â€¦â€¦. from t_user_msg where 1 and  **(team_id in (3212) and app_id is not null)** order by created_time desc limit 0,10;</code></pre></div></figure><p>ä»æ‰§è¡Œè®¡åˆ’çœ‹èµ°çš„æ˜¯team_idçš„ç´¢å¼•ï¼Œæ²¡æœ‰é—®é¢˜ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">| id | select_type | table        | type | possible_keys        | key     | key_len | ref   | rows | Extra                       |+----+-------------+--------------+------+----------------------+---------+---------+-------+------+-----------------------------+|  1 | SIMPLE      | t_user_msg | ref  | app_id,team_id | team_id | 8       | const |   30 | Using where; Using filesort |</code></pre></div></figure><p>å†çœ‹å¦å¤–ä¸€ä¸ªsqlè¯­å¥ï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">select id, â€¦â€¦. from t_user_msg where 1 and  **(invite_id&#x3D;12395 or app_id&#x3D;12395)** order by created_time desc limit 0,10;</code></pre></div></figure><p>ä»æ‰§è¡Œè®¡åˆ’ä¸Šçœ‹ï¼Œåˆ†åˆ«èµ°çš„æ˜¯invite_id,app_idçš„å•åˆ—ç´¢å¼•ï¼ŒåŒæ—¶åšäº†index_mergeåˆå¹¶æ“ä½œï¼Œä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">| id | select_type | table        | type        | possible_keys           | key                     | key_len | ref  | rows | Extra                                                             |+----+-------------+--------------+-------------+-------------------------+-------------------------+---------+------+------+-------------------------------------------------------------------+|  1 | SIMPLE      | t_user_msg | index_merge | invite_id,app_id | invite_id,app_id | 9,9     | NULL |    2 | Using union(invite_id,app_id); Using where; Using filesort |</code></pre></div></figure><p><strong>é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œç¬¬ä¸€éƒ¨åˆ†SQLèµ°çš„æ‰§è¡Œè®¡åˆ’èµ°team_idç´¢å¼•æ²¡é—®é¢˜ï¼Œç¬¬äºŒéƒ¨åˆ†SQLåˆ†åˆ«èµ°invite_id,app_idç´¢å¼•å¹¶ä¸”index_mergeä¹Ÿæ²¡é—®é¢˜ï¼Œä¸ºä»€ä¹ˆä¸¤éƒ¨åˆ†SQLè¿›è¡ŒORå…³è”ä¹‹åèµ°create_timeçš„å•åˆ—ç´¢å¼•å‘¢ï¼Œä¸åº”è¯¥æ˜¯ä¸‰ä¸ªå•åˆ—ç´¢å¼•çš„index_mergeå—ï¼Ÿ</strong></p><p><strong>index_mergeé»˜è®¤æ˜¯åœ¨ä¼˜åŒ–å™¨é€‰é¡¹æ˜¯å¼€å¯çš„ï¼Œä¸»è¦æ˜¯å°†å¤šä¸ªèŒƒå›´æ‰«æçš„ç»“æœé›†åˆå¹¶æˆä¸€ä¸ªï¼Œå¯ä»¥é€šè¿‡å˜é‡æŸ¥çœ‹ã€‚</strong></p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">mysql &gt;select @@optimizer_switch;| index_merge&#x3D;on,index_merge_union&#x3D;on,index_merge_sort_union&#x3D;on,index_merge_intersection&#x3D;on,</code></pre></div></figure><p>å…¶ä»–ä¸‰ä¸ªå­—æ®µéƒ½ä¼ å…¥çš„æ˜¯å…·ä½“çš„å€¼ï¼Œè€Œä¸”éƒ½èµ°äº†ç›¸åº”çš„ç´¢å¼•ï¼Œåªèƒ½æ€€ç–‘app_id is not nullè¿™ä¸ªæ¡ä»¶å½±å“äº†CBOå¯¹æœ€ç»ˆæ‰§è¡Œè®¡åˆ’çš„é€‰æ‹©ï¼Œå»æ‰è¿™ä¸ªæ¡ä»¶æ¥çœ‹æ‰§è¡Œè®¡åˆ’ï¼Œç«Ÿç„¶èµ°äº†ä¸‰ä¸ªå•åˆ—ç´¢å¼•ä¸”type&#x3D;index_mergeï¼Œé‚£ä¸‹é¢åªè¦æå®š<strong>app_id is not null</strong>è¿™ä¸ªæ¡ä»¶å°±OKäº†å§ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">| id | select_type | table        | type        | possible_keys                   | key                             | key_len | ref  | rows | Extra                                                                     |+----+-------------+--------------+-------------+---------------------------------+---------------------------------+---------+------+------+---------------------------------------------------------------------------+|  1 | SIMPLE      | t_user_msg | index_merge | invite_id,app_id,teadm_id | team_id,invite_id,app_id | 8,9,9   | NULL |   32 | Using union(team_id,invite_id,app_id); Using where; Using filesort |</code></pre></div></figure><h3 id="SQLæ”¹å†™"><a href="#SQLæ”¹å†™" class="headerlink" title="SQLæ”¹å†™"></a>SQLæ”¹å†™</h3><p>é€šè¿‡ä¸Šé¢åˆ†æå¾—çŸ¥ï¼Œæ¡ä»¶app_id is not nullå½±å“äº†CBOçš„é€‰æ‹©ï¼Œä¸‹é¢è¿›è¡Œæ”¹é€ ã€‚</p><p><strong>æ”¹å†™ä¼˜åŒ–1</strong></p><p>æ ¹æ®SQLå¼€å‘è§„èŒƒæ”¹å†™ï¼Œå°†ORæ”¹å†™æˆUnion Allæ–¹å¼å³å¯ï¼Œæœ€ç»ˆçš„SQLå¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">select id, â€¦â€¦. from (select id, â€¦â€¦. from t_user_msg where **1 and (club_id in (5821) and applicant_id is not null)**        **union all** select id, â€¦â€¦. from t_user_msg where **1 and invitee_id&#x3D;&#39;146737&#39;**        **union all** select id, â€¦â€¦. from  t_user_msg where **1 and app_id&#x3D;&#39;146737&#39;**       ) as a order by created_time desc limit 0,10;</code></pre></div></figure><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒJavaä»£ç å’ŒSQLæ˜¯åˆ†å¼€çš„ï¼ŒSQLæ˜¯é…ç½®åœ¨xmlæ–‡ä»¶ä¸­ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œé™¤äº†team_idæ˜¯å¿…å¡«ï¼Œå…¶ä»–ä¸¤ä¸ªéƒ½æ˜¯å¯é€‰çš„ï¼Œæ‰€ä»¥è¿™ç§æ”¹å†™è™½ç„¶èƒ½æé«˜SQLæ‰§è¡Œæ•ˆç‡ï¼Œä½†ä¸é€‚åˆè¿™ç§ä¸šåŠ¡åœºæ™¯ã€‚</p><p><strong>æ”¹å†™ä¼˜åŒ–2</strong></p><p>app_id is not null æ”¹å†™ä¸º**IFNULL(app_id, 0) &gt;0)**ï¼Œæœ€ç»ˆçš„SQLä¸ºï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">select id,team_id,reason,status,type,created_time,invite_id,falg_admin,file_id from t_user_msg where 1 and (team_id in (3212) and **IFNULL(app_id, 0) &gt;0)**) or (invite_id&#x3D;12395 or app_id&#x3D;12395) order by created_time desc limit 0,10;</code></pre></div></figure><p><strong>æ”¹å†™ä¼˜åŒ–3</strong></p><p>å°†å­—æ®µapp_id bigint(20) DEFAULT NULLï¼Œå˜æ›´ä¸ºapp_id bigint(20) <strong>NOT NULL DEFAULT 0</strong>ï¼ŒåŒæ—¶æ›´æ–°å°†app_id is nullçš„æ—¶å€™å…¨éƒ¨æ›´æ–°æˆ0ï¼Œå°±å¯ä»¥å°†æ¡ä»¶app_id is not null è½¬æ¢ä¸ºapp_id &gt; 0ï¼Œæœ€ç»ˆçš„SQLä¸ºï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">select id,team_id,reason,status,type,created_at,invite_id,falg_admin,file_id from t_user_msg where 1 and (team_id in (3212) and **app_id &gt; 0)**) or (invite_id&#x3D;12395 or app_id&#x3D;12395) order by created_time desc limit 0,10;</code></pre></div></figure><p>ä»æ‰§è¡Œè®¡åˆ’çœ‹ï¼Œä¸¤ç§æ”¹å†™ä¼˜åŒ–æ–¹å¼éƒ½èµ°ä¸‰ä¸ªå•åˆ—ç´¢å¼•ï¼Œæ‰§è¡Œæ—¶é—´ä»2sé™ä½è‡³10msï¼Œçº¿ä¸Šé‡‡ç”¨çš„æ˜¯<strong>ä¼˜åŒ–1</strong>çš„æ–¹å¼ï¼Œå¦‚æœä¸€å¼€å§‹èƒ½éµå¾ªMySQLå¼€å‘è§„èŒƒå°±å°±ä¼šé¿å…é—®é¢˜çš„å‘ç”Ÿã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä¸Šé¢ä»‹ç»äº†SQLè§„èŒƒæ€§æ£€æŸ¥ï¼Œè¡¨ç»“æ„æ£€æŸ¥ï¼Œç´¢å¼•æ£€æŸ¥ä»¥åŠé€šè¿‡SQLæ”¹å†™æ¥ä¼˜åŒ–æŸ¥è¯¢ï¼Œåœ¨ç¼–å†™ä»£ç çš„è¿‡ç¨‹ï¼Œå¦‚æœèƒ½æå‰åšè¿™äº›è§„èŒƒæ€§æ£€æŸ¥ï¼Œè¯„ä¼°å‡ºè‡ªå·±è®¤ä¸ºç†æƒ³çš„æ‰§è¡Œè®¡åˆ’ï¼Œç„¶åé€šè¿‡explainè§£æå‡ºMySQL CBOçš„æ‰§è¡Œè®¡åˆ’ï¼Œä¸¤è€…åšå¯¹æ¯”åˆ†æå·®å¼‚ï¼Œå¼„æ¸…æ¥šè‡ªå·±çš„é€‰æ‹©å’ŒCBOçš„ä¸åŒï¼Œä¸ä½†èƒ½å¤Ÿç¼–å†™é«˜è´¨é‡çš„SQLï¼ŒåŒæ—¶ä¹Ÿèƒ½æ¸…æ¥šCBOçš„å·¥ä½œåŸç†ã€‚</p><blockquote><p>æ–‡ç« æŒç»­æ›´æ–°ï¼Œå¯ä»¥å¾®ä¿¡æœä¸€æœã€Œ <strong>ä¸‰å¤ªå­æ•–ä¸™</strong> ã€ç¬¬ä¸€æ—¶é—´é˜…è¯»ï¼Œå›å¤ã€<strong>èµ„æ–™</strong>ã€‘æœ‰æˆ‘å‡†å¤‡çš„ä¸€çº¿å¤§å‚é¢è¯•èµ„æ–™å’Œç®€å†æ¨¡æ¿ï¼Œæœ¬æ–‡ <strong>GitHub</strong> <a href="https://link.juejin.cn/?target=https://github.com/AobingJava/JavaFamily" title="https://github.com/AobingJava/JavaFamily">github.com&#x2F;JavaFamily</a> å·²ç»æ”¶å½•ï¼Œæœ‰å¤§å‚é¢è¯•å®Œæ•´è€ƒç‚¹ï¼Œæ¬¢è¿Starã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åˆ†æ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è½¬è½½</tag>
      
      <tag>SQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythoné«˜çº§å†…å®¹</title>
    <link href="/2022/11/15/Python%E9%AB%98%E7%BA%A7%E7%9F%A5%E8%AF%86/"/>
    <url>/2022/11/15/Python%E9%AB%98%E7%BA%A7%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ‘˜è‡ªå»–é›ªå³°è€å¸ˆpythonæ•™ç¨‹ï¼š<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017451662295584">https://www.liaoxuefeng.com/wiki/1016959663602400/1017451662295584</a><br>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.bilibili.com/video/BV1Vv411x7hj/?p=1&amp;vd_source=356ed72c41c85a755e40d7f41bb5e733">https://www.bilibili.com/video/BV1Vv411x7hj/?p=1&amp;vd_source=356ed72c41c85a755e40d7f41bb5e733</a></p></blockquote><h2 id="å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°"><a href="#å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°"></a>å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°</h2><p>å¯å˜å‚æ•°<br>å‚æ•°ä¸ªæ•°ä¸ç¡®å®šï¼Œæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°å¯ä»¥æŠŠaï¼Œbï¼Œcâ€¦â€¦ä½œä¸ºä¸€ä¸ªlistæˆ–tupleä¼ è¿›æ¥ï¼Œè¿™æ ·ï¼Œå‡½æ•°å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token operator">*</span>numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> n <span class="token keyword">in</span> numbers<span class="token punctuation">:</span>        <span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token builtin">sum</span> <span class="token operator">+</span> n <span class="token operator">*</span> n    <span class="token keyword">return</span> <span class="token builtin">sum</span></code></pre></div></figure><p>å…³é”®å­—å‚æ•°<br>å¯å˜å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªtupleã€‚è€Œå…³é”®å­—å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªdictã€‚</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name:'</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">'age:'</span><span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token string">'other:'</span><span class="token punctuation">,</span> kw<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> person<span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> city<span class="token operator">=</span><span class="token string">'Beijing'</span><span class="token punctuation">)</span>name<span class="token punctuation">:</span> Bob age<span class="token punctuation">:</span> <span class="token number">35</span> other<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token string">'city'</span><span class="token punctuation">:</span> <span class="token string">'Beijing'</span><span class="token punctuation">&#125;</span><span class="token operator">>></span><span class="token operator">></span> person<span class="token punctuation">(</span><span class="token string">'Adam'</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> gender<span class="token operator">=</span><span class="token string">'M'</span><span class="token punctuation">,</span> job<span class="token operator">=</span><span class="token string">'Engineer'</span><span class="token punctuation">)</span>name<span class="token punctuation">:</span> Adam age<span class="token punctuation">:</span> <span class="token number">45</span> other<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token string">'gender'</span><span class="token punctuation">:</span> <span class="token string">'M'</span><span class="token punctuation">,</span> <span class="token string">'job'</span><span class="token punctuation">:</span> <span class="token string">'Engineer'</span><span class="token punctuation">&#125;</span></code></pre></div></figure><h2 id="é€’å½’å‡½æ•°"><a href="#é€’å½’å‡½æ•°" class="headerlink" title="é€’å½’å‡½æ•°"></a>é€’å½’å‡½æ•°</h2><p>åœ¨å‡½æ•°å†…éƒ¨ï¼Œå¯ä»¥è°ƒç”¨å…¶ä»–å‡½æ•°ã€‚å¦‚æœä¸€ä¸ªå‡½æ•°åœ¨å†…éƒ¨è°ƒç”¨è‡ªèº«æœ¬èº«ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯é€’å½’å‡½æ•°ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æ¥è®¡ç®—é˜¶ä¹˜n! &#x3D; 1 x 2 x 3 x â€¦ x nï¼Œç”¨å‡½æ•°fact(n)è¡¨ç¤ºï¼Œå¯ä»¥çœ‹å‡ºï¼š</p><p>fact(n)=n!=1Ã—2Ã—3Ã—â‹…â‹…â‹…Ã—(nâˆ’1)Ã—n=(nâˆ’1)!Ã—n=fact(nâˆ’1)Ã—nfact(n)&#x3D;n!&#x3D;1\times2\times3\times\cdot\cdot\cdot\times(n-1)\times n&#x3D;(n-1)!\times n&#x3D;fact(n-1)\times n</p><p>æ‰€ä»¥ï¼Œfact(n)å¯ä»¥è¡¨ç¤ºä¸ºn x fact(n-1)ï¼Œåªæœ‰n&#x3D;1æ—¶éœ€è¦ç‰¹æ®Šå¤„ç†ã€‚</p><p>äºæ˜¯ï¼Œfact(n)ç”¨é€’å½’çš„æ–¹å¼å†™å‡ºæ¥å°±æ˜¯ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">fact</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token number">1</span>    <span class="token keyword">return</span> n <span class="token operator">*</span> fact<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span></code></pre></div></figure><h2 id="åˆ—è¡¨ç”Ÿæˆå¼"><a href="#åˆ—è¡¨ç”Ÿæˆå¼" class="headerlink" title="åˆ—è¡¨ç”Ÿæˆå¼"></a>åˆ—è¡¨ç”Ÿæˆå¼</h2><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span></code></pre></div></figure><p>å†™åˆ—è¡¨ç”Ÿæˆå¼æ—¶ï¼ŒæŠŠè¦ç”Ÿæˆçš„å…ƒç´ x * xæ”¾åˆ°å‰é¢ï¼Œåé¢è·Ÿforå¾ªç¯ï¼Œå°±å¯ä»¥æŠŠliståˆ›å»ºå‡ºæ¥ï¼Œååˆ†æœ‰ç”¨ï¼Œå¤šå†™å‡ æ¬¡ï¼Œå¾ˆå¿«å°±å¯ä»¥ç†Ÿæ‚‰è¿™ç§è¯­æ³•ã€‚</p><p>forå¾ªç¯åé¢è¿˜å¯ä»¥åŠ ä¸Šifåˆ¤æ–­ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç­›é€‰å‡ºä»…å¶æ•°çš„å¹³æ–¹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span></code></pre></div></figure><p>è¿˜å¯ä»¥ä½¿ç”¨ä¸¤å±‚å¾ªç¯ï¼Œå¯ä»¥ç”Ÿæˆå…¨æ’åˆ—ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span>m <span class="token operator">+</span> n <span class="token keyword">for</span> m <span class="token keyword">in</span> <span class="token string">'ABC'</span> <span class="token keyword">for</span> n <span class="token keyword">in</span> <span class="token string">'XYZ'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'AX'</span><span class="token punctuation">,</span> <span class="token string">'AY'</span><span class="token punctuation">,</span> <span class="token string">'AZ'</span><span class="token punctuation">,</span> <span class="token string">'BX'</span><span class="token punctuation">,</span> <span class="token string">'BY'</span><span class="token punctuation">,</span> <span class="token string">'BZ'</span><span class="token punctuation">,</span> <span class="token string">'CX'</span><span class="token punctuation">,</span> <span class="token string">'CY'</span><span class="token punctuation">,</span> <span class="token string">'CZ'</span><span class="token punctuation">]</span></code></pre></div></figure><p>ä¸‰å±‚å’Œä¸‰å±‚ä»¥ä¸Šçš„å¾ªç¯å°±å¾ˆå°‘ç”¨åˆ°äº†ã€‚</p><h2 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h2><p>åªè¦æŠŠä¸€ä¸ªåˆ—è¡¨ç”Ÿæˆå¼çš„[]æ”¹æˆ()ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªgeneratorï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> L <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> L<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> g<span class="token operator">&lt;</span>generator <span class="token builtin">object</span> <span class="token operator">&lt;</span>genexpr<span class="token operator">></span> at <span class="token number">0x1022ef630</span><span class="token operator">></span></code></pre></div></figure><p>å¯ä»¥é€šè¿‡next()å‡½æ•°è·å¾—generatorçš„ä¸‹ä¸€ä¸ªè¿”å›å€¼ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token number">0</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token number">1</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token number">4</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token number">9</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token number">16</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token number">25</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token number">36</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token number">49</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token number">64</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token number">81</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"&lt;stdin>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>StopIteration</code></pre></div></figure><p>generatorä¿å­˜çš„æ˜¯ç®—æ³•ï¼Œæ¯æ¬¡è°ƒç”¨next(g)ï¼Œå°±è®¡ç®—å‡ºgçš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œç›´åˆ°è®¡ç®—åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæ²¡æœ‰æ›´å¤šçš„å…ƒç´ æ—¶ï¼ŒæŠ›å‡ºStopIterationçš„é”™è¯¯ã€‚</p><p>å½“ç„¶ï¼Œä¸Šé¢è¿™ç§ä¸æ–­è°ƒç”¨next(g)å®åœ¨æ˜¯å¤ªå˜æ€äº†ï¼Œæ­£ç¡®çš„æ–¹æ³•æ˜¯ä½¿ç”¨forå¾ªç¯ï¼Œå› ä¸ºgeneratorä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡ï¼š</p><figure><div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token operator">>>></span> g <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x in <span class="token function">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>>></span> <span class="token keyword">for</span> n in g<span class="token operator">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token function">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">0</span><span class="token number">1</span><span class="token number">4</span><span class="token number">9</span><span class="token number">16</span><span class="token number">25</span><span class="token number">36</span><span class="token number">49</span><span class="token number">64</span><span class="token number">81</span></code></pre></div></figure><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªgeneratoråï¼ŒåŸºæœ¬ä¸Šæ°¸è¿œä¸ä¼šè°ƒç”¨next()ï¼Œè€Œæ˜¯é€šè¿‡forå¾ªç¯æ¥è¿­ä»£å®ƒï¼Œå¹¶ä¸”ä¸éœ€è¦å…³å¿ƒStopIterationçš„é”™è¯¯ã€‚</p><h2 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h2><p>æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå¯ä»¥ç›´æ¥ä½œç”¨äº<code>for</code>å¾ªç¯çš„æ•°æ®ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><p>ä¸€ç±»æ˜¯é›†åˆæ•°æ®ç±»å‹ï¼Œå¦‚<code>list</code>ã€<code>tuple</code>ã€<code>dict</code>ã€<code>set</code>ã€<code>str</code>ç­‰ï¼›</p><p>ä¸€ç±»æ˜¯<code>generator</code>ï¼ŒåŒ…æ‹¬ç”Ÿæˆå™¨å’Œå¸¦<code>yield</code>çš„generator functionã€‚</p><p>è¿™äº›å¯ä»¥ç›´æ¥ä½œç”¨äº<code>for</code>å¾ªç¯çš„å¯¹è±¡ç»Ÿç§°ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼š<code>Iterable</code>ã€‚</p><p>å¯ä»¥ä½¿ç”¨<code>isinstance()</code>åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯<code>Iterable</code>å¯¹è±¡ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> collections<span class="token punctuation">.</span>abc <span class="token keyword">import</span> Iterable<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token boolean">False</span></code></pre></div></figure><p>è€Œç”Ÿæˆå™¨ä¸ä½†å¯ä»¥ä½œç”¨äº<code>for</code>å¾ªç¯ï¼Œè¿˜å¯ä»¥è¢«<code>next()</code>å‡½æ•°ä¸æ–­è°ƒç”¨å¹¶è¿”å›ä¸‹ä¸€ä¸ªå€¼ï¼Œç›´åˆ°æœ€åæŠ›å‡º<code>StopIteration</code>é”™è¯¯è¡¨ç¤ºæ— æ³•ç»§ç»­è¿”å›ä¸‹ä¸€ä¸ªå€¼äº†ã€‚</p><p>å¯ä»¥è¢«<code>next()</code>å‡½æ•°è°ƒç”¨å¹¶ä¸æ–­è¿”å›ä¸‹ä¸€ä¸ªå€¼çš„å¯¹è±¡ç§°ä¸ºè¿­ä»£å™¨ï¼š<code>Iterator</code>ã€‚</p><p>å¯ä»¥ä½¿ç”¨<code>isinstance()</code>åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯<code>Iterator</code>å¯¹è±¡ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> collections<span class="token punctuation">.</span>abc <span class="token keyword">import</span> Iterator<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token boolean">False</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token boolean">False</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token boolean">False</span></code></pre></div></figure><p>ç”Ÿæˆå™¨éƒ½æ˜¯<code>Iterator</code>å¯¹è±¡ï¼Œä½†<code>list</code>ã€<code>dict</code>ã€<code>str</code>è™½ç„¶æ˜¯<code>Iterable</code>ï¼Œå´ä¸æ˜¯<code>Iterator</code>ã€‚</p><p>æŠŠ<code>list</code>ã€<code>dict</code>ã€<code>str</code>ç­‰<code>Iterable</code>å˜æˆ<code>Iterator</code>å¯ä»¥ä½¿ç”¨<code>iter()</code>å‡½æ•°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token boolean">True</span></code></pre></div></figure><p>ä½ å¯èƒ½ä¼šé—®ï¼Œä¸ºä»€ä¹ˆ<code>list</code>ã€<code>dict</code>ã€<code>str</code>ç­‰æ•°æ®ç±»å‹ä¸æ˜¯<code>Iterator</code>ï¼Ÿ</p><p>è¿™æ˜¯å› ä¸ºPythonçš„<code>Iterator</code>å¯¹è±¡è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ•°æ®æµï¼ŒIteratorå¯¹è±¡å¯ä»¥è¢«<code>next()</code>å‡½æ•°è°ƒç”¨å¹¶ä¸æ–­è¿”å›ä¸‹ä¸€ä¸ªæ•°æ®ï¼Œç›´åˆ°æ²¡æœ‰æ•°æ®æ—¶æŠ›å‡º<code>StopIteration</code>é”™è¯¯ã€‚å¯ä»¥æŠŠè¿™ä¸ªæ•°æ®æµçœ‹åšæ˜¯ä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œä½†æˆ‘ä»¬å´ä¸èƒ½æå‰çŸ¥é“åºåˆ—çš„é•¿åº¦ï¼Œåªèƒ½ä¸æ–­é€šè¿‡<code>next()</code>å‡½æ•°å®ç°æŒ‰éœ€è®¡ç®—ä¸‹ä¸€ä¸ªæ•°æ®ï¼Œæ‰€ä»¥<code>Iterator</code>çš„è®¡ç®—æ˜¯æƒ°æ€§çš„ï¼Œåªæœ‰åœ¨éœ€è¦è¿”å›ä¸‹ä¸€ä¸ªæ•°æ®æ—¶å®ƒæ‰ä¼šè®¡ç®—ã€‚</p><p><code>Iterator</code>ç”šè‡³å¯ä»¥è¡¨ç¤ºä¸€ä¸ªæ— é™å¤§çš„æ•°æ®æµï¼Œä¾‹å¦‚å…¨ä½“è‡ªç„¶æ•°ã€‚è€Œä½¿ç”¨listæ˜¯æ°¸è¿œä¸å¯èƒ½å­˜å‚¨å…¨ä½“è‡ªç„¶æ•°çš„ã€‚</p><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>å‡¡æ˜¯å¯ä½œç”¨äº<code>for</code>å¾ªç¯çš„å¯¹è±¡éƒ½æ˜¯<code>Iterable</code>ç±»å‹ï¼›</p><p>å‡¡æ˜¯å¯ä½œç”¨äº<code>next()</code>å‡½æ•°çš„å¯¹è±¡éƒ½æ˜¯<code>Iterator</code>ç±»å‹ï¼Œå®ƒä»¬è¡¨ç¤ºä¸€ä¸ªæƒ°æ€§è®¡ç®—çš„åºåˆ—ï¼›</p><p>é›†åˆæ•°æ®ç±»å‹å¦‚<code>list</code>ã€<code>dict</code>ã€<code>str</code>ç­‰æ˜¯<code>Iterable</code>ä½†ä¸æ˜¯<code>Iterator</code>ï¼Œä¸è¿‡å¯ä»¥é€šè¿‡<code>iter()</code>å‡½æ•°è·å¾—ä¸€ä¸ª<code>Iterator</code>å¯¹è±¡ã€‚</p><p>Pythonçš„<code>for</code>å¾ªç¯æœ¬è´¨ä¸Šå°±æ˜¯é€šè¿‡ä¸æ–­è°ƒç”¨<code>next()</code>å‡½æ•°å®ç°çš„ï¼Œä¾‹å¦‚ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span></code></pre></div></figure><p>å®é™…ä¸Šå®Œå…¨ç­‰ä»·äºï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># é¦–å…ˆè·å¾—Iteratorå¯¹è±¡:</span>it <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># å¾ªç¯:</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        <span class="token comment"># è·å¾—ä¸‹ä¸€ä¸ªå€¼:</span>        x <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span>    <span class="token keyword">except</span> StopIteration<span class="token punctuation">:</span>        <span class="token comment"># é‡åˆ°StopIterationå°±é€€å‡ºå¾ªç¯</span>        <span class="token keyword">break</span></code></pre></div></figure><h3 id="å‚è€ƒæºç "><a href="#å‚è€ƒæºç " class="headerlink" title="å‚è€ƒæºç "></a>å‚è€ƒæºç </h3><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/advance/do_iter.py">do_iter.py</a></p><h2 id="é«˜çº§å‡½æ•°-map"><a href="#é«˜çº§å‡½æ•°-map" class="headerlink" title="é«˜çº§å‡½æ•°-map"></a>é«˜çº§å‡½æ•°-map</h2><p>Pythonå†…å»ºäº†<code>map()</code>å’Œ<code>reduce()</code>å‡½æ•°ã€‚</p><p>å¦‚æœä½ è¯»è¿‡Googleçš„é‚£ç¯‡å¤§åé¼é¼çš„è®ºæ–‡â€œ<a href="http://research.google.com/archive/mapreduce.html">MapReduce: Simplified Data Processing on Large Clusters</a>â€ï¼Œä½ å°±èƒ½å¤§æ¦‚æ˜ç™½map&#x2F;reduceçš„æ¦‚å¿µã€‚</p><p>æˆ‘ä»¬å…ˆçœ‹mapã€‚<code>map()</code>å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯<code>Iterable</code>ï¼Œ<code>map</code>å°†ä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨åˆ°åºåˆ—çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶æŠŠç»“æœä½œä¸ºæ–°çš„<code>Iterator</code>è¿”å›ã€‚</p><p>ä¸¾ä¾‹è¯´æ˜ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°f(x)&#x3D;x<sup>2</sup>ï¼Œè¦æŠŠè¿™ä¸ªå‡½æ•°ä½œç”¨åœ¨ä¸€ä¸ªlist <code>[1, 2, 3, 4, 5, 6, 7, 8, 9]</code>ä¸Šï¼Œå°±å¯ä»¥ç”¨<code>map()</code>å®ç°å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">            f<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> x <span class="token operator">*</span> x                  â”‚                  â”‚  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¼â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”  â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚  â–¼   â–¼   â–¼   â–¼   â–¼   â–¼   â–¼   â–¼   â–¼<span class="token punctuation">[</span> <span class="token number">1</span>   <span class="token number">2</span>   <span class="token number">3</span>   <span class="token number">4</span>   <span class="token number">5</span>   <span class="token number">6</span>   <span class="token number">7</span>   <span class="token number">8</span>   <span class="token number">9</span> <span class="token punctuation">]</span>  â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚  â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚  â–¼   â–¼   â–¼   â–¼   â–¼   â–¼   â–¼   â–¼   â–¼<span class="token punctuation">[</span> <span class="token number">1</span>   <span class="token number">4</span>   <span class="token number">9</span>  <span class="token number">16</span>  <span class="token number">25</span>  <span class="token number">36</span>  <span class="token number">49</span>  <span class="token number">64</span>  <span class="token number">81</span> <span class="token punctuation">]</span></code></pre></div></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬ç”¨Pythonä»£ç å®ç°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> r <span class="token operator">=</span> <span class="token builtin">map</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">list</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">]</span></code></pre></div></figure><p><code>map()</code>ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>f</code>ï¼Œå³å‡½æ•°å¯¹è±¡æœ¬èº«ã€‚ç”±äºç»“æœ<code>r</code>æ˜¯ä¸€ä¸ª<code>Iterator</code>ï¼Œ<code>Iterator</code>æ˜¯æƒ°æ€§åºåˆ—ï¼Œå› æ­¤é€šè¿‡<code>list()</code>å‡½æ•°è®©å®ƒæŠŠæ•´ä¸ªåºåˆ—éƒ½è®¡ç®—å‡ºæ¥å¹¶è¿”å›ä¸€ä¸ªlistã€‚</p><p>ä½ å¯èƒ½ä¼šæƒ³ï¼Œä¸éœ€è¦<code>map()</code>å‡½æ•°ï¼Œå†™ä¸€ä¸ªå¾ªç¯ï¼Œä¹Ÿå¯ä»¥è®¡ç®—å‡ºç»“æœï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> n <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    L<span class="token punctuation">.</span>append<span class="token punctuation">(</span>f<span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span></code></pre></div></figure><p>çš„ç¡®å¯ä»¥ï¼Œä½†æ˜¯ï¼Œä»ä¸Šé¢çš„å¾ªç¯ä»£ç ï¼Œèƒ½ä¸€çœ¼çœ‹æ˜ç™½â€œæŠŠf(x)ä½œç”¨åœ¨listçš„æ¯ä¸€ä¸ªå…ƒç´ å¹¶æŠŠç»“æœç”Ÿæˆä¸€ä¸ªæ–°çš„listâ€å—ï¼Ÿ</p><p>æ‰€ä»¥ï¼Œ<code>map()</code>ä½œä¸ºé«˜é˜¶å‡½æ•°ï¼Œäº‹å®ä¸Šå®ƒæŠŠè¿ç®—è§„åˆ™æŠ½è±¡äº†ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¸ä½†å¯ä»¥è®¡ç®—ç®€å•çš„f(x)&#x3D;x<sup>2</sup>ï¼Œè¿˜å¯ä»¥è®¡ç®—ä»»æ„å¤æ‚çš„å‡½æ•°ï¼Œæ¯”å¦‚ï¼ŒæŠŠè¿™ä¸ªlistæ‰€æœ‰æ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">]</span></code></pre></div></figure><p>åªéœ€è¦ä¸€è¡Œä»£ç ã€‚</p><p>å†çœ‹<code>reduce</code>çš„ç”¨æ³•ã€‚<code>reduce</code>æŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åœ¨ä¸€ä¸ªåºåˆ—<code>[x1, x2, x3, ...]</code>ä¸Šï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œ<code>reduce</code>æŠŠç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—ï¼Œå…¶æ•ˆæœå°±æ˜¯ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token builtin">reduce</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">[</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> x3<span class="token punctuation">,</span> x4<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> f<span class="token punctuation">(</span>f<span class="token punctuation">(</span>f<span class="token punctuation">(</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">)</span><span class="token punctuation">,</span> x3<span class="token punctuation">)</span><span class="token punctuation">,</span> x4<span class="token punctuation">)</span></code></pre></div></figure><p>æ¯”æ–¹è¯´å¯¹ä¸€ä¸ªåºåˆ—æ±‚å’Œï¼Œå°±å¯ä»¥ç”¨<code>reduce</code>å®ç°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">reduce</span><span class="token punctuation">(</span>add<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token number">25</span></code></pre></div></figure><p>å½“ç„¶æ±‚å’Œè¿ç®—å¯ä»¥ç›´æ¥ç”¨Pythonå†…å»ºå‡½æ•°<code>sum()</code>ï¼Œæ²¡å¿…è¦åŠ¨ç”¨<code>reduce</code>ã€‚</p><p>ä½†æ˜¯å¦‚æœè¦æŠŠåºåˆ—<code>[1, 3, 5, 7, 9]</code>å˜æ¢æˆæ•´æ•°<code>13579</code>ï¼Œ<code>reduce</code>å°±å¯ä»¥æ´¾ä¸Šç”¨åœºï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">return</span> x <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> y<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">reduce</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token number">13579</span></code></pre></div></figure><p>è¿™ä¸ªä¾‹å­æœ¬èº«æ²¡å¤šå¤§ç”¨å¤„ï¼Œä½†æ˜¯ï¼Œå¦‚æœè€ƒè™‘åˆ°å­—ç¬¦ä¸²<code>str</code>ä¹Ÿæ˜¯ä¸€ä¸ªåºåˆ—ï¼Œå¯¹ä¸Šé¢çš„ä¾‹å­ç¨åŠ æ”¹åŠ¨ï¼Œé…åˆ<code>map()</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºæŠŠ<code>str</code>è½¬æ¢ä¸º<code>int</code>çš„å‡½æ•°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">return</span> x <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> y<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">char2num</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     digits <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'0'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">return</span> digits<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">reduce</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token builtin">map</span><span class="token punctuation">(</span>char2num<span class="token punctuation">,</span> <span class="token string">'13579'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">13579</span></code></pre></div></figure><p>æ•´ç†æˆä¸€ä¸ª<code>str2int</code>çš„å‡½æ•°å°±æ˜¯ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span>DIGITS <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'0'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token keyword">def</span> <span class="token function">str2int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> x <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> y    <span class="token keyword">def</span> <span class="token function">char2num</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> DIGITS<span class="token punctuation">[</span>s<span class="token punctuation">]</span>    <span class="token keyword">return</span> <span class="token builtin">reduce</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token builtin">map</span><span class="token punctuation">(</span>char2num<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><p>è¿˜å¯ä»¥ç”¨lambdaå‡½æ•°è¿›ä¸€æ­¥ç®€åŒ–æˆï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span>DIGITS <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'0'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token keyword">def</span> <span class="token function">char2num</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> DIGITS<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">str2int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token builtin">reduce</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> y<span class="token punctuation">,</span> <span class="token builtin">map</span><span class="token punctuation">(</span>char2num<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡è®¾Pythonæ²¡æœ‰æä¾›<code>int()</code>å‡½æ•°ï¼Œä½ å®Œå…¨å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªæŠŠå­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•´æ•°çš„å‡½æ•°ï¼Œè€Œä¸”åªéœ€è¦å‡ è¡Œä»£ç ï¼</p><p>lambdaå‡½æ•°çš„ç”¨æ³•åœ¨åé¢ä»‹ç»ã€‚</p><h3 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>åˆ©ç”¨<code>map()</code>å‡½æ•°ï¼ŒæŠŠç”¨æˆ·è¾“å…¥çš„ä¸è§„èŒƒçš„è‹±æ–‡åå­—ï¼Œå˜ä¸ºé¦–å­—æ¯å¤§å†™ï¼Œå…¶ä»–å°å†™çš„è§„èŒƒåå­—ã€‚è¾“å…¥ï¼š<code>[&#39;adam&#39;, &#39;LISA&#39;, &#39;barT&#39;]</code>ï¼Œè¾“å‡ºï¼š<code>[&#39;Adam&#39;, &#39;Lisa&#39;, &#39;Bart&#39;]</code>ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># æµ‹è¯•:</span>L1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'adam'</span><span class="token punctuation">,</span> <span class="token string">'LISA'</span><span class="token punctuation">,</span> <span class="token string">'barT'</span><span class="token punctuation">]</span>L2 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span>normalize<span class="token punctuation">,</span> L1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>L2<span class="token punctuation">)</span></code></pre></div></figure><p>Pythonæä¾›çš„<code>sum()</code>å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªlistå¹¶æ±‚å’Œï¼Œè¯·ç¼–å†™ä¸€ä¸ª<code>prod()</code>å‡½æ•°ï¼Œå¯ä»¥æ¥å—ä¸€ä¸ªlistå¹¶åˆ©ç”¨<code>reduce()</code>æ±‚ç§¯ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span><span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'3 * 5 * 7 * 9 ='</span><span class="token punctuation">,</span> prod<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> prod<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">945</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•æˆåŠŸ!'</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•å¤±è´¥!'</span><span class="token punctuation">)</span></code></pre></div></figure><p>åˆ©ç”¨<code>map</code>å’Œ<code>reduce</code>ç¼–å†™ä¸€ä¸ª<code>str2float</code>å‡½æ•°ï¼ŒæŠŠå­—ç¬¦ä¸²<code>&#39;123.456&#39;</code>è½¬æ¢æˆæµ®ç‚¹æ•°<code>123.456</code>ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span><span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span><span class="token keyword">def</span> <span class="token function">str2float</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'str2float(\'123.456\') ='</span><span class="token punctuation">,</span> str2float<span class="token punctuation">(</span><span class="token string">'123.456'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>str2float<span class="token punctuation">(</span><span class="token string">'123.456'</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">123.456</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0.00001</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•æˆåŠŸ!'</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•å¤±è´¥!'</span><span class="token punctuation">)</span></code></pre></div></figure><h3 id="å‚è€ƒä»£ç "><a href="#å‚è€ƒä»£ç " class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h3><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/functional/do_map.py">do_map.py</a></p><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/functional/do_reduce.py">do_reduce.py</a></p><h2 id="è¿”å›å‡½æ•°"><a href="#è¿”å›å‡½æ•°" class="headerlink" title="è¿”å›å‡½æ•°"></a>è¿”å›å‡½æ•°</h2><h3 id="å‡½æ•°ä½œä¸ºè¿”å›å€¼"><a href="#å‡½æ•°ä½œä¸ºè¿”å›å€¼" class="headerlink" title="å‡½æ•°ä½œä¸ºè¿”å›å€¼"></a>å‡½æ•°ä½œä¸ºè¿”å›å€¼</h3><p>é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æœå€¼è¿”å›ã€‚</p><p>æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªå¯å˜å‚æ•°çš„æ±‚å’Œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ±‚å’Œçš„å‡½æ•°æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">calc_sum</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>    ax <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> n <span class="token keyword">in</span> args<span class="token punctuation">:</span>        ax <span class="token operator">=</span> ax <span class="token operator">+</span> n    <span class="token keyword">return</span> ax</code></pre></div></figure><p>ä½†æ˜¯ï¼Œå¦‚æœä¸éœ€è¦ç«‹åˆ»æ±‚å’Œï¼Œè€Œæ˜¯åœ¨åé¢çš„ä»£ç ä¸­ï¼Œæ ¹æ®éœ€è¦å†è®¡ç®—æ€ä¹ˆåŠï¼Ÿå¯ä»¥ä¸è¿”å›æ±‚å’Œçš„ç»“æœï¼Œè€Œæ˜¯è¿”å›æ±‚å’Œçš„å‡½æ•°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">lazy_sum</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        ax <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> n <span class="token keyword">in</span> args<span class="token punctuation">:</span>            ax <span class="token operator">=</span> ax <span class="token operator">+</span> n        <span class="token keyword">return</span> ax    <span class="token keyword">return</span> <span class="token builtin">sum</span></code></pre></div></figure><p>å½“æˆ‘ä»¬è°ƒç”¨<code>lazy_sum()</code>æ—¶ï¼Œè¿”å›çš„å¹¶ä¸æ˜¯æ±‚å’Œç»“æœï¼Œè€Œæ˜¯æ±‚å’Œå‡½æ•°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> f <span class="token operator">=</span> lazy_sum<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> f<span class="token operator">&lt;</span>function lazy_sum<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token builtin">locals</span><span class="token operator">></span><span class="token punctuation">.</span><span class="token builtin">sum</span> at <span class="token number">0x101c6ed90</span><span class="token operator">></span></code></pre></div></figure><p>è°ƒç”¨å‡½æ•°<code>f</code>æ—¶ï¼Œæ‰çœŸæ­£è®¡ç®—æ±‚å’Œçš„ç»“æœï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">25</span></code></pre></div></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°<code>lazy_sum</code>ä¸­åˆå®šä¹‰äº†å‡½æ•°<code>sum</code>ï¼Œå¹¶ä¸”ï¼Œå†…éƒ¨å‡½æ•°<code>sum</code>å¯ä»¥å¼•ç”¨å¤–éƒ¨å‡½æ•°<code>lazy_sum</code>çš„å‚æ•°å’Œå±€éƒ¨å˜é‡ï¼Œå½“<code>lazy_sum</code>è¿”å›å‡½æ•°<code>sum</code>æ—¶ï¼Œç›¸å…³å‚æ•°å’Œå˜é‡éƒ½ä¿å­˜åœ¨è¿”å›çš„å‡½æ•°ä¸­ï¼Œè¿™ç§ç§°ä¸ºâ€œé—­åŒ…ï¼ˆClosureï¼‰â€çš„ç¨‹åºç»“æ„æ‹¥æœ‰æå¤§çš„å¨åŠ›ã€‚</p><p>è¯·å†æ³¨æ„ä¸€ç‚¹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨<code>lazy_sum()</code>æ—¶ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå³ä½¿ä¼ å…¥ç›¸åŒçš„å‚æ•°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> f1 <span class="token operator">=</span> lazy_sum<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> f2 <span class="token operator">=</span> lazy_sum<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> f1<span class="token operator">==</span>f2<span class="token boolean">False</span></code></pre></div></figure><p><code>f1()</code>å’Œ<code>f2()</code>çš„è°ƒç”¨ç»“æœäº’ä¸å½±å“ã€‚</p><h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><p>æ³¨æ„åˆ°è¿”å›çš„å‡½æ•°åœ¨å…¶å®šä¹‰å†…éƒ¨å¼•ç”¨äº†å±€éƒ¨å˜é‡<code>args</code>ï¼Œæ‰€ä»¥ï¼Œå½“ä¸€ä¸ªå‡½æ•°è¿”å›äº†ä¸€ä¸ªå‡½æ•°åï¼Œå…¶å†…éƒ¨çš„å±€éƒ¨å˜é‡è¿˜è¢«æ–°å‡½æ•°å¼•ç”¨ï¼Œæ‰€ä»¥ï¼Œé—­åŒ…ç”¨èµ·æ¥ç®€å•ï¼Œå®ç°èµ·æ¥å¯ä¸å®¹æ˜“ã€‚</p><p>å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„é—®é¢˜æ˜¯ï¼Œè¿”å›çš„å‡½æ•°å¹¶æ²¡æœ‰ç«‹åˆ»æ‰§è¡Œï¼Œè€Œæ˜¯ç›´åˆ°è°ƒç”¨äº†<code>f()</code>æ‰æ‰§è¡Œã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    fs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>             <span class="token keyword">return</span> i<span class="token operator">*</span>i        fs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>f<span class="token punctuation">)</span>    <span class="token keyword">return</span> fsf1<span class="token punctuation">,</span> f2<span class="token punctuation">,</span> f3 <span class="token operator">=</span> count<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ¯æ¬¡å¾ªç¯ï¼Œéƒ½åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œç„¶åï¼ŒæŠŠåˆ›å»ºçš„3ä¸ªå‡½æ•°éƒ½è¿”å›äº†ã€‚</p><p>ä½ å¯èƒ½è®¤ä¸ºè°ƒç”¨<code>f1()</code>ï¼Œ<code>f2()</code>å’Œ<code>f3()</code>ç»“æœåº”è¯¥æ˜¯<code>1</code>ï¼Œ<code>4</code>ï¼Œ<code>9</code>ï¼Œä½†å®é™…ç»“æœæ˜¯ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> f1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">9</span><span class="token operator">>></span><span class="token operator">></span> f2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">9</span><span class="token operator">>></span><span class="token operator">></span> f3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">9</span></code></pre></div></figure><p>å…¨éƒ¨éƒ½æ˜¯<code>9</code>ï¼åŸå› å°±åœ¨äºè¿”å›çš„å‡½æ•°å¼•ç”¨äº†å˜é‡<code>i</code>ï¼Œä½†å®ƒå¹¶éç«‹åˆ»æ‰§è¡Œã€‚ç­‰åˆ°3ä¸ªå‡½æ•°éƒ½è¿”å›æ—¶ï¼Œå®ƒä»¬æ‰€å¼•ç”¨çš„å˜é‡<code>i</code>å·²ç»å˜æˆäº†<code>3</code>ï¼Œå› æ­¤æœ€ç»ˆç»“æœä¸º<code>9</code>ã€‚</p><p>è¿”å›é—­åŒ…æ—¶ç‰¢è®°ä¸€ç‚¹ï¼šè¿”å›å‡½æ•°ä¸è¦å¼•ç”¨ä»»ä½•å¾ªç¯å˜é‡ï¼Œæˆ–è€…åç»­ä¼šå‘ç”Ÿå˜åŒ–çš„å˜é‡ã€‚</p><p>å¦‚æœä¸€å®šè¦å¼•ç”¨å¾ªç¯å˜é‡æ€ä¹ˆåŠï¼Ÿæ–¹æ³•æ˜¯å†åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œç”¨è¯¥å‡½æ•°çš„å‚æ•°ç»‘å®šå¾ªç¯å˜é‡å½“å‰çš„å€¼ï¼Œæ— è®ºè¯¥å¾ªç¯å˜é‡åç»­å¦‚ä½•æ›´æ”¹ï¼Œå·²ç»‘å®šåˆ°å‡½æ•°å‚æ•°çš„å€¼ä¸å˜ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> j<span class="token operator">*</span>j        <span class="token keyword">return</span> g    fs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        fs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>f<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># f(i)ç«‹åˆ»è¢«æ‰§è¡Œï¼Œå› æ­¤içš„å½“å‰å€¼è¢«ä¼ å…¥f()</span>    <span class="token keyword">return</span> fs</code></pre></div></figure><p>å†çœ‹çœ‹ç»“æœï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> f1<span class="token punctuation">,</span> f2<span class="token punctuation">,</span> f3 <span class="token operator">=</span> count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> f1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">1</span><span class="token operator">>></span><span class="token operator">></span> f2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">4</span><span class="token operator">>></span><span class="token operator">></span> f3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">9</span></code></pre></div></figure><p>ç¼ºç‚¹æ˜¯ä»£ç è¾ƒé•¿ï¼Œå¯åˆ©ç”¨lambdaå‡½æ•°ç¼©çŸ­ä»£ç ã€‚</p><h3 id="nonlocal"><a href="#nonlocal" class="headerlink" title="nonlocal"></a>nonlocal</h3><p>ä½¿ç”¨é—­åŒ…ï¼Œå°±æ˜¯å†…å±‚å‡½æ•°å¼•ç”¨äº†å¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚å¦‚æœåªæ˜¯è¯»å¤–å±‚å˜é‡çš„å€¼ï¼Œæˆ‘ä»¬ä¼šå‘ç°è¿”å›çš„é—­åŒ…å‡½æ•°è°ƒç”¨ä¸€åˆ‡æ­£å¸¸ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    x <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ä»…è¯»å–xçš„å€¼:</span>        <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">1</span>    <span class="token keyword">return</span> fnf <span class="token operator">=</span> inc<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 1</span><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 1</span></code></pre></div></figure><p>ä½†æ˜¯ï¼Œå¦‚æœå¯¹å¤–å±‚å˜é‡èµ‹å€¼ï¼Œç”±äºPythonè§£é‡Šå™¨ä¼šæŠŠ<code>x</code>å½“ä½œå‡½æ•°<code>fn()</code>çš„å±€éƒ¨å˜é‡ï¼Œå®ƒä¼šæŠ¥é”™ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span></code></pre></div></figure><p>åŸå› æ˜¯<code>x</code>ä½œä¸ºå±€éƒ¨å˜é‡å¹¶æ²¡æœ‰åˆå§‹åŒ–ï¼Œç›´æ¥è®¡ç®—<code>x+1</code>æ˜¯ä¸è¡Œçš„ã€‚ä½†æˆ‘ä»¬å…¶å®æ˜¯æƒ³å¼•ç”¨<code>inc()</code>å‡½æ•°å†…éƒ¨çš„<code>x</code>ï¼Œæ‰€ä»¥éœ€è¦åœ¨<code>fn()</code>å‡½æ•°å†…éƒ¨åŠ ä¸€ä¸ª<code>nonlocal x</code>çš„å£°æ˜ã€‚åŠ ä¸Šè¿™ä¸ªå£°æ˜åï¼Œè§£é‡Šå™¨æŠŠ<code>fn()</code>çš„<code>x</code>çœ‹ä½œå¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œå®ƒå·²ç»è¢«åˆå§‹åŒ–äº†ï¼Œå¯ä»¥æ­£ç¡®è®¡ç®—<code>x+1</code>ã€‚</p><p>ä½¿ç”¨é—­åŒ…æ—¶ï¼Œå¯¹å¤–å±‚å˜é‡èµ‹å€¼å‰ï¼Œéœ€è¦å…ˆä½¿ç”¨nonlocalå£°æ˜è¯¥å˜é‡ä¸æ˜¯å½“å‰å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚</p><h3 id="ç»ƒä¹ -1"><a href="#ç»ƒä¹ -1" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>åˆ©ç”¨é—­åŒ…è¿”å›ä¸€ä¸ªè®¡æ•°å™¨å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨å®ƒè¿”å›é€’å¢æ•´æ•°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># æµ‹è¯•:</span>counterA <span class="token operator">=</span> createCounter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>counterA<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> counterA<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> counterA<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> counterA<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> counterA<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 1 2 3 4 5</span>counterB <span class="token operator">=</span> createCounter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">[</span>counterB<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> counterB<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> counterB<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> counterB<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•é€šè¿‡!'</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•å¤±è´¥!'</span><span class="token punctuation">)</span></code></pre></div></figure><h3 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>ä¸€ä¸ªå‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªè®¡ç®—ç»“æœï¼Œä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•°ã€‚</p><p>è¿”å›ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œç‰¢è®°è¯¥å‡½æ•°å¹¶æœªæ‰§è¡Œï¼Œè¿”å›å‡½æ•°ä¸­ä¸è¦å¼•ç”¨ä»»ä½•å¯èƒ½ä¼šå˜åŒ–çš„å˜é‡ã€‚</p><h3 id="å‚è€ƒæºç -1"><a href="#å‚è€ƒæºç -1" class="headerlink" title="å‚è€ƒæºç "></a>å‚è€ƒæºç </h3><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/functional/return_func.py">return_func.py</a></p><h2 id="è£…é¥°å™¨"><a href="#è£…é¥°å™¨" class="headerlink" title="è£…é¥°å™¨"></a>è£…é¥°å™¨</h2><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017451662295584">https://www.liaoxuefeng.com/wiki/1016959663602400/1017451662295584</a><br>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.bilibili.com/video/BV1Vv411x7hj/?p=1&amp;vd_source=356ed72c41c85a755e40d7f41bb5e733">https://www.bilibili.com/video/BV1Vv411x7hj/?p=1&amp;vd_source=356ed72c41c85a755e40d7f41bb5e733</a></p></blockquote><p>ç”±äºå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸”å‡½æ•°å¯¹è±¡å¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡ï¼Œæ‰€ä»¥ï¼Œé€šè¿‡å˜é‡ä¹Ÿèƒ½è°ƒç”¨è¯¥å‡½æ•°ã€‚</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'2015-3-25'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> f <span class="token operator">=</span> now<span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">2015</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">-</span><span class="token number">25</span></code></pre></div></figure><p>å‡½æ•°å¯¹è±¡æœ‰ä¸€ä¸ª<code>__name__</code>å±æ€§ï¼ˆæ³¨æ„ï¼šæ˜¯å‰åå„ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼‰ï¼Œå¯ä»¥æ‹¿åˆ°å‡½æ•°çš„åå­—ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> now<span class="token punctuation">.</span>__name__<span class="token string">'now'</span><span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">.</span>__name__<span class="token string">'now'</span></code></pre></div></figure><p><em><strong>ç°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬è¦å¢å¼º<code>now()</code>å‡½æ•°çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼Œåœ¨å‡½æ•°è°ƒç”¨å‰åè‡ªåŠ¨æ‰“å°æ—¥å¿—ï¼Œä½†åˆä¸å¸Œæœ›ä¿®æ”¹<code>now()</code>å‡½æ•°çš„å®šä¹‰ï¼Œè¿™ç§åœ¨ä»£ç è¿è¡ŒæœŸé—´åŠ¨æ€å¢åŠ åŠŸèƒ½çš„æ–¹å¼ï¼Œç§°ä¹‹ä¸ºâ€œè£…é¥°å™¨â€ï¼ˆDecoratorï¼‰ã€‚</strong></em></p><p>æœ¬è´¨ä¸Šï¼Œdecoratorå°±æ˜¯ä¸€ä¸ªè¿”å›å‡½æ•°çš„é«˜é˜¶å‡½æ•°ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ªèƒ½æ‰“å°æ—¥å¿—çš„decoratorï¼Œå¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">log</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">wrapper</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'call %s():'</span> <span class="token operator">%</span> func<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span>        <span class="token keyword">return</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span>    <span class="token keyword">return</span> wrapper</code></pre></div></figure><p>è§‚å¯Ÿä¸Šé¢çš„<code>log</code>ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªdecoratorï¼Œæ‰€ä»¥æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå‡½æ•°ã€‚æˆ‘ä»¬è¦å€ŸåŠ©<strong>Pythonçš„@è¯­æ³•ï¼ŒæŠŠdecoratorç½®äºå‡½æ•°çš„å®šä¹‰å¤„ï¼š</strong></p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token decorator annotation punctuation">@log</span> <span class="token comment"># è¿™ä¸ª@logç­‰äºä¸Šé¢çš„å¤–å±‚logå‡½æ•°</span><span class="token keyword">def</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'2015-3-25'</span><span class="token punctuation">)</span></code></pre></div></figure><p>è°ƒç”¨<code>now()</code>å‡½æ•°ï¼Œä¸ä»…ä¼šè¿è¡Œ<code>now()</code>å‡½æ•°æœ¬èº«ï¼Œè¿˜ä¼šåœ¨è¿è¡Œ<code>now()</code>å‡½æ•°å‰æ‰“å°ä¸€è¡Œæ—¥å¿—ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> now<span class="token punctuation">(</span><span class="token punctuation">)</span>call now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token number">2015</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">-</span><span class="token number">25</span></code></pre></div></figure><p>æŠŠ<code>@log</code>æ”¾åˆ°<code>now()</code>å‡½æ•°çš„å®šä¹‰å¤„ï¼Œç›¸å½“äºæ‰§è¡Œäº†è¯­å¥ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">now <span class="token operator">=</span> log<span class="token punctuation">(</span>now<span class="token punctuation">)</span></code></pre></div></figure><p>ç”±äº<code>log()</code>æ˜¯ä¸€ä¸ªdecoratorï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥ï¼ŒåŸæ¥çš„<code>now()</code>å‡½æ•°ä»ç„¶å­˜åœ¨ï¼Œåªæ˜¯ç°åœ¨åŒåçš„<code>now</code>å˜é‡æŒ‡å‘äº†æ–°çš„å‡½æ•°ï¼Œäºæ˜¯è°ƒç”¨<code>now()</code>å°†æ‰§è¡Œæ–°å‡½æ•°ï¼Œå³åœ¨<code>log()</code>å‡½æ•°ä¸­è¿”å›çš„<code>wrapper()</code>å‡½æ•°ã€‚</p><p><code>wrapper()</code>å‡½æ•°çš„å‚æ•°å®šä¹‰æ˜¯<code>(*args, **kw)</code>ï¼Œå› æ­¤ï¼Œ<code>wrapper()</code>å‡½æ•°å¯ä»¥æ¥å—ä»»æ„å‚æ•°çš„è°ƒç”¨ã€‚åœ¨<code>wrapper()</code>å‡½æ•°å†…ï¼Œé¦–å…ˆæ‰“å°æ—¥å¿—ï¼Œå†ç´§æ¥ç€è°ƒç”¨åŸå§‹å‡½æ•°ã€‚</p><p>å¦‚æœdecoratoræœ¬èº«éœ€è¦ä¼ å…¥å‚æ•°ï¼Œé‚£å°±éœ€è¦ç¼–å†™ä¸€ä¸ªè¿”å›decoratorçš„é«˜é˜¶å‡½æ•°ï¼Œå†™å‡ºæ¥ä¼šæ›´å¤æ‚ã€‚æ¯”å¦‚ï¼Œè¦è‡ªå®šä¹‰logçš„æ–‡æœ¬ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">decorator</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">wrapper</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s %s():'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> func<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span>        <span class="token keyword">return</span> wrapper    <span class="token keyword">return</span> decorator</code></pre></div></figure><p>è¿™ä¸ª3å±‚åµŒå¥—çš„decoratorç”¨æ³•å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token decorator annotation punctuation">@log</span><span class="token punctuation">(</span><span class="token string">'execute'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'2015-3-25'</span><span class="token punctuation">)</span></code></pre></div></figure><p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> now<span class="token punctuation">(</span><span class="token punctuation">)</span>execute now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token number">2015</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">-</span><span class="token number">25</span></code></pre></div></figure><p>å’Œä¸¤å±‚åµŒå¥—çš„decoratorç›¸æ¯”ï¼Œ3å±‚åµŒå¥—çš„æ•ˆæœæ˜¯è¿™æ ·çš„ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> now <span class="token operator">=</span> log<span class="token punctuation">(</span><span class="token string">'execute'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span></code></pre></div></figure><p>æˆ‘ä»¬æ¥å‰–æä¸Šé¢çš„è¯­å¥ï¼Œé¦–å…ˆæ‰§è¡Œ<code>log(&#39;execute&#39;)</code>ï¼Œè¿”å›çš„æ˜¯<code>decorator</code>å‡½æ•°ï¼Œå†è°ƒç”¨è¿”å›çš„å‡½æ•°ï¼Œå‚æ•°æ˜¯<code>now</code>å‡½æ•°ï¼Œè¿”å›å€¼æœ€ç»ˆæ˜¯<code>wrapper</code>å‡½æ•°ã€‚</p><p>ä»¥ä¸Šä¸¤ç§decoratorçš„å®šä¹‰éƒ½æ²¡æœ‰é—®é¢˜ï¼Œä½†è¿˜å·®æœ€åä¸€æ­¥ã€‚å› ä¸ºæˆ‘ä»¬è®²äº†å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå®ƒæœ‰<code>__name__</code>ç­‰å±æ€§ï¼Œä½†ä½ å»çœ‹ç»è¿‡decoratorè£…é¥°ä¹‹åçš„å‡½æ•°ï¼Œå®ƒä»¬çš„<code>__name__</code>å·²ç»ä»åŸæ¥çš„<code>&#39;now&#39;</code>å˜æˆäº†<code>&#39;wrapper&#39;</code>ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> now<span class="token punctuation">.</span>__name__<span class="token string">'wrapper'</span></code></pre></div></figure><p>å› ä¸ºè¿”å›çš„é‚£ä¸ª<code>wrapper()</code>å‡½æ•°åå­—å°±æ˜¯<code>&#39;wrapper&#39;</code>ï¼Œæ‰€ä»¥ï¼Œ<strong>éœ€è¦æŠŠåŸå§‹å‡½æ•°çš„<code>__name__</code>ç­‰å±æ€§å¤åˆ¶åˆ°<code>wrapper()</code>å‡½æ•°ä¸­</strong>ï¼Œå¦åˆ™ï¼Œæœ‰äº›ä¾èµ–å‡½æ•°ç­¾åçš„ä»£ç æ‰§è¡Œå°±ä¼šå‡ºé”™ã€‚</p><p><strong>ä¸éœ€è¦ç¼–å†™<code>wrapper.__name__ = func.__name__</code>è¿™æ ·çš„ä»£ç ï¼ŒPythonå†…ç½®çš„<code>functools.wraps</code>å°±æ˜¯å¹²è¿™ä¸ªäº‹çš„ï¼Œæ‰€ä»¥ï¼Œä¸€ä¸ªå®Œæ•´çš„decoratorçš„å†™æ³•å¦‚ä¸‹ï¼š</strong></p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> functools<span class="token keyword">def</span> <span class="token function">log</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token decorator annotation punctuation">@functools<span class="token punctuation">.</span>wraps</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">wrapper</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'call %s():'</span> <span class="token operator">%</span> func<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span>        <span class="token keyword">return</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span>    <span class="token keyword">return</span> wrapper</code></pre></div></figure><p>æˆ–è€…é’ˆå¯¹å¸¦å‚æ•°çš„decoratorï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> functools<span class="token keyword">def</span> <span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">decorator</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token decorator annotation punctuation">@functools<span class="token punctuation">.</span>wraps</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span>        <span class="token keyword">def</span> <span class="token function">wrapper</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s %s():'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> func<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span>        <span class="token keyword">return</span> wrapper    <span class="token keyword">return</span> decorator</code></pre></div></figure><p><code>import functools</code>æ˜¯å¯¼å…¥<code>functools</code>æ¨¡å—ã€‚<strong>æ¨¡å—çš„æ¦‚å¿µç¨å€™è®²è§£ã€‚ç°åœ¨ï¼Œåªéœ€è®°ä½åœ¨å®šä¹‰<code>wrapper()</code>çš„å‰é¢åŠ ä¸Š<code>@functools.wraps(func)</code>å³å¯ã€‚</strong></p><h3 id="ç»ƒä¹ -2"><a href="#ç»ƒä¹ -2" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p><em>è¯·è®¾è®¡ä¸€ä¸ªdecoratorï¼Œå®ƒå¯ä½œç”¨äºä»»ä½•å‡½æ•°ä¸Šï¼Œå¹¶æ‰“å°è¯¥å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ï¼š</em></p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span><span class="token keyword">import</span> time<span class="token punctuation">,</span> functools</code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># æµ‹è¯•</span><span class="token decorator annotation punctuation">@metric</span><span class="token keyword">def</span> <span class="token function">fast</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.0012</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span><span class="token decorator annotation punctuation">@metric</span><span class="token keyword">def</span> <span class="token function">slow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">:</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.1234</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> x <span class="token operator">*</span> y <span class="token operator">*</span> z<span class="token punctuation">;</span>f <span class="token operator">=</span> fast<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>s <span class="token operator">=</span> slow<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">)</span><span class="token keyword">if</span> f <span class="token operator">!=</span> <span class="token number">33</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•å¤±è´¥!'</span><span class="token punctuation">)</span><span class="token keyword">elif</span> s <span class="token operator">!=</span> <span class="token number">7986</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•å¤±è´¥!'</span><span class="token punctuation">)</span></code></pre></div></figure><h3 id="å°ç»“-2"><a href="#å°ç»“-2" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>åœ¨é¢å‘å¯¹è±¡ï¼ˆOOPï¼‰çš„è®¾è®¡æ¨¡å¼ä¸­ï¼Œdecoratorè¢«ç§°ä¸ºè£…é¥°æ¨¡å¼ã€‚OOPçš„è£…é¥°æ¨¡å¼éœ€è¦é€šè¿‡ç»§æ‰¿å’Œç»„åˆæ¥å®ç°ï¼Œè€ŒPythoné™¤äº†èƒ½æ”¯æŒOOPçš„decoratorå¤–ï¼Œç›´æ¥ä»è¯­æ³•å±‚æ¬¡æ”¯æŒdecoratorã€‚Pythonçš„decoratorå¯ä»¥ç”¨å‡½æ•°å®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨ç±»å®ç°ã€‚</p><p>decoratorå¯ä»¥å¢å¼ºå‡½æ•°çš„åŠŸèƒ½ï¼Œå®šä¹‰èµ·æ¥è™½ç„¶æœ‰ç‚¹å¤æ‚ï¼Œä½†ä½¿ç”¨èµ·æ¥éå¸¸çµæ´»å’Œæ–¹ä¾¿ã€‚</p><p>è¯·ç¼–å†™ä¸€ä¸ªdecoratorï¼Œèƒ½åœ¨å‡½æ•°è°ƒç”¨çš„å‰åæ‰“å°å‡º<code>&#39;begin call&#39;</code>å’Œ<code>&#39;end call&#39;</code>çš„æ—¥å¿—ã€‚</p><p>å†æ€è€ƒä¸€ä¸‹èƒ½å¦å†™å‡ºä¸€ä¸ª<code>@log</code>çš„decoratorï¼Œä½¿å®ƒæ—¢æ”¯æŒï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token decorator annotation punctuation">@log</span><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span></code></pre></div></figure><p>åˆæ”¯æŒï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token decorator annotation punctuation">@log</span><span class="token punctuation">(</span><span class="token string">'execute'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span></code></pre></div></figure><h3 id="å‚è€ƒæºç -2"><a href="#å‚è€ƒæºç -2" class="headerlink" title="å‚è€ƒæºç "></a>å‚è€ƒæºç </h3><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/functional/decorator.py">decorator.py</a></p><h2 id="åå‡½æ•°"><a href="#åå‡½æ•°" class="headerlink" title="åå‡½æ•°"></a>åå‡½æ•°</h2><p>Pythonçš„<code>functools</code>æ¨¡å—æä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½ï¼Œå…¶ä¸­ä¸€ä¸ªå°±æ˜¯åå‡½æ•°ï¼ˆPartial functionï¼‰ã€‚è¦æ³¨æ„ï¼Œè¿™é‡Œçš„åå‡½æ•°å’Œæ•°å­¦æ„ä¹‰ä¸Šçš„åå‡½æ•°ä¸ä¸€æ ·ã€‚</p><p>åœ¨ä»‹ç»å‡½æ•°å‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬è®²åˆ°ï¼Œé€šè¿‡è®¾å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œå¯ä»¥é™ä½å‡½æ•°è°ƒç”¨çš„éš¾åº¦ã€‚è€Œåå‡½æ•°ä¹Ÿå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p><p><code>int()</code>å‡½æ•°å¯ä»¥æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ï¼Œå½“ä»…ä¼ å…¥å­—ç¬¦ä¸²æ—¶ï¼Œ<code>int()</code>å‡½æ•°é»˜è®¤æŒ‰åè¿›åˆ¶è½¬æ¢ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">'12345'</span><span class="token punctuation">)</span><span class="token number">12345</span></code></pre></div></figure><p>ä½†<code>int()</code>å‡½æ•°è¿˜æä¾›é¢å¤–çš„<code>base</code>å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º<code>10</code>ã€‚å¦‚æœä¼ å…¥<code>base</code>å‚æ•°ï¼Œå°±å¯ä»¥åšNè¿›åˆ¶çš„è½¬æ¢ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">'12345'</span><span class="token punctuation">,</span> base<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token number">5349</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">'12345'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token number">74565</span></code></pre></div></figure><p>å‡è®¾è¦è½¬æ¢å¤§é‡çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡éƒ½ä¼ å…¥<code>int(x, base=2)</code>éå¸¸éº»çƒ¦ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬æƒ³åˆ°ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ª<code>int2()</code>çš„å‡½æ•°ï¼Œé»˜è®¤æŠŠ<code>base=2</code>ä¼ è¿›å»ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">int2</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> base<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> base<span class="token punctuation">)</span></code></pre></div></figure><p>è¿™æ ·ï¼Œæˆ‘ä»¬è½¬æ¢äºŒè¿›åˆ¶å°±éå¸¸æ–¹ä¾¿äº†ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> int2<span class="token punctuation">(</span><span class="token string">'1000000'</span><span class="token punctuation">)</span><span class="token number">64</span><span class="token operator">>></span><span class="token operator">></span> int2<span class="token punctuation">(</span><span class="token string">'1010101'</span><span class="token punctuation">)</span><span class="token number">85</span></code></pre></div></figure><p><code>functools.partial</code>å°±æ˜¯å¸®åŠ©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåå‡½æ•°çš„ï¼Œä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å®šä¹‰<code>int2()</code>ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°<code>int2</code>ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> functools<span class="token operator">>></span><span class="token operator">></span> int2 <span class="token operator">=</span> functools<span class="token punctuation">.</span>partial<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> base<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> int2<span class="token punctuation">(</span><span class="token string">'1000000'</span><span class="token punctuation">)</span><span class="token number">64</span><span class="token operator">>></span><span class="token operator">></span> int2<span class="token punctuation">(</span><span class="token string">'1010101'</span><span class="token punctuation">)</span><span class="token number">85</span></code></pre></div></figure><p>æ‰€ä»¥ï¼Œç®€å•æ€»ç»“<code>functools.partial</code>çš„ä½œç”¨å°±æ˜¯ï¼ŒæŠŠä¸€ä¸ªå‡½æ•°çš„æŸäº›å‚æ•°ç»™å›ºå®šä½ï¼ˆä¹Ÿå°±æ˜¯è®¾ç½®é»˜è®¤å€¼ï¼‰ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè°ƒç”¨è¿™ä¸ªæ–°å‡½æ•°ä¼šæ›´ç®€å•ã€‚</p><p>æ³¨æ„åˆ°ä¸Šé¢çš„æ–°çš„<code>int2</code>å‡½æ•°ï¼Œä»…ä»…æ˜¯æŠŠ<code>base</code>å‚æ•°é‡æ–°è®¾å®šé»˜è®¤å€¼ä¸º<code>2</code>ï¼Œä½†ä¹Ÿå¯ä»¥åœ¨å‡½æ•°è°ƒç”¨æ—¶ä¼ å…¥å…¶ä»–å€¼ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> int2<span class="token punctuation">(</span><span class="token string">'1000000'</span><span class="token punctuation">,</span> base<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token number">1000000</span></code></pre></div></figure><p>æœ€åï¼Œåˆ›å»ºåå‡½æ•°æ—¶ï¼Œå®é™…ä¸Šå¯ä»¥æ¥æ”¶å‡½æ•°å¯¹è±¡ã€<code>*args</code>å’Œ<code>**kw</code>è¿™3ä¸ªå‚æ•°ï¼Œå½“ä¼ å…¥ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">int2 <span class="token operator">=</span> functools<span class="token punctuation">.</span>partial<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> base<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></code></pre></div></figure><p>å®é™…ä¸Šå›ºå®šäº†int()å‡½æ•°çš„å…³é”®å­—å‚æ•°<code>base</code>ï¼Œä¹Ÿå°±æ˜¯ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">int2<span class="token punctuation">(</span><span class="token string">'10010'</span><span class="token punctuation">)</span></code></pre></div></figure><p>ç›¸å½“äºï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">kw <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">'base'</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">&#125;</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">'10010'</span><span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span></code></pre></div></figure><p>å½“ä¼ å…¥ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">max2 <span class="token operator">=</span> functools<span class="token punctuation">.</span>partial<span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></code></pre></div></figure><p>å®é™…ä¸Šä¼šæŠŠ<code>10</code>ä½œä¸º<code>*args</code>çš„ä¸€éƒ¨åˆ†è‡ªåŠ¨åŠ åˆ°å·¦è¾¹ï¼Œä¹Ÿå°±æ˜¯ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">max2<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span></code></pre></div></figure><p>ç›¸å½“äºï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">args <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">)</span></code></pre></div></figure><p>ç»“æœä¸º<code>10</code>ã€‚</p><h3 id="å°ç»“-3"><a href="#å°ç»“-3" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>å½“å‡½æ•°çš„å‚æ•°ä¸ªæ•°å¤ªå¤šï¼Œéœ€è¦ç®€åŒ–æ—¶ï¼Œä½¿ç”¨<code>functools.partial</code>å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°å¯ä»¥å›ºå®šä½åŸå‡½æ•°çš„éƒ¨åˆ†å‚æ•°ï¼Œä»è€Œåœ¨è°ƒç”¨æ—¶æ›´ç®€å•ã€‚</p><h3 id="å‚è€ƒæºç -3"><a href="#å‚è€ƒæºç -3" class="headerlink" title="å‚è€ƒæºç "></a>å‚è€ƒæºç </h3><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/functional/do_partial.py">do_partial.py</a></p><h2 id="ç±»å’Œå®ä¾‹"><a href="#ç±»å’Œå®ä¾‹" class="headerlink" title="ç±»å’Œå®ä¾‹"></a>ç±»å’Œå®ä¾‹</h2><p>é¢å‘å¯¹è±¡æœ€é‡è¦çš„æ¦‚å¿µå°±æ˜¯ç±»ï¼ˆClassï¼‰å’Œå®ä¾‹ï¼ˆInstanceï¼‰ï¼Œå¿…é¡»ç‰¢è®°ç±»æ˜¯æŠ½è±¡çš„æ¨¡æ¿ï¼Œæ¯”å¦‚Studentç±»ï¼Œè€Œå®ä¾‹æ˜¯æ ¹æ®ç±»åˆ›å»ºå‡ºæ¥çš„ä¸€ä¸ªä¸ªå…·ä½“çš„â€œå¯¹è±¡â€ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æ‹¥æœ‰ç›¸åŒçš„æ–¹æ³•ï¼Œä½†å„è‡ªçš„æ•°æ®å¯èƒ½ä¸åŒã€‚</p><p>ä»ä»¥Studentç±»ä¸ºä¾‹ï¼Œåœ¨Pythonä¸­ï¼Œå®šä¹‰ç±»æ˜¯é€šè¿‡<code>class</code>å…³é”®å­—ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span></code></pre></div></figure><p><code>class</code>åé¢ç´§æ¥ç€æ˜¯ç±»åï¼Œå³<code>Student</code>ï¼Œç±»åé€šå¸¸æ˜¯å¤§å†™å¼€å¤´çš„å•è¯ï¼Œç´§æ¥ç€æ˜¯<code>(object)</code>ï¼Œè¡¨ç¤ºè¯¥ç±»æ˜¯ä»å“ªä¸ªç±»ç»§æ‰¿ä¸‹æ¥çš„ï¼Œç»§æ‰¿çš„æ¦‚å¿µæˆ‘ä»¬åé¢å†è®²ï¼Œé€šå¸¸ï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„ç»§æ‰¿ç±»ï¼Œå°±ä½¿ç”¨<code>object</code>ç±»ï¼Œè¿™æ˜¯æ‰€æœ‰ç±»æœ€ç»ˆéƒ½ä¼šç»§æ‰¿çš„ç±»ã€‚</p><p>å®šä¹‰å¥½äº†<code>Student</code>ç±»ï¼Œå°±å¯ä»¥æ ¹æ®<code>Student</code>ç±»åˆ›å»ºå‡º<code>Student</code>çš„å®ä¾‹ï¼Œåˆ›å»ºå®ä¾‹æ˜¯é€šè¿‡ç±»å+()å®ç°çš„ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> bart <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Student <span class="token builtin">object</span> at <span class="token number">0x10a67a590</span><span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> Student<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.Student'</span><span class="token operator">></span></code></pre></div></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œå˜é‡<code>bart</code>æŒ‡å‘çš„å°±æ˜¯ä¸€ä¸ª<code>Student</code>çš„å®ä¾‹ï¼Œåé¢çš„<code>0x10a67a590</code>æ˜¯å†…å­˜åœ°å€ï¼Œæ¯ä¸ªobjectçš„åœ°å€éƒ½ä¸ä¸€æ ·ï¼Œè€Œ<code>Student</code>æœ¬èº«åˆ™æ˜¯ä¸€ä¸ªç±»ã€‚</p><p>å¯ä»¥è‡ªç”±åœ°ç»™ä¸€ä¸ªå®ä¾‹å˜é‡ç»‘å®šå±æ€§ï¼Œæ¯”å¦‚ï¼Œç»™å®ä¾‹<code>bart</code>ç»‘å®šä¸€ä¸ª<code>name</code>å±æ€§ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Bart Simpson'</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>name<span class="token string">'Bart Simpson'</span></code></pre></div></figure><p>ç”±äºç±»å¯ä»¥èµ·åˆ°æ¨¡æ¿çš„ä½œç”¨ï¼Œå› æ­¤ï¼Œå¯ä»¥åœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼ŒæŠŠä¸€äº›æˆ‘ä»¬è®¤ä¸ºå¿…é¡»ç»‘å®šçš„å±æ€§å¼ºåˆ¶å¡«å†™è¿›å»ã€‚é€šè¿‡å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„<code>__init__</code>æ–¹æ³•ï¼Œåœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œå°±æŠŠ<code>name</code>ï¼Œ<code>score</code>ç­‰å±æ€§ç»‘ä¸Šå»ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score</code></pre></div></figure><p>æ³¨æ„ï¼šç‰¹æ®Šæ–¹æ³•â€œ__init__â€å‰ååˆ†åˆ«æœ‰ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼ï¼ï¼</p><p>æ³¨æ„åˆ°<code>__init__</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯<code>self</code>ï¼Œè¡¨ç¤ºåˆ›å»ºçš„å®ä¾‹æœ¬èº«ï¼Œå› æ­¤ï¼Œåœ¨<code>__init__</code>æ–¹æ³•å†…éƒ¨ï¼Œå°±å¯ä»¥æŠŠå„ç§å±æ€§ç»‘å®šåˆ°<code>self</code>ï¼Œå› ä¸º<code>self</code>å°±æŒ‡å‘åˆ›å»ºçš„å®ä¾‹æœ¬èº«ã€‚</p><p>æœ‰äº†<code>__init__</code>æ–¹æ³•ï¼Œåœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œå°±ä¸èƒ½ä¼ å…¥ç©ºçš„å‚æ•°äº†ï¼Œå¿…é¡»ä¼ å…¥ä¸<code>__init__</code>æ–¹æ³•åŒ¹é…çš„å‚æ•°ï¼Œä½†<code>self</code>ä¸éœ€è¦ä¼ ï¼ŒPythonè§£é‡Šå™¨è‡ªå·±ä¼šæŠŠå®ä¾‹å˜é‡ä¼ è¿›å»ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> bart <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bart Simpson'</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>name<span class="token string">'Bart Simpson'</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>score<span class="token number">59</span></code></pre></div></figure><p>å’Œæ™®é€šçš„å‡½æ•°ç›¸æ¯”ï¼Œåœ¨ç±»ä¸­å®šä¹‰çš„å‡½æ•°åªæœ‰ä¸€ç‚¹ä¸åŒï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯å®ä¾‹å˜é‡<code>self</code>ï¼Œå¹¶ä¸”ï¼Œè°ƒç”¨æ—¶ï¼Œä¸ç”¨ä¼ é€’è¯¥å‚æ•°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç±»çš„æ–¹æ³•å’Œæ™®é€šå‡½æ•°æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ‰€ä»¥ï¼Œä½ ä»ç„¶å¯ä»¥ç”¨é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°ã€‚</p><h3 id="æ•°æ®å°è£…"><a href="#æ•°æ®å°è£…" class="headerlink" title="æ•°æ®å°è£…"></a>æ•°æ®å°è£…</h3><p>é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹å°±æ˜¯æ•°æ®å°è£…ã€‚åœ¨ä¸Šé¢çš„<code>Student</code>ç±»ä¸­ï¼Œæ¯ä¸ªå®ä¾‹å°±æ‹¥æœ‰å„è‡ªçš„<code>name</code>å’Œ<code>score</code>è¿™äº›æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°æ¥è®¿é—®è¿™äº›æ•°æ®ï¼Œæ¯”å¦‚æ‰“å°ä¸€ä¸ªå­¦ç”Ÿçš„æˆç»©ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">print_score</span><span class="token punctuation">(</span>std<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s: %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>std<span class="token punctuation">.</span>name<span class="token punctuation">,</span> std<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> print_score<span class="token punctuation">(</span>bart<span class="token punctuation">)</span>Bart Simpson<span class="token punctuation">:</span> <span class="token number">59</span></code></pre></div></figure><p>ä½†æ˜¯ï¼Œæ—¢ç„¶<code>Student</code>å®ä¾‹æœ¬èº«å°±æ‹¥æœ‰è¿™äº›æ•°æ®ï¼Œè¦è®¿é—®è¿™äº›æ•°æ®ï¼Œå°±æ²¡æœ‰å¿…è¦ä»å¤–é¢çš„å‡½æ•°å»è®¿é—®ï¼Œå¯ä»¥ç›´æ¥åœ¨<code>Student</code>ç±»çš„å†…éƒ¨å®šä¹‰è®¿é—®æ•°æ®çš„å‡½æ•°ï¼Œè¿™æ ·ï¼Œå°±æŠŠâ€œæ•°æ®â€ç»™å°è£…èµ·æ¥äº†ã€‚è¿™äº›å°è£…æ•°æ®çš„å‡½æ•°æ˜¯å’Œ<code>Student</code>ç±»æœ¬èº«æ˜¯å…³è”èµ·æ¥çš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç±»çš„æ–¹æ³•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score    <span class="token keyword">def</span> <span class="token function">print_score</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s: %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><p>è¦å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>self</code>å¤–ï¼Œå…¶ä»–å’Œæ™®é€šå‡½æ•°ä¸€æ ·ã€‚è¦è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œåªéœ€è¦åœ¨å®ä¾‹å˜é‡ä¸Šç›´æ¥è°ƒç”¨ï¼Œé™¤äº†<code>self</code>ä¸ç”¨ä¼ é€’ï¼Œå…¶ä»–å‚æ•°æ­£å¸¸ä¼ å…¥ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>print_score<span class="token punctuation">(</span><span class="token punctuation">)</span>Bart Simpson<span class="token punctuation">:</span> <span class="token number">59</span></code></pre></div></figure><p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬ä»å¤–éƒ¨çœ‹<code>Student</code>ç±»ï¼Œå°±åªéœ€è¦çŸ¥é“ï¼Œåˆ›å»ºå®ä¾‹éœ€è¦ç»™å‡º<code>name</code>å’Œ<code>score</code>ï¼Œè€Œå¦‚ä½•æ‰“å°ï¼Œéƒ½æ˜¯åœ¨<code>Student</code>ç±»çš„å†…éƒ¨å®šä¹‰çš„ï¼Œè¿™äº›æ•°æ®å’Œé€»è¾‘è¢«â€œå°è£…â€èµ·æ¥äº†ï¼Œè°ƒç”¨å¾ˆå®¹æ˜“ï¼Œä½†å´ä¸ç”¨çŸ¥é“å†…éƒ¨å®ç°çš„ç»†èŠ‚ã€‚</p><p>å°è£…çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥ç»™<code>Student</code>ç±»å¢åŠ æ–°çš„æ–¹æ³•ï¼Œæ¯”å¦‚<code>get_grade</code>ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token keyword">def</span> <span class="token function">get_grade</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>score <span class="token operator">>=</span> <span class="token number">90</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">'A'</span>        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>score <span class="token operator">>=</span> <span class="token number">60</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">'B'</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">'C'</span></code></pre></div></figure><p>åŒæ ·çš„ï¼Œ<code>get_grade</code>æ–¹æ³•å¯ä»¥ç›´æ¥åœ¨å®ä¾‹å˜é‡ä¸Šè°ƒç”¨ï¼Œä¸éœ€è¦çŸ¥é“å†…éƒ¨å®ç°ç»†èŠ‚ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">lisa <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Lisa'</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span>bart <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bart'</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>lisa<span class="token punctuation">.</span>name<span class="token punctuation">,</span> lisa<span class="token punctuation">.</span>get_grade<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>bart<span class="token punctuation">.</span>name<span class="token punctuation">,</span> bart<span class="token punctuation">.</span>get_grade<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><h3 id="å°ç»“-4"><a href="#å°ç»“-4" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>ç±»æ˜¯åˆ›å»ºå®ä¾‹çš„æ¨¡æ¿ï¼Œè€Œå®ä¾‹åˆ™æ˜¯ä¸€ä¸ªä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ï¼Œå„ä¸ªå®ä¾‹æ‹¥æœ‰çš„æ•°æ®éƒ½äº’ç›¸ç‹¬ç«‹ï¼Œäº’ä¸å½±å“ï¼›</p><p>æ–¹æ³•å°±æ˜¯ä¸å®ä¾‹ç»‘å®šçš„å‡½æ•°ï¼Œå’Œæ™®é€šå‡½æ•°ä¸åŒï¼Œæ–¹æ³•å¯ä»¥ç›´æ¥è®¿é—®å®ä¾‹çš„æ•°æ®ï¼›</p><p>é€šè¿‡åœ¨å®ä¾‹ä¸Šè°ƒç”¨æ–¹æ³•ï¼Œæˆ‘ä»¬å°±ç›´æ¥æ“ä½œäº†å¯¹è±¡å†…éƒ¨çš„æ•°æ®ï¼Œä½†æ— éœ€çŸ¥é“æ–¹æ³•å†…éƒ¨çš„å®ç°ç»†èŠ‚ã€‚</p><p>å’Œé™æ€è¯­è¨€ä¸åŒï¼ŒPythonå…è®¸å¯¹å®ä¾‹å˜é‡ç»‘å®šä»»ä½•æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä¸¤ä¸ªå®ä¾‹å˜é‡ï¼Œè™½ç„¶å®ƒä»¬éƒ½æ˜¯åŒä¸€ä¸ªç±»çš„ä¸åŒå®ä¾‹ï¼Œä½†æ‹¥æœ‰çš„å˜é‡åç§°éƒ½å¯èƒ½ä¸åŒï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> bart <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bart Simpson'</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> lisa <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Lisa Simpson'</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">8</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>age<span class="token number">8</span><span class="token operator">>></span><span class="token operator">></span> lisa<span class="token punctuation">.</span>ageTraceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"&lt;stdin>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>AttributeError<span class="token punctuation">:</span> <span class="token string">'Student'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'age'</span></code></pre></div></figure><h3 id="å‚è€ƒæºç -4"><a href="#å‚è€ƒæºç -4" class="headerlink" title="å‚è€ƒæºç "></a>å‚è€ƒæºç </h3><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/oop_basic/student.py">student.py</a></p><h2 id="è®¿é—®é™åˆ¶"><a href="#è®¿é—®é™åˆ¶" class="headerlink" title="è®¿é—®é™åˆ¶"></a>è®¿é—®é™åˆ¶</h2><p>åœ¨Classå†…éƒ¨ï¼Œå¯ä»¥æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œè€Œå¤–éƒ¨ä»£ç å¯ä»¥é€šè¿‡ç›´æ¥è°ƒç”¨å®ä¾‹å˜é‡çš„æ–¹æ³•æ¥æ“ä½œæ•°æ®ï¼Œè¿™æ ·ï¼Œå°±éšè—äº†å†…éƒ¨çš„å¤æ‚é€»è¾‘ã€‚</p><p>ä½†æ˜¯ï¼Œä»å‰é¢Studentç±»çš„å®šä¹‰æ¥çœ‹ï¼Œå¤–éƒ¨ä»£ç è¿˜æ˜¯å¯ä»¥è‡ªç”±åœ°ä¿®æ”¹ä¸€ä¸ªå®ä¾‹çš„<code>name</code>ã€<code>score</code>å±æ€§ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> bart <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bart Simpson'</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>score<span class="token number">59</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">99</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>score<span class="token number">99</span></code></pre></div></figure><p>å¦‚æœè¦è®©å†…éƒ¨å±æ€§ä¸è¢«å¤–éƒ¨è®¿é—®ï¼Œå¯ä»¥æŠŠå±æ€§çš„åç§°å‰åŠ ä¸Šä¸¤ä¸ªä¸‹åˆ’çº¿<code>__</code>ï¼Œåœ¨Pythonä¸­ï¼Œå®ä¾‹çš„å˜é‡åå¦‚æœä»¥<code>__</code>å¼€å¤´ï¼Œå°±å˜æˆäº†ä¸€ä¸ªç§æœ‰å˜é‡ï¼ˆprivateï¼‰ï¼Œåªæœ‰å†…éƒ¨å¯ä»¥è®¿é—®ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—®ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠStudentç±»æ”¹ä¸€æ”¹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>__name <span class="token operator">=</span> name        self<span class="token punctuation">.</span>__score <span class="token operator">=</span> score    <span class="token keyword">def</span> <span class="token function">print_score</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s: %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>__name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>__score<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><p>æ”¹å®Œåï¼Œå¯¹äºå¤–éƒ¨ä»£ç æ¥è¯´ï¼Œæ²¡ä»€ä¹ˆå˜åŠ¨ï¼Œä½†æ˜¯å·²ç»æ— æ³•ä»å¤–éƒ¨è®¿é—®<code>å®ä¾‹å˜é‡.__name</code>å’Œ<code>å®ä¾‹å˜é‡.__score</code>äº†ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> bart <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bart Simpson'</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>__nameTraceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"&lt;stdin>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>AttributeError<span class="token punctuation">:</span> <span class="token string">'Student'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'__name'</span></code></pre></div></figure><p>è¿™æ ·å°±ç¡®ä¿äº†å¤–éƒ¨ä»£ç ä¸èƒ½éšæ„ä¿®æ”¹å¯¹è±¡å†…éƒ¨çš„çŠ¶æ€ï¼Œè¿™æ ·é€šè¿‡è®¿é—®é™åˆ¶çš„ä¿æŠ¤ï¼Œä»£ç æ›´åŠ å¥å£®ã€‚</p><p>ä½†æ˜¯å¦‚æœå¤–éƒ¨ä»£ç è¦è·å–nameå’Œscoreæ€ä¹ˆåŠï¼Ÿå¯ä»¥ç»™Studentç±»å¢åŠ <code>get_name</code>å’Œ<code>get_score</code>è¿™æ ·çš„æ–¹æ³•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token keyword">def</span> <span class="token function">get_name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__name    <span class="token keyword">def</span> <span class="token function">get_score</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__score</code></pre></div></figure><p>å¦‚æœåˆè¦å…è®¸å¤–éƒ¨ä»£ç ä¿®æ”¹scoreæ€ä¹ˆåŠï¼Ÿå¯ä»¥å†ç»™Studentç±»å¢åŠ <code>set_score</code>æ–¹æ³•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token keyword">def</span> <span class="token function">set_score</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>__score <span class="token operator">=</span> score</code></pre></div></figure><p>ä½ ä¹Ÿè®¸ä¼šé—®ï¼ŒåŸå…ˆé‚£ç§ç›´æ¥é€šè¿‡<code>bart.score = 99</code>ä¹Ÿå¯ä»¥ä¿®æ”¹å•Šï¼Œä¸ºä»€ä¹ˆè¦å®šä¹‰ä¸€ä¸ªæ–¹æ³•å¤§è´¹å‘¨æŠ˜ï¼Ÿå› ä¸ºåœ¨æ–¹æ³•ä¸­ï¼Œå¯ä»¥å¯¹å‚æ•°åšæ£€æŸ¥ï¼Œé¿å…ä¼ å…¥æ— æ•ˆçš„å‚æ•°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token keyword">def</span> <span class="token function">set_score</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> score <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>__score <span class="token operator">=</span> score        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'bad score'</span><span class="token punctuation">)</span></code></pre></div></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨Pythonä¸­ï¼Œå˜é‡åç±»ä¼¼<code>__xxx__</code>çš„ï¼Œä¹Ÿå°±æ˜¯ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´ï¼Œå¹¶ä¸”ä»¥åŒä¸‹åˆ’çº¿ç»“å°¾çš„ï¼Œæ˜¯ç‰¹æ®Šå˜é‡ï¼Œç‰¹æ®Šå˜é‡æ˜¯å¯ä»¥ç›´æ¥è®¿é—®çš„ï¼Œä¸æ˜¯privateå˜é‡ï¼Œæ‰€ä»¥ï¼Œä¸èƒ½ç”¨<code>__name__</code>ã€<code>__score__</code>è¿™æ ·çš„å˜é‡åã€‚</p><p>æœ‰äº›æ—¶å€™ï¼Œä½ ä¼šçœ‹åˆ°ä»¥ä¸€ä¸ªä¸‹åˆ’çº¿å¼€å¤´çš„å®ä¾‹å˜é‡åï¼Œæ¯”å¦‚<code>_name</code>ï¼Œè¿™æ ·çš„å®ä¾‹å˜é‡å¤–éƒ¨æ˜¯å¯ä»¥è®¿é—®çš„ï¼Œä½†æ˜¯ï¼ŒæŒ‰ç…§çº¦å®šä¿—æˆçš„è§„å®šï¼Œå½“ä½ çœ‹åˆ°è¿™æ ·çš„å˜é‡æ—¶ï¼Œæ„æ€å°±æ˜¯ï¼Œâ€œè™½ç„¶æˆ‘å¯ä»¥è¢«è®¿é—®ï¼Œä½†æ˜¯ï¼Œè¯·æŠŠæˆ‘è§†ä¸ºç§æœ‰å˜é‡ï¼Œä¸è¦éšæ„è®¿é—®â€ã€‚</p><p>åŒä¸‹åˆ’çº¿å¼€å¤´çš„å®ä¾‹å˜é‡æ˜¯ä¸æ˜¯ä¸€å®šä¸èƒ½ä»å¤–éƒ¨è®¿é—®å‘¢ï¼Ÿå…¶å®ä¹Ÿä¸æ˜¯ã€‚ä¸èƒ½ç›´æ¥è®¿é—®<code>__name</code>æ˜¯å› ä¸ºPythonè§£é‡Šå™¨å¯¹å¤–æŠŠ<code>__name</code>å˜é‡æ”¹æˆäº†<code>_Student__name</code>ï¼Œæ‰€ä»¥ï¼Œä»ç„¶å¯ä»¥é€šè¿‡<code>_Student__name</code>æ¥è®¿é—®<code>__name</code>å˜é‡ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>_Student__name<span class="token string">'Bart Simpson'</span></code></pre></div></figure><p>ä½†æ˜¯å¼ºçƒˆå»ºè®®ä½ ä¸è¦è¿™ä¹ˆå¹²ï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬çš„Pythonè§£é‡Šå™¨å¯èƒ½ä¼šæŠŠ<code>__name</code>æ”¹æˆä¸åŒçš„å˜é‡åã€‚</p><p>æ€»çš„æ¥è¯´å°±æ˜¯ï¼ŒPythonæœ¬èº«æ²¡æœ‰ä»»ä½•æœºåˆ¶é˜»æ­¢ä½ å¹²åäº‹ï¼Œä¸€åˆ‡å…¨é è‡ªè§‰ã€‚</p><p>æœ€åæ³¨æ„ä¸‹é¢çš„è¿™ç§_é”™è¯¯å†™æ³•_ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> bart <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bart Simpson'</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>get_name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token string">'Bart Simpson'</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>__name <span class="token operator">=</span> <span class="token string">'New Name'</span> <span class="token comment"># è®¾ç½®__nameå˜é‡ï¼</span><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>__name<span class="token string">'New Name'</span></code></pre></div></figure><p>è¡¨é¢ä¸Šçœ‹ï¼Œå¤–éƒ¨ä»£ç â€œæˆåŠŸâ€åœ°è®¾ç½®äº†<code>__name</code>å˜é‡ï¼Œä½†å®é™…ä¸Šè¿™ä¸ª<code>__name</code>å˜é‡å’Œclasså†…éƒ¨çš„<code>__name</code>å˜é‡_ä¸æ˜¯_ä¸€ä¸ªå˜é‡ï¼å†…éƒ¨çš„<code>__name</code>å˜é‡å·²ç»è¢«Pythonè§£é‡Šå™¨è‡ªåŠ¨æ”¹æˆäº†<code>_Student__name</code>ï¼Œè€Œå¤–éƒ¨ä»£ç ç»™<code>bart</code>æ–°å¢äº†ä¸€ä¸ª<code>__name</code>å˜é‡ã€‚ä¸ä¿¡è¯•è¯•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> bart<span class="token punctuation">.</span>get_name<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># get_name()å†…éƒ¨è¿”å›self.__name</span><span class="token string">'Bart Simpson'</span></code></pre></div></figure><h3 id="ç»ƒä¹ -3"><a href="#ç»ƒä¹ -3" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>è¯·æŠŠä¸‹é¢çš„<code>Student</code>å¯¹è±¡çš„<code>gender</code>å­—æ®µå¯¹å¤–éšè—èµ·æ¥ï¼Œç”¨<code>get_gender()</code>å’Œ<code>set_gender()</code>ä»£æ›¿ï¼Œå¹¶æ£€æŸ¥å‚æ•°æœ‰æ•ˆæ€§ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># æµ‹è¯•:</span>bart <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bart'</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">)</span><span class="token keyword">if</span> bart<span class="token punctuation">.</span>get_gender<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">'male'</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•å¤±è´¥!'</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    bart<span class="token punctuation">.</span>set_gender<span class="token punctuation">(</span><span class="token string">'female'</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> bart<span class="token punctuation">.</span>get_gender<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">'female'</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•å¤±è´¥!'</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•æˆåŠŸ!'</span><span class="token punctuation">)</span></code></pre></div></figure><h3 id="å‚è€ƒæºç -5"><a href="#å‚è€ƒæºç -5" class="headerlink" title="å‚è€ƒæºç "></a>å‚è€ƒæºç </h3><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/oop_basic/protected_student.py">protected_student.py</a></p><h2 id="ç»§æ‰¿å’Œå¤šæ€"><a href="#ç»§æ‰¿å’Œå¤šæ€" class="headerlink" title="ç»§æ‰¿å’Œå¤šæ€"></a>ç»§æ‰¿å’Œå¤šæ€</h2><p>åœ¨OOPç¨‹åºè®¾è®¡ä¸­ï¼Œå½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªclassçš„æ—¶å€™ï¼Œå¯ä»¥ä»æŸä¸ªç°æœ‰çš„classç»§æ‰¿ï¼Œæ–°çš„classç§°ä¸ºå­ç±»ï¼ˆSubclassï¼‰ï¼Œè€Œè¢«ç»§æ‰¿çš„classç§°ä¸ºåŸºç±»ã€çˆ¶ç±»æˆ–è¶…ç±»ï¼ˆBase classã€Super classï¼‰ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å·²ç»ç¼–å†™äº†ä¸€ä¸ªåä¸º<code>Animal</code>çš„classï¼Œæœ‰ä¸€ä¸ª<code>run()</code>æ–¹æ³•å¯ä»¥ç›´æ¥æ‰“å°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Animal is running...'</span><span class="token punctuation">)</span></code></pre></div></figure><p>å½“æˆ‘ä»¬éœ€è¦ç¼–å†™<code>Dog</code>å’Œ<code>Cat</code>ç±»æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥ä»<code>Animal</code>ç±»ç»§æ‰¿ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span></code></pre></div></figure><p>å¯¹äº<code>Dog</code>æ¥è¯´ï¼Œ<code>Animal</code>å°±æ˜¯å®ƒçš„çˆ¶ç±»ï¼Œå¯¹äº<code>Animal</code>æ¥è¯´ï¼Œ<code>Dog</code>å°±æ˜¯å®ƒçš„å­ç±»ã€‚<code>Cat</code>å’Œ<code>Dog</code>ç±»ä¼¼ã€‚</p><p>ç»§æ‰¿æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿæœ€å¤§çš„å¥½å¤„æ˜¯å­ç±»è·å¾—äº†çˆ¶ç±»çš„å…¨éƒ¨åŠŸèƒ½ã€‚ç”±äº<code>Animial</code>å®ç°äº†<code>run()</code>æ–¹æ³•ï¼Œå› æ­¤ï¼Œ<code>Dog</code>å’Œ<code>Cat</code>ä½œä¸ºå®ƒçš„å­ç±»ï¼Œä»€ä¹ˆäº‹ä¹Ÿæ²¡å¹²ï¼Œå°±è‡ªåŠ¨æ‹¥æœ‰äº†<code>run()</code>æ–¹æ³•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">dog <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>dog<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>cat <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>cat<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">Animal <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Animal <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div></figure><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥å¯¹å­ç±»å¢åŠ ä¸€äº›æ–¹æ³•ï¼Œæ¯”å¦‚Dogç±»ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Dog is running...'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Eating meat...'</span><span class="token punctuation">)</span></code></pre></div></figure><p>ç»§æ‰¿çš„ç¬¬äºŒä¸ªå¥½å¤„éœ€è¦æˆ‘ä»¬å¯¹ä»£ç åšä¸€ç‚¹æ”¹è¿›ã€‚ä½ çœ‹åˆ°äº†ï¼Œæ— è®ºæ˜¯<code>Dog</code>è¿˜æ˜¯<code>Cat</code>ï¼Œå®ƒä»¬<code>run()</code>çš„æ—¶å€™ï¼Œæ˜¾ç¤ºçš„éƒ½æ˜¯<code>Animal is running...</code>ï¼Œç¬¦åˆé€»è¾‘çš„åšæ³•æ˜¯åˆ†åˆ«æ˜¾ç¤º<code>Dog is running...</code>å’Œ<code>Cat is running...</code>ï¼Œå› æ­¤ï¼Œå¯¹<code>Dog</code>å’Œ<code>Cat</code>ç±»æ”¹è¿›å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Dog is running...'</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Cat is running...'</span><span class="token punctuation">)</span></code></pre></div></figure><p>å†æ¬¡è¿è¡Œï¼Œç»“æœå¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">Dog <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Cat <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div></figure><p>å½“å­ç±»å’Œçˆ¶ç±»éƒ½å­˜åœ¨ç›¸åŒçš„<code>run()</code>æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬è¯´ï¼Œå­ç±»çš„<code>run()</code>è¦†ç›–äº†çˆ¶ç±»çš„<code>run()</code>ï¼Œåœ¨ä»£ç è¿è¡Œçš„æ—¶å€™ï¼Œæ€»æ˜¯ä¼šè°ƒç”¨å­ç±»çš„<code>run()</code>ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±è·å¾—äº†ç»§æ‰¿çš„å¦ä¸€ä¸ªå¥½å¤„ï¼šå¤šæ€ã€‚</p><p>è¦ç†è§£ä»€ä¹ˆæ˜¯å¤šæ€ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å¯¹æ•°æ®ç±»å‹å†ä½œä¸€ç‚¹è¯´æ˜ã€‚å½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªclassçš„æ—¶å€™ï¼Œæˆ‘ä»¬å®é™…ä¸Šå°±å®šä¹‰äº†ä¸€ç§æ•°æ®ç±»å‹ã€‚æˆ‘ä»¬å®šä¹‰çš„æ•°æ®ç±»å‹å’ŒPythonè‡ªå¸¦çš„æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚strã€listã€dictæ²¡ä»€ä¹ˆä¸¤æ ·ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># aæ˜¯listç±»å‹</span>b <span class="token operator">=</span> Animal<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># bæ˜¯Animalç±»å‹</span>c <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># cæ˜¯Dogç±»å‹</span></code></pre></div></figure><p>åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æŸä¸ªç±»å‹å¯ä»¥ç”¨<code>isinstance()</code>åˆ¤æ–­ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token builtin">list</span><span class="token punctuation">)</span><span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> Animal<span class="token punctuation">)</span><span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> Dog<span class="token punctuation">)</span><span class="token boolean">True</span></code></pre></div></figure><p>çœ‹æ¥<code>a</code>ã€<code>b</code>ã€<code>c</code>ç¡®å®å¯¹åº”ç€<code>list</code>ã€<code>Animal</code>ã€<code>Dog</code>è¿™3ç§ç±»å‹ã€‚</p><p>ä½†æ˜¯ç­‰ç­‰ï¼Œè¯•è¯•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> Animal<span class="token punctuation">)</span><span class="token boolean">True</span></code></pre></div></figure><p>çœ‹æ¥<code>c</code>ä¸ä»…ä»…æ˜¯<code>Dog</code>ï¼Œ<code>c</code>è¿˜æ˜¯<code>Animal</code>ï¼</p><p>ä¸è¿‡ä»”ç»†æƒ³æƒ³ï¼Œè¿™æ˜¯æœ‰é“ç†çš„ï¼Œå› ä¸º<code>Dog</code>æ˜¯ä»<code>Animal</code>ç»§æ‰¿ä¸‹æ¥çš„ï¼Œå½“æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code>Dog</code>çš„å®ä¾‹<code>c</code>æ—¶ï¼Œæˆ‘ä»¬è®¤ä¸º<code>c</code>çš„æ•°æ®ç±»å‹æ˜¯<code>Dog</code>æ²¡é”™ï¼Œä½†<code>c</code>åŒæ—¶ä¹Ÿæ˜¯<code>Animal</code>ä¹Ÿæ²¡é”™ï¼Œ<code>Dog</code>æœ¬æ¥å°±æ˜¯<code>Animal</code>çš„ä¸€ç§ï¼</p><p>æ‰€ä»¥ï¼Œåœ¨ç»§æ‰¿å…³ç³»ä¸­ï¼Œå¦‚æœä¸€ä¸ªå®ä¾‹çš„æ•°æ®ç±»å‹æ˜¯æŸä¸ªå­ç±»ï¼Œé‚£å®ƒçš„æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥è¢«çœ‹åšæ˜¯çˆ¶ç±»ã€‚ä½†æ˜¯ï¼Œåè¿‡æ¥å°±ä¸è¡Œï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">=</span> Animal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> Dog<span class="token punctuation">)</span><span class="token boolean">False</span></code></pre></div></figure><p><code>Dog</code>å¯ä»¥çœ‹æˆ<code>Animal</code>ï¼Œä½†<code>Animal</code>ä¸å¯ä»¥çœ‹æˆ<code>Dog</code>ã€‚</p><p>è¦ç†è§£å¤šæ€çš„å¥½å¤„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å†ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ª<code>Animal</code>ç±»å‹çš„å˜é‡ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">run_twice</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">:</span>    animal<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>    animal<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></figure><p>å½“æˆ‘ä»¬ä¼ å…¥<code>Animal</code>çš„å®ä¾‹æ—¶ï¼Œ<code>run_twice()</code>å°±æ‰“å°å‡ºï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> run_twice<span class="token punctuation">(</span>Animal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>Animal <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Animal <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div></figure><p>å½“æˆ‘ä»¬ä¼ å…¥<code>Dog</code>çš„å®ä¾‹æ—¶ï¼Œ<code>run_twice()</code>å°±æ‰“å°å‡ºï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> run_twice<span class="token punctuation">(</span>Dog<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>Dog <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Dog <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div></figure><p>å½“æˆ‘ä»¬ä¼ å…¥<code>Cat</code>çš„å®ä¾‹æ—¶ï¼Œ<code>run_twice()</code>å°±æ‰“å°å‡ºï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> run_twice<span class="token punctuation">(</span>Cat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>Cat <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Cat <span class="token keyword">is</span> running<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div></figure><p>çœ‹ä¸Šå»æ²¡å•¥æ„æ€ï¼Œä½†æ˜¯ä»”ç»†æƒ³æƒ³ï¼Œç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬å†å®šä¹‰ä¸€ä¸ª<code>Tortoise</code>ç±»å‹ï¼Œä¹Ÿä»<code>Animal</code>æ´¾ç”Ÿï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Tortoise</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Tortoise is running slowly...'</span><span class="token punctuation">)</span></code></pre></div></figure><p>å½“æˆ‘ä»¬è°ƒç”¨<code>run_twice()</code>æ—¶ï¼Œä¼ å…¥<code>Tortoise</code>çš„å®ä¾‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> run_twice<span class="token punctuation">(</span>Tortoise<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>Tortoise <span class="token keyword">is</span> running slowly<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Tortoise <span class="token keyword">is</span> running slowly<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div></figure><p>ä½ ä¼šå‘ç°ï¼Œæ–°å¢ä¸€ä¸ª<code>Animal</code>çš„å­ç±»ï¼Œä¸å¿…å¯¹<code>run_twice()</code>åšä»»ä½•ä¿®æ”¹ï¼Œå®é™…ä¸Šï¼Œä»»ä½•ä¾èµ–<code>Animal</code>ä½œä¸ºå‚æ•°çš„å‡½æ•°æˆ–è€…æ–¹æ³•éƒ½å¯ä»¥ä¸åŠ ä¿®æ”¹åœ°æ­£å¸¸è¿è¡Œï¼ŒåŸå› å°±åœ¨äºå¤šæ€ã€‚</p><p>å¤šæ€çš„å¥½å¤„å°±æ˜¯ï¼Œå½“æˆ‘ä»¬éœ€è¦ä¼ å…¥<code>Dog</code>ã€<code>Cat</code>ã€<code>Tortoise</code>â€¦â€¦æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦æ¥æ”¶<code>Animal</code>ç±»å‹å°±å¯ä»¥äº†ï¼Œå› ä¸º<code>Dog</code>ã€<code>Cat</code>ã€<code>Tortoise</code>â€¦â€¦éƒ½æ˜¯<code>Animal</code>ç±»å‹ï¼Œç„¶åï¼ŒæŒ‰ç…§<code>Animal</code>ç±»å‹è¿›è¡Œæ“ä½œå³å¯ã€‚ç”±äº<code>Animal</code>ç±»å‹æœ‰<code>run()</code>æ–¹æ³•ï¼Œå› æ­¤ï¼Œä¼ å…¥çš„ä»»æ„ç±»å‹ï¼Œåªè¦æ˜¯<code>Animal</code>ç±»æˆ–è€…å­ç±»ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨å®é™…ç±»å‹çš„<code>run()</code>æ–¹æ³•ï¼Œè¿™å°±æ˜¯å¤šæ€çš„æ„æ€ï¼š</p><p>å¯¹äºä¸€ä¸ªå˜é‡ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“å®ƒæ˜¯<code>Animal</code>ç±»å‹ï¼Œæ— éœ€ç¡®åˆ‡åœ°çŸ¥é“å®ƒçš„å­ç±»å‹ï¼Œå°±å¯ä»¥æ”¾å¿ƒåœ°è°ƒç”¨<code>run()</code>æ–¹æ³•ï¼Œè€Œå…·ä½“è°ƒç”¨çš„<code>run()</code>æ–¹æ³•æ˜¯ä½œç”¨åœ¨<code>Animal</code>ã€<code>Dog</code>ã€<code>Cat</code>è¿˜æ˜¯<code>Tortoise</code>å¯¹è±¡ä¸Šï¼Œç”±è¿è¡Œæ—¶è¯¥å¯¹è±¡çš„ç¡®åˆ‡ç±»å‹å†³å®šï¼Œè¿™å°±æ˜¯å¤šæ€çœŸæ­£çš„å¨åŠ›ï¼šè°ƒç”¨æ–¹åªç®¡è°ƒç”¨ï¼Œä¸ç®¡ç»†èŠ‚ï¼Œè€Œå½“æˆ‘ä»¬æ–°å¢ä¸€ç§<code>Animal</code>çš„å­ç±»æ—¶ï¼Œåªè¦ç¡®ä¿<code>run()</code>æ–¹æ³•ç¼–å†™æ­£ç¡®ï¼Œä¸ç”¨ç®¡åŸæ¥çš„ä»£ç æ˜¯å¦‚ä½•è°ƒç”¨çš„ã€‚è¿™å°±æ˜¯è‘—åçš„â€œå¼€é—­â€åŸåˆ™ï¼š</p><p>å¯¹æ‰©å±•å¼€æ”¾ï¼šå…è®¸æ–°å¢<code>Animal</code>å­ç±»ï¼›</p><p>å¯¹ä¿®æ”¹å°é—­ï¼šä¸éœ€è¦ä¿®æ”¹ä¾èµ–<code>Animal</code>ç±»å‹çš„<code>run_twice()</code>ç­‰å‡½æ•°ã€‚</p><p>ç»§æ‰¿è¿˜å¯ä»¥ä¸€çº§ä¸€çº§åœ°ç»§æ‰¿ä¸‹æ¥ï¼Œå°±å¥½æ¯”ä»çˆ·çˆ·åˆ°çˆ¸çˆ¸ã€å†åˆ°å„¿å­è¿™æ ·çš„å…³ç³»ã€‚è€Œä»»ä½•ç±»ï¼Œæœ€ç»ˆéƒ½å¯ä»¥è¿½æº¯åˆ°æ ¹ç±»objectï¼Œè¿™äº›ç»§æ‰¿å…³ç³»çœ‹ä¸Šå»å°±åƒä¸€é¢—å€’ç€çš„æ ‘ã€‚æ¯”å¦‚å¦‚ä¸‹çš„ç»§æ‰¿æ ‘ï¼š</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚    object     â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚                         â”‚           â–¼                         â–¼    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   Animal    â”‚           â”‚    Plant    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚                         â”‚     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”     â”‚            â”‚            â”‚            â”‚     â–¼            â–¼            â–¼            â–¼â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   Dog   â”‚  â”‚   Cat   â”‚  â”‚  Tree   â”‚  â”‚ Flower  â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre></div></figure><h3 id="é™æ€è¯­è¨€-vs-åŠ¨æ€è¯­è¨€"><a href="#é™æ€è¯­è¨€-vs-åŠ¨æ€è¯­è¨€" class="headerlink" title="é™æ€è¯­è¨€ vs åŠ¨æ€è¯­è¨€"></a>é™æ€è¯­è¨€ vs åŠ¨æ€è¯­è¨€</h3><p>å¯¹äºé™æ€è¯­è¨€ï¼ˆä¾‹å¦‚Javaï¼‰æ¥è¯´ï¼Œå¦‚æœéœ€è¦ä¼ å…¥<code>Animal</code>ç±»å‹ï¼Œåˆ™ä¼ å…¥çš„å¯¹è±¡å¿…é¡»æ˜¯<code>Animal</code>ç±»å‹æˆ–è€…å®ƒçš„å­ç±»ï¼Œå¦åˆ™ï¼Œå°†æ— æ³•è°ƒç”¨<code>run()</code>æ–¹æ³•ã€‚</p><p><strong>å¯¹äºPythonè¿™æ ·çš„åŠ¨æ€è¯­è¨€æ¥è¯´ï¼Œåˆ™ä¸ä¸€å®šéœ€è¦ä¼ å…¥<code>Animal</code>ç±»å‹ã€‚æˆ‘ä»¬åªéœ€è¦ä¿è¯ä¼ å…¥çš„å¯¹è±¡æœ‰ä¸€ä¸ª<code>run()</code>æ–¹æ³•å°±å¯ä»¥äº†ï¼š</strong></p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Start...'</span><span class="token punctuation">)</span></code></pre></div></figure><p>è¿™å°±æ˜¯åŠ¨æ€è¯­è¨€çš„â€œé¸­å­ç±»å‹â€ï¼Œå®ƒå¹¶ä¸è¦æ±‚ä¸¥æ ¼çš„ç»§æ‰¿ä½“ç³»ï¼Œä¸€ä¸ªå¯¹è±¡åªè¦â€œçœ‹èµ·æ¥åƒé¸­å­ï¼Œèµ°èµ·è·¯æ¥åƒé¸­å­â€ï¼Œé‚£å®ƒå°±å¯ä»¥è¢«çœ‹åšæ˜¯é¸­å­ã€‚</p><p>Pythonçš„â€œfile-like objectâ€œå°±æ˜¯ä¸€ç§é¸­å­ç±»å‹ã€‚å¯¹çœŸæ­£çš„æ–‡ä»¶å¯¹è±¡ï¼Œå®ƒæœ‰ä¸€ä¸ª<code>read()</code>æ–¹æ³•ï¼Œè¿”å›å…¶å†…å®¹ã€‚ä½†æ˜¯ï¼Œè®¸å¤šå¯¹è±¡ï¼Œåªè¦æœ‰<code>read()</code>æ–¹æ³•ï¼Œéƒ½è¢«è§†ä¸ºâ€œfile-like objectâ€œã€‚è®¸å¤šå‡½æ•°æ¥æ”¶çš„å‚æ•°å°±æ˜¯â€œfile-like objectâ€œï¼Œä½ ä¸ä¸€å®šè¦ä¼ å…¥çœŸæ­£çš„æ–‡ä»¶å¯¹è±¡ï¼Œå®Œå…¨å¯ä»¥ä¼ å…¥ä»»ä½•å®ç°äº†<code>read()</code>æ–¹æ³•çš„å¯¹è±¡ã€‚</p><h3 id="å°ç»“-5"><a href="#å°ç»“-5" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>ç»§æ‰¿å¯ä»¥æŠŠçˆ¶ç±»çš„æ‰€æœ‰åŠŸèƒ½éƒ½ç›´æ¥æ‹¿è¿‡æ¥ï¼Œè¿™æ ·å°±ä¸å¿…é‡é›¶åšèµ·ï¼Œå­ç±»åªéœ€è¦æ–°å¢è‡ªå·±ç‰¹æœ‰çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æŠŠçˆ¶ç±»ä¸é€‚åˆçš„æ–¹æ³•è¦†ç›–é‡å†™ã€‚</p><p>åŠ¨æ€è¯­è¨€çš„é¸­å­ç±»å‹ç‰¹ç‚¹å†³å®šäº†ç»§æ‰¿ä¸åƒé™æ€è¯­è¨€é‚£æ ·æ˜¯å¿…é¡»çš„ã€‚</p><h3 id="å‚è€ƒæºç -6"><a href="#å‚è€ƒæºç -6" class="headerlink" title="å‚è€ƒæºç "></a>å‚è€ƒæºç </h3><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/oop_basic/animals.py">animals.py</a></p><h2 id="ä½¿ç”¨-slots-x3D-â€˜nameâ€™-â€˜ageâ€™-ç”¨tupleå®šä¹‰å…è®¸ç»‘å®šçš„å±æ€§åç§°"><a href="#ä½¿ç”¨-slots-x3D-â€˜nameâ€™-â€˜ageâ€™-ç”¨tupleå®šä¹‰å…è®¸ç»‘å®šçš„å±æ€§åç§°" class="headerlink" title="ä½¿ç”¨__slots__  &#x3D; (â€˜nameâ€™, â€˜ageâ€™) # ç”¨tupleå®šä¹‰å…è®¸ç»‘å®šçš„å±æ€§åç§°"></a>ä½¿ç”¨__slots__  &#x3D; (â€˜nameâ€™, â€˜ageâ€™) # ç”¨tupleå®šä¹‰å…è®¸ç»‘å®šçš„å±æ€§åç§°</h2><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªclassï¼Œåˆ›å»ºäº†ä¸€ä¸ªclassçš„å®ä¾‹åï¼Œæˆ‘ä»¬å¯ä»¥ç»™è¯¥å®ä¾‹ç»‘å®šä»»ä½•å±æ€§å’Œæ–¹æ³•ï¼Œè¿™å°±æ˜¯åŠ¨æ€è¯­è¨€çš„çµæ´»æ€§ã€‚å…ˆå®šä¹‰classï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span></code></pre></div></figure><p>ç„¶åï¼Œå°è¯•ç»™å®ä¾‹ç»‘å®šä¸€ä¸ªå±æ€§ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Michael'</span> <span class="token comment"># åŠ¨æ€ç»™å®ä¾‹ç»‘å®šä¸€ä¸ªå±æ€§</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>name<span class="token punctuation">)</span>Michael</code></pre></div></figure><p>è¿˜å¯ä»¥å°è¯•ç»™å®ä¾‹ç»‘å®šä¸€ä¸ªæ–¹æ³•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">set_age</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># å®šä¹‰ä¸€ä¸ªå‡½æ•°ä½œä¸ºå®ä¾‹æ–¹æ³•</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     self<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> types <span class="token keyword">import</span> MethodType<span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>set_age <span class="token operator">=</span> MethodType<span class="token punctuation">(</span>set_age<span class="token punctuation">,</span> s<span class="token punctuation">)</span> <span class="token comment"># ç»™å®ä¾‹ç»‘å®šä¸€ä¸ªæ–¹æ³•</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>set_age<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token comment"># è°ƒç”¨å®ä¾‹æ–¹æ³•</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>age <span class="token comment"># æµ‹è¯•ç»“æœ</span><span class="token number">25</span></code></pre></div></figure><p>ä½†æ˜¯ï¼Œç»™ä¸€ä¸ªå®ä¾‹ç»‘å®šçš„æ–¹æ³•ï¼Œå¯¹å¦ä¸€ä¸ªå®ä¾‹æ˜¯ä¸èµ·ä½œç”¨çš„ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s2 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># åˆ›å»ºæ–°çš„å®ä¾‹</span><span class="token operator">>></span><span class="token operator">></span> s2<span class="token punctuation">.</span>set_age<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token comment"># å°è¯•è°ƒç”¨æ–¹æ³•</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"&lt;stdin>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>AttributeError<span class="token punctuation">:</span> <span class="token string">'Student'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'set_age'</span></code></pre></div></figure><p>ä¸ºäº†ç»™æ‰€æœ‰å®ä¾‹éƒ½ç»‘å®šæ–¹æ³•ï¼Œå¯ä»¥ç»™classç»‘å®šæ–¹æ³•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">set_score</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     self<span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> Student<span class="token punctuation">.</span>set_score <span class="token operator">=</span> set_score</code></pre></div></figure><p>ç»™classç»‘å®šæ–¹æ³•åï¼Œæ‰€æœ‰å®ä¾‹å‡å¯è°ƒç”¨ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>set_score<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>score<span class="token number">100</span><span class="token operator">>></span><span class="token operator">></span> s2<span class="token punctuation">.</span>set_score<span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> s2<span class="token punctuation">.</span>score<span class="token number">99</span></code></pre></div></figure><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸Šé¢çš„<code>set_score</code>æ–¹æ³•å¯ä»¥ç›´æ¥å®šä¹‰åœ¨classä¸­ï¼Œä½†åŠ¨æ€ç»‘å®šå…è®¸æˆ‘ä»¬åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­åŠ¨æ€ç»™classåŠ ä¸ŠåŠŸèƒ½ï¼Œè¿™åœ¨é™æ€è¯­è¨€ä¸­å¾ˆéš¾å®ç°ã€‚</p><h3 id="ä½¿ç”¨-slots"><a href="#ä½¿ç”¨-slots" class="headerlink" title="ä½¿ç”¨__slots__"></a>ä½¿ç”¨__slots__</h3><p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦é™åˆ¶å®ä¾‹çš„å±æ€§æ€ä¹ˆåŠï¼Ÿæ¯”å¦‚ï¼Œåªå…è®¸å¯¹Studentå®ä¾‹æ·»åŠ <code>name</code>å’Œ<code>age</code>å±æ€§ã€‚</p><p>ä¸ºäº†è¾¾åˆ°é™åˆ¶çš„ç›®çš„ï¼ŒPythonå…è®¸åœ¨å®šä¹‰classçš„æ—¶å€™ï¼Œå®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„<code>__slots__</code>å˜é‡ï¼Œæ¥é™åˆ¶è¯¥classå®ä¾‹èƒ½æ·»åŠ çš„å±æ€§ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span> <span class="token comment"># ç”¨tupleå®šä¹‰å…è®¸ç»‘å®šçš„å±æ€§åç§°</span></code></pre></div></figure><p>ç„¶åï¼Œæˆ‘ä»¬è¯•è¯•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># åˆ›å»ºæ–°çš„å®ä¾‹</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Michael'</span> <span class="token comment"># ç»‘å®šå±æ€§'name'</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">25</span> <span class="token comment"># ç»‘å®šå±æ€§'age'</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">99</span> <span class="token comment"># ç»‘å®šå±æ€§'score'</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"&lt;stdin>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>AttributeError<span class="token punctuation">:</span> <span class="token string">'Student'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'score'</span></code></pre></div></figure><p>ç”±äº<code>&#39;score&#39;</code>æ²¡æœ‰è¢«æ”¾åˆ°<code>__slots__</code>ä¸­ï¼Œæ‰€ä»¥ä¸èƒ½ç»‘å®š<code>score</code>å±æ€§ï¼Œè¯•å›¾ç»‘å®š<code>score</code>å°†å¾—åˆ°<code>AttributeError</code>çš„é”™è¯¯ã€‚</p><p>ä½¿ç”¨<code>__slots__</code>è¦æ³¨æ„ï¼Œ<code>__slots__</code>å®šä¹‰çš„å±æ€§ä»…å¯¹å½“å‰ç±»å®ä¾‹èµ·ä½œç”¨ï¼Œå¯¹ç»§æ‰¿çš„å­ç±»æ˜¯ä¸èµ·ä½œç”¨çš„ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">class</span> <span class="token class-name">GraduateStudent</span><span class="token punctuation">(</span>Student<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">pass</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> g <span class="token operator">=</span> GraduateStudent<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> g<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">9999</span></code></pre></div></figure><p>é™¤éåœ¨å­ç±»ä¸­ä¹Ÿå®šä¹‰<code>__slots__</code>ï¼Œè¿™æ ·ï¼Œå­ç±»å®ä¾‹å…è®¸å®šä¹‰çš„å±æ€§å°±æ˜¯è‡ªèº«çš„<code>__slots__</code>åŠ ä¸Šçˆ¶ç±»çš„<code>__slots__</code>ã€‚</p><h3 id="å‚è€ƒæºç -7"><a href="#å‚è€ƒæºç -7" class="headerlink" title="å‚è€ƒæºç "></a>å‚è€ƒæºç </h3><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/oop_advance/use_slots.py">use_slots.py</a></p><h2 id="ä½¿ç”¨-property"><a href="#ä½¿ç”¨-property" class="headerlink" title="ä½¿ç”¨@property"></a>ä½¿ç”¨@property</h2><p>åœ¨ç»‘å®šå±æ€§æ—¶ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥æŠŠå±æ€§æš´éœ²å‡ºå»ï¼Œè™½ç„¶å†™èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ˜¯ï¼Œæ²¡åŠæ³•æ£€æŸ¥å‚æ•°ï¼Œå¯¼è‡´å¯ä»¥æŠŠæˆç»©éšä¾¿æ”¹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">9999</span></code></pre></div></figure><p>è¿™æ˜¾ç„¶ä¸åˆé€»è¾‘ã€‚ä¸ºäº†é™åˆ¶scoreçš„èŒƒå›´ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ª<code>set_score()</code>æ–¹æ³•æ¥è®¾ç½®æˆç»©ï¼Œå†é€šè¿‡ä¸€ä¸ª<code>get_score()</code>æ¥è·å–æˆç»©ï¼Œè¿™æ ·ï¼Œåœ¨<code>set_score()</code>æ–¹æ³•é‡Œï¼Œå°±å¯ä»¥æ£€æŸ¥å‚æ•°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">get_score</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>         <span class="token keyword">return</span> self<span class="token punctuation">.</span>_score    <span class="token keyword">def</span> <span class="token function">set_score</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'score must be an integer!'</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> value <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> value <span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'score must between 0 ~ 100!'</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_score <span class="token operator">=</span> value</code></pre></div></figure><p>ç°åœ¨ï¼Œå¯¹ä»»æ„çš„Studentå®ä¾‹è¿›è¡Œæ“ä½œï¼Œå°±ä¸èƒ½éšå¿ƒæ‰€æ¬²åœ°è®¾ç½®scoreäº†ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>set_score<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span> <span class="token comment"># ok!</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>get_score<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">60</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>set_score<span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">)</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>ValueError<span class="token punctuation">:</span> score must between <span class="token number">0</span> <span class="token operator">~</span> <span class="token number">100</span>!</code></pre></div></figure><p>ä½†æ˜¯ï¼Œä¸Šé¢çš„è°ƒç”¨æ–¹æ³•åˆç•¥æ˜¾å¤æ‚ï¼Œæ²¡æœ‰ç›´æ¥ç”¨å±æ€§è¿™ä¹ˆç›´æ¥ç®€å•ã€‚</p><p style="color:red">æœ‰æ²¡æœ‰æ—¢èƒ½æ£€æŸ¥å‚æ•°ï¼Œåˆå¯ä»¥ç”¨ç±»ä¼¼å±æ€§è¿™æ ·ç®€å•çš„æ–¹å¼æ¥è®¿é—®ç±»çš„å˜é‡å‘¢ï¼Ÿå¯¹äºè¿½æ±‚å®Œç¾çš„Pythonç¨‹åºå‘˜æ¥è¯´ï¼Œè¿™æ˜¯å¿…é¡»è¦åšåˆ°çš„ï¼</p><p>è¿˜è®°å¾—è£…é¥°å™¨ï¼ˆdecoratorï¼‰å¯ä»¥ç»™å‡½æ•°åŠ¨æ€åŠ ä¸ŠåŠŸèƒ½å—ï¼Ÿå¯¹äºç±»çš„æ–¹æ³•ï¼Œè£…é¥°å™¨ä¸€æ ·èµ·ä½œç”¨ã€‚Pythonå†…ç½®çš„<code>@property</code>è£…é¥°å™¨å°±æ˜¯è´Ÿè´£æŠŠä¸€ä¸ªæ–¹æ³•å˜æˆå±æ€§è°ƒç”¨çš„ï¼š</p><blockquote><p><strong>Pythonå†…ç½®çš„<code>functools.wraps</code>å°±æ˜¯å¹²è¿™ä¸ªäº‹çš„ï¼Œæ‰€ä»¥ï¼Œä¸€ä¸ªå®Œæ•´çš„decoratorçš„å†™æ³•å¦‚ä¸‹ï¼š</strong></p></blockquote><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> functools<span class="token keyword">def</span> <span class="token function">log</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token decorator annotation punctuation">@functools<span class="token punctuation">.</span>wraps</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">wrapper</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'call %s():'</span> <span class="token operator">%</span> func<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span>        <span class="token keyword">return</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span>    <span class="token keyword">return</span> wrapper</code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token decorator annotation punctuation">@property</span>    <span class="token keyword">def</span> <span class="token function">score</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_score    <span class="token decorator annotation punctuation">@score<span class="token punctuation">.</span>setter</span>    <span class="token keyword">def</span> <span class="token function">score</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'score must be an integer!'</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> value <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> value <span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'score must between 0 ~ 100!'</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_score <span class="token operator">=</span> value</code></pre></div></figure><p><code>@property</code>çš„å®ç°æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬å…ˆè€ƒå¯Ÿå¦‚ä½•ä½¿ç”¨ã€‚æŠŠä¸€ä¸ªgetteræ–¹æ³•å˜æˆå±æ€§ï¼Œåªéœ€è¦åŠ ä¸Š<code>@property</code>å°±å¯ä»¥äº†ï¼Œæ­¤æ—¶ï¼Œ<code>@property</code>æœ¬èº«åˆåˆ›å»ºäº†å¦ä¸€ä¸ªè£…é¥°å™¨<code>@score.setter</code>ï¼Œè´Ÿè´£æŠŠä¸€ä¸ªsetteræ–¹æ³•å˜æˆå±æ€§èµ‹å€¼ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬å°±æ‹¥æœ‰ä¸€ä¸ªå¯æ§çš„å±æ€§æ“ä½œï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">60</span> <span class="token comment"># OKï¼Œå®é™…è½¬åŒ–ä¸ºs.set_score(60)</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>score <span class="token comment"># OKï¼Œå®é™…è½¬åŒ–ä¸ºs.get_score()</span><span class="token number">60</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">9999</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>ValueError<span class="token punctuation">:</span> score must between <span class="token number">0</span> <span class="token operator">~</span> <span class="token number">100</span>!</code></pre></div></figure><p>æ³¨æ„åˆ°è¿™ä¸ªç¥å¥‡çš„<code>@property</code>ï¼Œæˆ‘ä»¬åœ¨å¯¹å®ä¾‹å±æ€§æ“ä½œçš„æ—¶å€™ï¼Œå°±çŸ¥é“è¯¥å±æ€§å¾ˆå¯èƒ½ä¸æ˜¯ç›´æ¥æš´éœ²çš„ï¼Œè€Œæ˜¯é€šè¿‡getterå’Œsetteræ–¹æ³•æ¥å®ç°çš„ã€‚</p><p>è¿˜å¯ä»¥å®šä¹‰åªè¯»å±æ€§ï¼Œåªå®šä¹‰getteræ–¹æ³•ï¼Œä¸å®šä¹‰setteræ–¹æ³•å°±æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token decorator annotation punctuation">@property</span>    <span class="token keyword">def</span> <span class="token function">birth</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_birth    <span class="token decorator annotation punctuation">@birth<span class="token punctuation">.</span>setter</span>    <span class="token keyword">def</span> <span class="token function">birth</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>_birth <span class="token operator">=</span> value    <span class="token decorator annotation punctuation">@property</span>    <span class="token keyword">def</span> <span class="token function">age</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token number">2015</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>_birth</code></pre></div></figure><p>ä¸Šé¢çš„<code>birth</code>æ˜¯å¯è¯»å†™å±æ€§ï¼Œè€Œ<code>age</code>å°±æ˜¯ä¸€ä¸ª_åªè¯»_å±æ€§ï¼Œå› ä¸º<code>age</code>å¯ä»¥æ ¹æ®<code>birth</code>å’Œå½“å‰æ—¶é—´è®¡ç®—å‡ºæ¥ã€‚</p><p>è¦ç‰¹åˆ«æ³¨æ„ï¼šå±æ€§çš„æ–¹æ³•åä¸è¦å’Œå®ä¾‹å˜é‡é‡åã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹çš„ä»£ç æ˜¯é”™è¯¯çš„ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># æ–¹æ³•åç§°å’Œå®ä¾‹å˜é‡å‡ä¸ºbirth:</span>    <span class="token decorator annotation punctuation">@property</span>    <span class="token keyword">def</span> <span class="token function">birth</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>birth</code></pre></div></figure><p>è¿™æ˜¯å› ä¸ºè°ƒç”¨<code>s.birth</code>æ—¶ï¼Œé¦–å…ˆè½¬æ¢ä¸ºæ–¹æ³•è°ƒç”¨ï¼Œåœ¨æ‰§è¡Œ<code>return self.birth</code>æ—¶ï¼Œåˆè§†ä¸ºè®¿é—®<code>self</code>çš„å±æ€§ï¼Œäºæ˜¯åˆè½¬æ¢ä¸ºæ–¹æ³•è°ƒç”¨ï¼Œé€ æˆæ— é™é€’å½’ï¼Œæœ€ç»ˆå¯¼è‡´æ ˆæº¢å‡ºæŠ¥é”™<code>RecursionError</code>ã€‚</p><h3 id="å°ç»“-6"><a href="#å°ç»“-6" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p><code>@property</code>å¹¿æ³›åº”ç”¨åœ¨ç±»çš„å®šä¹‰ä¸­ï¼Œå¯ä»¥è®©è°ƒç”¨è€…å†™å‡ºç®€çŸ­çš„ä»£ç ï¼ŒåŒæ—¶ä¿è¯å¯¹å‚æ•°è¿›è¡Œå¿…è¦çš„æ£€æŸ¥ï¼Œè¿™æ ·ï¼Œç¨‹åºè¿è¡Œæ—¶å°±å‡å°‘äº†å‡ºé”™çš„å¯èƒ½æ€§ã€‚</p><h3 id="ç»ƒä¹ -4"><a href="#ç»ƒä¹ -4" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>è¯·åˆ©ç”¨<code>@property</code>ç»™ä¸€ä¸ª<code>Screen</code>å¯¹è±¡åŠ ä¸Š<code>width</code>å’Œ<code>height</code>å±æ€§ï¼Œä»¥åŠä¸€ä¸ªåªè¯»å±æ€§<code>resolution</code>ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># æµ‹è¯•:</span>s <span class="token operator">=</span> Screen<span class="token punctuation">(</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">1024</span>s<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">768</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'resolution ='</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>resolution<span class="token punctuation">)</span><span class="token keyword">if</span> s<span class="token punctuation">.</span>resolution <span class="token operator">==</span> <span class="token number">786432</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•é€šè¿‡!'</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•å¤±è´¥!'</span><span class="token punctuation">)</span></code></pre></div></figure><h3 id="å‚è€ƒæºç -8"><a href="#å‚è€ƒæºç -8" class="headerlink" title="å‚è€ƒæºç "></a>å‚è€ƒæºç </h3><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/oop_advance/use_property.py">use_property.py</a></p><h1 id="å®šåˆ¶ç±»-xxx"><a href="#å®šåˆ¶ç±»-xxx" class="headerlink" title="å®šåˆ¶ç±» __xxx__"></a>å®šåˆ¶ç±» <code>__xxx__</code></h1><p>çœ‹åˆ°ç±»ä¼¼<code>__slots__</code>è¿™ç§å½¢å¦‚<code>__xxx__</code>çš„å˜é‡æˆ–è€…å‡½æ•°åå°±è¦æ³¨æ„ï¼Œè¿™äº›åœ¨Pythonä¸­æ˜¯æœ‰ç‰¹æ®Šç”¨é€”çš„ã€‚</p><p><code>__slots__</code>æˆ‘ä»¬å·²ç»çŸ¥é“æ€ä¹ˆç”¨äº†ï¼Œ<code>__len__()</code>æ–¹æ³•æˆ‘ä»¬ä¹ŸçŸ¥é“æ˜¯ä¸ºäº†èƒ½è®©classä½œç”¨äº<code>len()</code>å‡½æ•°ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼ŒPythonçš„classä¸­è¿˜æœ‰è®¸å¤šè¿™æ ·æœ‰ç‰¹æ®Šç”¨é€”çš„å‡½æ•°ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šåˆ¶ç±»ã€‚</p><h3 id="str"><a href="#str" class="headerlink" title="__str__"></a>__str__</h3><p>æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ª<code>Student</code>ç±»ï¼Œæ‰“å°ä¸€ä¸ªå®ä¾‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         self<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>Student<span class="token punctuation">(</span><span class="token string">'Michael'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Student <span class="token builtin">object</span> at <span class="token number">0x109afb190</span><span class="token operator">></span></code></pre></div></figure><p>æ‰“å°å‡ºä¸€å †<code>&lt;__main__.Student object at 0x109afb190&gt;</code>ï¼Œä¸å¥½çœ‹ã€‚</p><p>æ€ä¹ˆæ‰èƒ½æ‰“å°å¾—å¥½çœ‹å‘¢ï¼Ÿåªéœ€è¦å®šä¹‰å¥½<code>__str__()</code>æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªå¥½çœ‹çš„å­—ç¬¦ä¸²å°±å¯ä»¥äº†ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         self<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">return</span> <span class="token string">'Student object (name: %s)'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>Student<span class="token punctuation">(</span><span class="token string">'Michael'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>Student <span class="token builtin">object</span> <span class="token punctuation">(</span>name<span class="token punctuation">:</span> Michael<span class="token punctuation">)</span></code></pre></div></figure><p>è¿™æ ·æ‰“å°å‡ºæ¥çš„å®ä¾‹ï¼Œä¸ä½†å¥½çœ‹ï¼Œè€Œä¸”å®¹æ˜“çœ‹å‡ºå®ä¾‹å†…éƒ¨é‡è¦çš„æ•°æ®ã€‚</p><p>ä½†æ˜¯ç»†å¿ƒçš„æœ‹å‹ä¼šå‘ç°ç›´æ¥æ•²å˜é‡ä¸ç”¨<code>print</code>ï¼Œæ‰“å°å‡ºæ¥çš„å®ä¾‹è¿˜æ˜¯ä¸å¥½çœ‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Michael'</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>Student <span class="token builtin">object</span> at <span class="token number">0x109afb310</span><span class="token operator">></span></code></pre></div></figure><p>è¿™æ˜¯å› ä¸ºç›´æ¥æ˜¾ç¤ºå˜é‡è°ƒç”¨çš„ä¸æ˜¯<code>__str__()</code>ï¼Œè€Œæ˜¯<code>__repr__()</code>ï¼Œä¸¤è€…çš„åŒºåˆ«æ˜¯<code>__str__()</code>è¿”å›ç”¨æˆ·çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œè€Œ<code>__repr__()</code>è¿”å›ç¨‹åºå¼€å‘è€…çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>__repr__()</code>æ˜¯ä¸ºè°ƒè¯•æœåŠ¡çš„ã€‚</p><p>è§£å†³åŠæ³•æ˜¯å†å®šä¹‰ä¸€ä¸ª<code>__repr__()</code>ã€‚ä½†æ˜¯é€šå¸¸<code>__str__()</code>å’Œ<code>__repr__()</code>ä»£ç éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ï¼Œæœ‰ä¸ªå·æ‡’çš„å†™æ³•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">'Student object (name=%s)'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name    __repr__ <span class="token operator">=</span> __str__</code></pre></div></figure><h3 id="iter"><a href="#iter" class="headerlink" title="__iter__"></a>__iter__</h3><p>å¦‚æœä¸€ä¸ªç±»æƒ³è¢«ç”¨äº<code>for ... in</code>å¾ªç¯ï¼Œç±»ä¼¼listæˆ–tupleé‚£æ ·ï¼Œå°±å¿…é¡»å®ç°ä¸€ä¸ª<code>__iter__()</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å¯¹è±¡ï¼Œç„¶åï¼ŒPythonçš„forå¾ªç¯å°±ä¼šä¸æ–­è°ƒç”¨è¯¥è¿­ä»£å¯¹è±¡çš„<code>__next__()</code>æ–¹æ³•æ‹¿åˆ°å¾ªç¯çš„ä¸‹ä¸€ä¸ªå€¼ï¼Œç›´åˆ°é‡åˆ°<code>StopIteration</code>é”™è¯¯æ—¶é€€å‡ºå¾ªç¯ã€‚</p><p>æˆ‘ä»¬ä»¥æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸ºä¾‹ï¼Œå†™ä¸€ä¸ªFibç±»ï¼Œå¯ä»¥ä½œç”¨äºforå¾ªç¯ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span> self<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token comment"># åˆå§‹åŒ–ä¸¤ä¸ªè®¡æ•°å™¨aï¼Œb</span>    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self <span class="token comment"># å®ä¾‹æœ¬èº«å°±æ˜¯è¿­ä»£å¯¹è±¡ï¼Œæ•…è¿”å›è‡ªå·±</span>    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span> self<span class="token punctuation">.</span>b <span class="token operator">=</span> self<span class="token punctuation">.</span>b<span class="token punctuation">,</span> self<span class="token punctuation">.</span>a <span class="token operator">+</span> self<span class="token punctuation">.</span>b <span class="token comment"># è®¡ç®—ä¸‹ä¸€ä¸ªå€¼</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>a <span class="token operator">></span> <span class="token number">100000</span><span class="token punctuation">:</span> <span class="token comment"># é€€å‡ºå¾ªç¯çš„æ¡ä»¶</span>            <span class="token keyword">raise</span> StopIteration<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>a <span class="token comment"># è¿”å›ä¸‹ä¸€ä¸ªå€¼</span></code></pre></div></figure><p>ç°åœ¨ï¼Œè¯•è¯•æŠŠFibå®ä¾‹ä½œç”¨äºforå¾ªç¯ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">for</span> n <span class="token keyword">in</span> Fib<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">1</span><span class="token number">1</span><span class="token number">2</span><span class="token number">3</span><span class="token number">5</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">46368</span><span class="token number">75025</span></code></pre></div></figure><h3 id="getitem"><a href="#getitem" class="headerlink" title="__getitem__"></a>__getitem__</h3><p>Fibå®ä¾‹è™½ç„¶èƒ½ä½œç”¨äºforå¾ªç¯ï¼Œçœ‹èµ·æ¥å’Œlistæœ‰ç‚¹åƒï¼Œä½†æ˜¯ï¼ŒæŠŠå®ƒå½“æˆlistæ¥ä½¿ç”¨è¿˜æ˜¯ä¸è¡Œï¼Œæ¯”å¦‚ï¼Œå–ç¬¬5ä¸ªå…ƒç´ ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> Fib<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"&lt;stdin>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>TypeError<span class="token punctuation">:</span> <span class="token string">'Fib'</span> <span class="token builtin">object</span> does <span class="token keyword">not</span> support indexing</code></pre></div></figure><p>è¦è¡¨ç°å¾—åƒlisté‚£æ ·æŒ‰ç…§ä¸‹æ ‡å–å‡ºå…ƒç´ ï¼Œéœ€è¦å®ç°<code>__getitem__()</code>æ–¹æ³•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span>        <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>            a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b        <span class="token keyword">return</span> a</code></pre></div></figure><p>ç°åœ¨ï¼Œå°±å¯ä»¥æŒ‰ä¸‹æ ‡è®¿é—®æ•°åˆ—çš„ä»»æ„ä¸€é¡¹äº†ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> f <span class="token operator">=</span> Fib<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token number">1</span><span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token number">1</span><span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token number">2</span><span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token number">3</span><span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token number">89</span><span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token number">573147844013817084101</span></code></pre></div></figure><p>ä½†æ˜¯listæœ‰ä¸ªç¥å¥‡çš„åˆ‡ç‰‡æ–¹æ³•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span></code></pre></div></figure><p>å¯¹äºFibå´æŠ¥é”™ã€‚åŸå› æ˜¯<code>__getitem__()</code>ä¼ å…¥çš„å‚æ•°å¯èƒ½æ˜¯ä¸€ä¸ªintï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªåˆ‡ç‰‡å¯¹è±¡<code>slice</code>ï¼Œæ‰€ä»¥è¦åšåˆ¤æ–­ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># næ˜¯ç´¢å¼•</span>            a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span>            <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>                a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b            <span class="token keyword">return</span> a        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token builtin">slice</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># næ˜¯åˆ‡ç‰‡</span>            start <span class="token operator">=</span> n<span class="token punctuation">.</span>start            stop <span class="token operator">=</span> n<span class="token punctuation">.</span>stop            <span class="token keyword">if</span> start <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                start <span class="token operator">=</span> <span class="token number">0</span>            a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span>            L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>stop<span class="token punctuation">)</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> x <span class="token operator">>=</span> start<span class="token punctuation">:</span>                    L<span class="token punctuation">.</span>append<span class="token punctuation">(</span>a<span class="token punctuation">)</span>                a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b            <span class="token keyword">return</span> L</code></pre></div></figure><p>ç°åœ¨è¯•è¯•Fibçš„åˆ‡ç‰‡ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> f <span class="token operator">=</span> Fib<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span></code></pre></div></figure><p>ä½†æ˜¯æ²¡æœ‰å¯¹stepå‚æ•°ä½œå¤„ç†ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> f<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">]</span></code></pre></div></figure><p>ä¹Ÿæ²¡æœ‰å¯¹è´Ÿæ•°ä½œå¤„ç†ï¼Œæ‰€ä»¥ï¼Œè¦æ­£ç¡®å®ç°ä¸€ä¸ª<code>__getitem__()</code>è¿˜æ˜¯æœ‰å¾ˆå¤šå·¥ä½œè¦åšçš„ã€‚</p><p>æ­¤å¤–ï¼Œå¦‚æœæŠŠå¯¹è±¡çœ‹æˆ<code>dict</code>ï¼Œ<code>__getitem__()</code>çš„å‚æ•°ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå¯ä»¥ä½œkeyçš„objectï¼Œä¾‹å¦‚<code>str</code>ã€‚</p><p>ä¸ä¹‹å¯¹åº”çš„æ˜¯<code>__setitem__()</code>æ–¹æ³•ï¼ŒæŠŠå¯¹è±¡è§†ä½œlistæˆ–dictæ¥å¯¹é›†åˆèµ‹å€¼ã€‚æœ€åï¼Œè¿˜æœ‰ä¸€ä¸ª<code>__delitem__()</code>æ–¹æ³•ï¼Œç”¨äºåˆ é™¤æŸä¸ªå…ƒç´ ã€‚</p><p>æ€»ä¹‹ï¼Œé€šè¿‡ä¸Šé¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ç±»è¡¨ç°å¾—å’ŒPythonè‡ªå¸¦çš„listã€tupleã€dictæ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œè¿™å®Œå…¨å½’åŠŸäºåŠ¨æ€è¯­è¨€çš„â€œé¸­å­ç±»å‹â€ï¼Œä¸éœ€è¦å¼ºåˆ¶ç»§æ‰¿æŸä¸ªæ¥å£ã€‚</p><h3 id="getattr"><a href="#getattr" class="headerlink" title="__getattr__"></a>__getattr__</h3><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ç±»çš„æ–¹æ³•æˆ–å±æ€§æ—¶ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±ä¼šæŠ¥é”™ã€‚æ¯”å¦‚å®šä¹‰<code>Student</code>ç±»ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Michael'</span></code></pre></div></figure><p>è°ƒç”¨<code>name</code>å±æ€§ï¼Œæ²¡é—®é¢˜ï¼Œä½†æ˜¯ï¼Œè°ƒç”¨ä¸å­˜åœ¨çš„<code>score</code>å±æ€§ï¼Œå°±æœ‰é—®é¢˜äº†ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>name<span class="token punctuation">)</span>Michael<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>score<span class="token punctuation">)</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>AttributeError<span class="token punctuation">:</span> <span class="token string">'Student'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'score'</span></code></pre></div></figure><p>é”™è¯¯ä¿¡æ¯å¾ˆæ¸…æ¥šåœ°å‘Šè¯‰æˆ‘ä»¬ï¼Œæ²¡æœ‰æ‰¾åˆ°<code>score</code>è¿™ä¸ªattributeã€‚</p><p>è¦é¿å…è¿™ä¸ªé”™è¯¯ï¼Œé™¤äº†å¯ä»¥åŠ ä¸Šä¸€ä¸ª<code>score</code>å±æ€§å¤–ï¼ŒPythonè¿˜æœ‰å¦ä¸€ä¸ªæœºåˆ¶ï¼Œé‚£å°±æ˜¯å†™ä¸€ä¸ª<code>__getattr__()</code>æ–¹æ³•ï¼ŒåŠ¨æ€è¿”å›ä¸€ä¸ªå±æ€§ã€‚ä¿®æ”¹å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Michael'</span>    <span class="token keyword">def</span> <span class="token function">__getattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> attr<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> attr<span class="token operator">==</span><span class="token string">'score'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">99</span></code></pre></div></figure><p>å½“è°ƒç”¨ä¸å­˜åœ¨çš„å±æ€§æ—¶ï¼Œæ¯”å¦‚<code>score</code>ï¼ŒPythonè§£é‡Šå™¨ä¼šè¯•å›¾è°ƒç”¨<code>__getattr__(self, &#39;score&#39;)</code>æ¥å°è¯•è·å¾—å±æ€§ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±æœ‰æœºä¼šè¿”å›<code>score</code>çš„å€¼ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>name<span class="token string">'Michael'</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>score<span class="token number">99</span></code></pre></div></figure><p>è¿”å›å‡½æ•°ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥çš„ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__getattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> attr<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> attr<span class="token operator">==</span><span class="token string">'age'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token keyword">lambda</span><span class="token punctuation">:</span> <span class="token number">25</span></code></pre></div></figure><p>åªæ˜¯è°ƒç”¨æ–¹å¼è¦å˜ä¸ºï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>age<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">25</span></code></pre></div></figure><p>æ³¨æ„ï¼Œåªæœ‰åœ¨æ²¡æœ‰æ‰¾åˆ°å±æ€§çš„æƒ…å†µä¸‹ï¼Œæ‰è°ƒç”¨<code>__getattr__</code>ï¼Œå·²æœ‰çš„å±æ€§ï¼Œæ¯”å¦‚<code>name</code>ï¼Œä¸ä¼šåœ¨<code>__getattr__</code>ä¸­æŸ¥æ‰¾ã€‚</p><p>æ­¤å¤–ï¼Œæ³¨æ„åˆ°ä»»æ„è°ƒç”¨å¦‚<code>s.abc</code>éƒ½ä¼šè¿”å›<code>None</code>ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å®šä¹‰çš„<code>__getattr__</code>é»˜è®¤è¿”å›å°±æ˜¯<code>None</code>ã€‚è¦è®©classåªå“åº”ç‰¹å®šçš„å‡ ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å°±è¦æŒ‰ç…§çº¦å®šï¼ŒæŠ›å‡º<code>AttributeError</code>çš„é”™è¯¯ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__getattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> attr<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> attr<span class="token operator">==</span><span class="token string">'age'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token keyword">lambda</span><span class="token punctuation">:</span> <span class="token number">25</span>        <span class="token keyword">raise</span> AttributeError<span class="token punctuation">(</span><span class="token string">'\'Student\' object has no attribute \'%s\''</span> <span class="token operator">%</span> attr<span class="token punctuation">)</span></code></pre></div></figure><p>è¿™å®é™…ä¸Šå¯ä»¥æŠŠä¸€ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•è°ƒç”¨å…¨éƒ¨åŠ¨æ€åŒ–å¤„ç†äº†ï¼Œä¸éœ€è¦ä»»ä½•ç‰¹æ®Šæ‰‹æ®µã€‚</p><p>è¿™ç§å®Œå…¨åŠ¨æ€è°ƒç”¨çš„ç‰¹æ€§æœ‰ä»€ä¹ˆå®é™…ä½œç”¨å‘¢ï¼Ÿä½œç”¨å°±æ˜¯ï¼Œå¯ä»¥é’ˆå¯¹å®Œå…¨åŠ¨æ€çš„æƒ…å†µä½œè°ƒç”¨ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><p>ç°åœ¨å¾ˆå¤šç½‘ç«™éƒ½æREST APIï¼Œæ¯”å¦‚æ–°æµªå¾®åšã€è±†ç“£å•¥çš„ï¼Œè°ƒç”¨APIçš„URLç±»ä¼¼ï¼š</p><ul><li><a href="http://api.server/user/friends">http://api.server/user/friends</a></li><li><a href="http://api.server/user/timeline/list">http://api.server/user/timeline/list</a></li></ul><p>å¦‚æœè¦å†™SDKï¼Œç»™æ¯ä¸ªURLå¯¹åº”çš„APIéƒ½å†™ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£å¾—ç´¯æ­»ï¼Œè€Œä¸”ï¼ŒAPIä¸€æ—¦æ”¹åŠ¨ï¼ŒSDKä¹Ÿè¦æ”¹ã€‚</p><p>åˆ©ç”¨å®Œå…¨åŠ¨æ€çš„<code>__getattr__</code>ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºä¸€ä¸ªé“¾å¼è°ƒç”¨ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Chain</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> path<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>_path <span class="token operator">=</span> path    <span class="token keyword">def</span> <span class="token function">__getattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> Chain<span class="token punctuation">(</span><span class="token string">'%s/%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>_path<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_path    __repr__ <span class="token operator">=</span> __str__</code></pre></div></figure><p>è¯•è¯•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> Chain<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>status<span class="token punctuation">.</span>user<span class="token punctuation">.</span>timeline<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token string">'/status/user/timeline/list'</span></code></pre></div></figure><p>è¿™æ ·ï¼Œæ— è®ºAPIæ€ä¹ˆå˜ï¼ŒSDKéƒ½å¯ä»¥æ ¹æ®URLå®ç°å®Œå…¨åŠ¨æ€çš„è°ƒç”¨ï¼Œè€Œä¸”ï¼Œä¸éšAPIçš„å¢åŠ è€Œæ”¹å˜ï¼</p><p>è¿˜æœ‰äº›REST APIä¼šæŠŠå‚æ•°æ”¾åˆ°URLä¸­ï¼Œæ¯”å¦‚GitHubçš„APIï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">GET <span class="token operator">/</span>users<span class="token operator">/</span><span class="token punctuation">:</span>user<span class="token operator">/</span>repos</code></pre></div></figure><p>è°ƒç”¨æ—¶ï¼Œéœ€è¦æŠŠ<code>:user</code>æ›¿æ¢ä¸ºå®é™…ç”¨æˆ·åã€‚å¦‚æœæˆ‘ä»¬èƒ½å†™å‡ºè¿™æ ·çš„é“¾å¼è°ƒç”¨ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">Chain<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>users<span class="token punctuation">(</span><span class="token string">'michael'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>repos</code></pre></div></figure><p>å°±å¯ä»¥éå¸¸æ–¹ä¾¿åœ°è°ƒç”¨APIäº†ã€‚æœ‰å…´è¶£çš„ç«¥é‹å¯ä»¥è¯•è¯•å†™å‡ºæ¥ã€‚</p><h3 id="call"><a href="#call" class="headerlink" title="__call__"></a>__call__</h3><p>ä¸€ä¸ªå¯¹è±¡å®ä¾‹å¯ä»¥æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ï¼Œå½“æˆ‘ä»¬è°ƒç”¨å®ä¾‹æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬ç”¨<code>instance.method()</code>æ¥è°ƒç”¨ã€‚èƒ½ä¸èƒ½ç›´æ¥åœ¨å®ä¾‹æœ¬èº«ä¸Šè°ƒç”¨å‘¢ï¼Ÿåœ¨Pythonä¸­ï¼Œç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚</p><p>ä»»ä½•ç±»ï¼Œåªéœ€è¦å®šä¹‰ä¸€ä¸ª<code>__call__()</code>æ–¹æ³•ï¼Œå°±å¯ä»¥ç›´æ¥å¯¹å®ä¾‹è¿›è¡Œè°ƒç”¨ã€‚è¯·çœ‹ç¤ºä¾‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name    <span class="token keyword">def</span> <span class="token function">__call__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'My name is %s.'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span></code></pre></div></figure><p>è°ƒç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Michael'</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># selfå‚æ•°ä¸è¦ä¼ å…¥</span>My name <span class="token keyword">is</span> Michael<span class="token punctuation">.</span></code></pre></div></figure><p><code>__call__()</code>è¿˜å¯ä»¥å®šä¹‰å‚æ•°ã€‚å¯¹å®ä¾‹è¿›è¡Œç›´æ¥è°ƒç”¨å°±å¥½æ¯”å¯¹ä¸€ä¸ªå‡½æ•°è¿›è¡Œè°ƒç”¨ä¸€æ ·ï¼Œæ‰€ä»¥ä½ å®Œå…¨å¯ä»¥æŠŠå¯¹è±¡çœ‹æˆå‡½æ•°ï¼ŒæŠŠå‡½æ•°çœ‹æˆå¯¹è±¡ï¼Œå› ä¸ºè¿™ä¸¤è€…ä¹‹é—´æœ¬æ¥å°±æ²¡å•¥æ ¹æœ¬çš„åŒºåˆ«ã€‚</p><p>å¦‚æœä½ æŠŠå¯¹è±¡çœ‹æˆå‡½æ•°ï¼Œé‚£ä¹ˆå‡½æ•°æœ¬èº«å…¶å®ä¹Ÿå¯ä»¥åœ¨è¿è¡ŒæœŸåŠ¨æ€åˆ›å»ºå‡ºæ¥ï¼Œå› ä¸ºç±»çš„å®ä¾‹éƒ½æ˜¯è¿è¡ŒæœŸåˆ›å»ºå‡ºæ¥çš„ï¼Œè¿™ä¹ˆä¸€æ¥ï¼Œæˆ‘ä»¬å°±æ¨¡ç³Šäº†å¯¹è±¡å’Œå‡½æ•°çš„ç•Œé™ã€‚</p><p>é‚£ä¹ˆï¼Œæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¯¹è±¡è¿˜æ˜¯å‡½æ•°å‘¢ï¼Ÿå…¶å®ï¼Œæ›´å¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦èƒ½è¢«è°ƒç”¨ï¼Œèƒ½è¢«è°ƒç”¨çš„å¯¹è±¡å°±æ˜¯ä¸€ä¸ª<code>Callable</code>å¯¹è±¡ï¼Œæ¯”å¦‚å‡½æ•°å’Œæˆ‘ä»¬ä¸Šé¢å®šä¹‰çš„å¸¦æœ‰<code>__call__()</code>çš„ç±»å®ä¾‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">callable</span><span class="token punctuation">(</span>Student<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">callable</span><span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">)</span><span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">callable</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token boolean">False</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">callable</span><span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token boolean">False</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">callable</span><span class="token punctuation">(</span><span class="token string">'str'</span><span class="token punctuation">)</span><span class="token boolean">False</span></code></pre></div></figure><p>é€šè¿‡<code>callable()</code>å‡½æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯â€œå¯è°ƒç”¨â€å¯¹è±¡ã€‚</p><h3 id="å°ç»“-7"><a href="#å°ç»“-7" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>Pythonçš„classå…è®¸å®šä¹‰è®¸å¤šå®šåˆ¶æ–¹æ³•ï¼Œå¯ä»¥è®©æˆ‘ä»¬éå¸¸æ–¹ä¾¿åœ°ç”Ÿæˆç‰¹å®šçš„ç±»ã€‚</p><p>æœ¬èŠ‚ä»‹ç»çš„æ˜¯æœ€å¸¸ç”¨çš„å‡ ä¸ªå®šåˆ¶æ–¹æ³•ï¼Œè¿˜æœ‰å¾ˆå¤šå¯å®šåˆ¶çš„æ–¹æ³•ï¼Œè¯·å‚è€ƒ<a href="http://docs.python.org/3/reference/datamodel.html#special-method-names">Pythonçš„å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><h3 id="å‚è€ƒæºç -9"><a href="#å‚è€ƒæºç -9" class="headerlink" title="å‚è€ƒæºç "></a>å‚è€ƒæºç </h3><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/oop_advance/special_str.py">special_str.py</a></p><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/oop_advance/special_iter.py">special_iter.py</a></p><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/oop_advance/special_getitem.py">special_getitem.py</a></p><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/oop_advance/special_getattr.py">special_getattr.py</a></p><p><a href="https://github.com/michaelliao/learn-python3/blob/master/samples/oop_advance/special_call.py">special_call.py</a></p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åˆ†æ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è½¬è½½</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NumPyç”Ÿæˆè‡ªå®šä¹‰æ•°ç»„</title>
    <link href="/2022/11/15/NumPy%E7%94%9F%E6%88%90%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E7%BB%84/"/>
    <url>/2022/11/15/NumPy%E7%94%9F%E6%88%90%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E7%BB%84/</url>
    
    <content type="html"><![CDATA[<h2 id="ç‰¹æ®Šæ•°ç»„çš„åˆ›å»ºæ–¹æ³•"><a href="#ç‰¹æ®Šæ•°ç»„çš„åˆ›å»ºæ–¹æ³•" class="headerlink" title="ç‰¹æ®Šæ•°ç»„çš„åˆ›å»ºæ–¹æ³•"></a>ç‰¹æ®Šæ•°ç»„çš„åˆ›å»ºæ–¹æ³•</h2><ul><li><p>numpy.arange ç”Ÿæˆæ•°å€¼èŒƒå›´</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">numpy<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>start<span class="token punctuation">,</span> stop<span class="token punctuation">,</span> step<span class="token punctuation">,</span> dtype<span class="token punctuation">)</span></code></pre></div></figure></li><li><p>numpy.linspace ç”Ÿæˆç­‰å·®æ•°åˆ—</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>start<span class="token punctuation">,</span> stop<span class="token punctuation">,</span> num<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> endpoint<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> retstep<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span></code></pre></div></figure></li><li><p>numpy.logspace ç”Ÿæˆç­‰æ¯”æ•°åˆ—</p></li></ul><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>logspace<span class="token punctuation">(</span>start<span class="token punctuation">,</span> stop<span class="token punctuation">,</span> num<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> endpoint<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> base<span class="token operator">=</span><span class="token number">10.0</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span></code></pre></div></figure><ul><li><p>np.zeros å…¨0æ•°ç»„</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>                      <span class="token comment"># é»˜è®¤æ˜¯æµ®ç‚¹å‹</span></code></pre></div></figure></li><li><p>np.oneså…¨1æ•°ç»„</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                  <span class="token comment"># ä¸‰è¡Œä¸¤åˆ—</span></code></pre></div></figure></li><li><p>éšæœºæ•°ç»„ï¼šrandç”Ÿæˆæœä»01åˆ†å¸ƒçš„éšæœºæ•°</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>                <span class="token comment"># è¿”å›æœä»01åˆ†å¸ƒçš„5ä¸ªæ•°</span></code></pre></div></figure></li><li><p>éšæœºæ•°ç»„ï¼šrandnç”Ÿæˆæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„éšæœºæ•°</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> </code></pre></div></figure></li><li><p>éšæœºæ•°ç»„ï¼šnormalç”Ÿæˆå…ƒç´ æ˜¯æŒ‡å®šéšæœºåˆ†å¸ƒçš„æ•°ç»„</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">5.53705005</span><span class="token punctuation">,</span>  <span class="token number">1.95477989</span><span class="token punctuation">,</span>  <span class="token number">3.07768639</span><span class="token punctuation">]</span><span class="token punctuation">,</span>               <span class="token punctuation">[</span> <span class="token number">4.15457427</span><span class="token punctuation">,</span>  <span class="token number">3.69587242</span><span class="token punctuation">,</span>  <span class="token number">3.18715934</span><span class="token punctuation">]</span><span class="token punctuation">,</span>               <span class="token punctuation">[</span> <span class="token number">5.46093734</span><span class="token punctuation">,</span>  <span class="token number">6.60888084</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.55980278</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></div></figure></li><li><p>ç”Ÿæˆå…¨æ•°å€¼ç›¸åŒçš„æ•°ç»„</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>full<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span></code></pre></div></figure></li><li><p>np.eyeç”Ÿæˆå•ä½çŸ©é˜µ</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>eye<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>```       <span class="token operator">-</span> np<span class="token punctuation">.</span>diagç”Ÿæˆå¯¹è§’çŸ©é˜µ```pythonnp<span class="token punctuation">.</span>diag<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>```       <span class="token operator">-</span> np<span class="token punctuation">.</span>arrayæŒ‰ç…§æŸç§å½¢çŠ¶ç”Ÿæˆndarray```pythone <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>e<span class="token punctuation">)</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>np<span class="token punctuation">.</span>ones_like<span class="token punctuation">(</span>e<span class="token punctuation">)</span>np<span class="token punctuation">.</span>zeros_like<span class="token punctuation">(</span>e<span class="token punctuation">)</span>np<span class="token punctuation">.</span>full_like<span class="token punctuation">(</span>e<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span></code></pre></div></figure></li></ul><h2 id="æ•°ç»„å¸¸ç”¨å˜å½¢æ–¹æ³•"><a href="#æ•°ç»„å¸¸ç”¨å˜å½¢æ–¹æ³•" class="headerlink" title="æ•°ç»„å¸¸ç”¨å˜å½¢æ–¹æ³•"></a>æ•°ç»„å¸¸ç”¨å˜å½¢æ–¹æ³•</h2><ul><li>reshapeæ–¹æ³•ï¼šè°ƒæ•´æ•°ç»„è¡Œåˆ—ç»“æ„<figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>a1array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0.56262855</span><span class="token punctuation">,</span> <span class="token number">0.73129141</span><span class="token punctuation">,</span> <span class="token number">0.86289312</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">0.93186546</span><span class="token punctuation">,</span> <span class="token number">0.93884182</span><span class="token punctuation">,</span> <span class="token number">0.22485166</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></div></figure></li><li>flattenæ–¹æ³•ï¼šå°†æ•°ç»„é™ä¸ºä¸€ç»´æ•°ç»„<figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">a1<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>shape<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token punctuation">)</span></code></pre></div></figure></li><li>.Tæ–¹æ³•ï¼šæ•°ç»„çš„è½¬ç½®<figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">a1array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0.56262855</span><span class="token punctuation">,</span> <span class="token number">0.73129141</span><span class="token punctuation">,</span> <span class="token number">0.86289312</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">0.93186546</span><span class="token punctuation">,</span> <span class="token number">0.93884182</span><span class="token punctuation">,</span> <span class="token number">0.22485166</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>a1<span class="token punctuation">.</span>T                    <span class="token comment"># å°±ç±»ä¼¼äºçŸ©é˜µçš„è½¬ç½®</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0.56262855</span><span class="token punctuation">,</span> <span class="token number">0.93186546</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">0.73129141</span><span class="token punctuation">,</span> <span class="token number">0.93884182</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">0.86289312</span><span class="token punctuation">,</span> <span class="token number">0.22485166</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></div></figure></li></ul><h2 id="æ•°ç»„çš„æ‹¼æ¥"><a href="#æ•°ç»„çš„æ‹¼æ¥" class="headerlink" title="æ•°ç»„çš„æ‹¼æ¥"></a>æ•°ç»„çš„æ‹¼æ¥</h2><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>```        <span class="token operator">-</span> vstackï¼šçºµå‘æ‹¼æ¥ï¼ŒæŒ‰åˆ—æ‹¼æ¥ï¼Œæ–°å¢è¡Œï¼Œä¸Šä¸‹æ‹¼æ¥```pythonnp<span class="token punctuation">.</span>vstack<span class="token punctuation">(</span><span class="token punctuation">[</span>a1<span class="token punctuation">,</span> a2<span class="token punctuation">]</span><span class="token punctuation">)</span>             <span class="token comment"># éœ€è¦è¾“å…¥ä¸€ä¸ªåºåˆ—</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></div></figure><ul><li>hstackï¼šæ¨ªå‘æ‹¼æ¥ï¼ŒæŒ‰è¡Œæ‹¼æ¥ï¼Œæ–°å¢åˆ—ï¼Œå·¦å³æ‹¼æ¥</li></ul><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>hstack<span class="token punctuation">(</span><span class="token punctuation">[</span>a1<span class="token punctuation">,</span> a2<span class="token punctuation">]</span><span class="token punctuation">)</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></div></figure><h2 id="æ•°ç»„çš„åˆ‡åˆ†"><a href="#æ•°ç»„çš„åˆ‡åˆ†" class="headerlink" title="æ•°ç»„çš„åˆ‡åˆ†"></a>æ•°ç»„çš„åˆ‡åˆ†</h2><p>å½“ç„¶ï¼Œæœ‰æ‹¼æ¥å°±æœ‰åˆ‡åˆ†ã€‚æ¥ä¸‹æ¥ï¼Œç®€å•çœ‹ä¸‹æ•°ç»„çš„åˆ‡åˆ†æ–¹æ³•ã€‚æ‹¼æ¥æ—¶å…³é”®å­—æ˜¯<code>stack</code>ï¼Œåˆ‡åˆ†æ—¶å…³é”®å­—æ˜¯<code>split</code></p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span>          <span class="token comment"># åˆ›å»º3è¡Œ8åˆ—çš„äºŒç»´æ•°ç»„</span>aarray<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span>  <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></div></figure><ul><li>hsplitï¼šå·¦å³åˆ‡åˆ†<figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># å½“ç¬¬äºŒä¸ªå‚æ•°åªè¾“å…¥ä¸€ä¸ªæ•°æ—¶ï¼Œæ˜¯è¿›è¡Œç­‰åˆ†</span>np<span class="token punctuation">.</span>hsplit<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">[</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span>  <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment"># æ— æ³•ç­‰åˆ†çš„æƒ…å†µä¼šæŠ¥é”™</span>np<span class="token punctuation">.</span>hsplit<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>```````python<span class="token comment"># å½“ç¬¬äºŒä¸ªå‚æ•°è¾“å…¥ä¸€ä¸ªåºåˆ—æ—¶ï¼Œåˆ™æ˜¯æ ¹æ®åˆ—æ ‡è¿›è¡Œåˆ‡åˆ†</span>np<span class="token punctuation">.</span>hsplit<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>          <span class="token comment"># ç¬¬ä¸€åˆ—ã€ç¬¬äºŒåˆ—ã€ç¬¬ä¸‰åˆ—åè¿›è¡Œåˆ‡åˆ†</span><span class="token punctuation">[</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">17</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span>  <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">-</span> vsplitï¼šä¸Šä¸‹åˆ‡åˆ†```pythonnp<span class="token punctuation">.</span>vsplit<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>                <span class="token comment"># ä¸‰ç­‰åˆ†</span><span class="token punctuation">[</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span></code></pre></div></figure></li><li>array_splitï¼šé€šç”¨åˆ‡åˆ†æ–¹æ³•<figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># å‡åˆ†</span>np<span class="token punctuation">.</span>array_split<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment"># axis = 1ï¼Œå·¦å³åˆ‡åˆ†</span><span class="token punctuation">[</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span>  <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment"># æ ¹æ®åˆ—æ ‡è¿›è¡Œåˆ‡åˆ†</span>np<span class="token punctuation">.</span>array_split<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span>  <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment"># å‡åˆ†</span>np<span class="token punctuation">.</span>array_split<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>         <span class="token comment"># axis = 0ï¼Œä¸Šä¸‹åˆ‡åˆ†</span><span class="token punctuation">[</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment"># æ ¹æ®è¡Œæ ‡è¿›è¡Œåˆ‡åˆ†</span>np<span class="token punctuation">.</span>array_split<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">[</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">,</span>  <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span></code></pre></div></figure></li></ul><h2 id="æ•°ç»„çš„ç®—æ•°è¿ç®—"><a href="#æ•°ç»„çš„ç®—æ•°è¿ç®—" class="headerlink" title="æ•°ç»„çš„ç®—æ•°è¿ç®—"></a>æ•°ç»„çš„ç®—æ•°è¿ç®—</h2><table><thead><tr><th><strong>æ•°å­¦è¿ç®—å‡½æ•°</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>np.add(x1ï¼Œx2 )</td><td>æŒ‰å…ƒç´ æ·»åŠ å‚æ•°ï¼Œç­‰æ•ˆäº x1 + x2</td></tr><tr><td>np.subtract(x1ï¼Œx2)</td><td>æŒ‰å…ƒç´ æ–¹å¼å‡å»å‚æ•°ï¼Œç­‰æ•ˆäºx1 - x2</td></tr><tr><td>np.multiply(x1ï¼Œx2)</td><td>é€å…ƒç´ ä¹˜æ³•å‚æ•°ï¼Œç­‰æ•ˆäºx1 * x2</td></tr><tr><td>np.divide(x1ï¼Œx2)</td><td>é€å…ƒç´ é™¤ä»¥å‚æ•°ï¼Œç­‰æ•ˆäºx1 &#x2F; x2</td></tr><tr><td>np.exp(x)</td><td>è®¡ç®—eçš„xæ¬¡æ–¹ã€‚</td></tr><tr><td>np.exp2(x)</td><td>è®¡ç®—2çš„xæ¬¡æ–¹ã€‚</td></tr><tr><td>np.power(x1,x2)</td><td>è®¡ç®—x1çš„x2æ¬¡å¹‚ã€‚</td></tr><tr><td>np.mod(x)</td><td>è¿”å›è¾“å…¥æ•°ç»„ä¸­ç›¸åº”å…ƒç´ çš„é™¤æ³•ä½™æ•°.</td></tr><tr><td>np.log(x)</td><td>è‡ªç„¶å¯¹æ•°ï¼Œé€å…ƒç´ ã€‚</td></tr><tr><td>np.log2(x)</td><td><em>x</em>çš„åŸºç¡€2å¯¹æ•°ã€‚</td></tr><tr><td>np.log10(x)</td><td>ä»¥å…ƒç´ ä¸ºå•ä½è¿”å›è¾“å…¥æ•°ç»„çš„åŸºæ•°10çš„å¯¹æ•°ã€‚</td></tr><tr><td>np.expm1(x)</td><td>å¯¹æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ è®¡ç®—<code>expï¼ˆxï¼‰ - 1</code></td></tr><tr><td>np.log1p(x)</td><td>è¿”å›ä¸€ä¸ªåŠ è‡ªç„¶å¯¹æ•°çš„è¾“å…¥æ•°ç»„ã€‚</td></tr><tr><td>np.sqrt(x)</td><td>æŒ‰å…ƒç´ æ–¹å¼è¿”å›æ•°ç»„çš„æ­£å¹³æ–¹æ ¹ã€‚</td></tr><tr><td>np.square(x)</td><td>è¿”å›è¾“å…¥çš„å…ƒç´ å¹³æ–¹ã€‚</td></tr><tr><td>np.sin(x)</td><td>ä¸‰è§’æ­£å¼¦ã€‚</td></tr><tr><td>np.cos(x)</td><td>å…ƒç´ ä½™å¼¦ã€‚</td></tr><tr><td>np.tan(x)</td><td>é€å…ƒç´ è®¡ç®—åˆ‡çº¿ã€‚</td></tr><tr><td>np.round(x)</td><td>å››èˆäº”å…¥</td></tr><tr><td>np.floor(x)</td><td>å‘ä¸‹å–æ•´</td></tr><tr><td>np.ceil(x)</td><td>å‘ä¸Šå–æ•´</td></tr><tr><td>æ•°ç»„çš„ç»Ÿè®¡è¿ç®—</td><td></td></tr><tr><td>NumPyæœ‰å¾ˆå¤šæœ‰ç”¨çš„ç»Ÿè®¡å‡½æ•°ï¼Œç”¨äºä»æ•°ç»„ä¸­ç»™å®šçš„å…ƒç´ ä¸­æŸ¥æ‰¾æœ€å°ï¼Œæœ€å¤§ï¼Œç™¾åˆ†æ ‡å‡†å·®å’Œæ–¹å·®ç­‰ã€‚</td><td></td></tr><tr><td><strong>å¸¸ç”¨ç»Ÿè®¡å‡½æ•°ï¼š</strong></td><td></td></tr></tbody></table><table><thead><tr><th><strong>å‡½æ•°åç§°</strong></th><th><strong>NaNå®‰å…¨ç‰ˆæœ¬</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>np.sum()</td><td>np.nansum()</td><td>è®¡ç®—å…ƒç´ çš„å’Œ</td></tr><tr><td>np.min()</td><td>np.nanmin()</td><td>æ‰¾å‡ºæœ€å°å€¼</td></tr><tr><td>np.max()</td><td>np.nanmax()</td><td>æ‰¾å‡ºæœ€å¤§å€¼</td></tr><tr><td>np.prod()</td><td>np.nanprod()</td><td>è®¡ç®—å…ƒç´ çš„ç§¯</td></tr><tr><td>np.ptp()</td><td>N&#x2F;A</td><td>è®¡ç®—å…ƒç´ çš„æå·®ï¼ˆæœ€å¤§å€¼ - æœ€å°å€¼ï¼‰</td></tr><tr><td>np.mean()</td><td>np.nanmean()</td><td>è®¡ç®—å…ƒç´ çš„ç®—æœ¯å¹³å‡å€¼</td></tr><tr><td>np.std()</td><td>np.nanstd()</td><td>è®¡ç®—æ ‡å‡†å·®</td></tr><tr><td>np.var()</td><td>np.nanvar()</td><td>è®¡ç®—æ–¹å·®</td></tr><tr><td>np.percentile()</td><td>np.nanpercentile()</td><td>è®¡ç®—ç™¾åˆ†ä½æ•°</td></tr><tr><td>np.median()</td><td>np.nanmedian()</td><td>è®¡ç®—ä¸­ä½æ•°</td></tr><tr><td>np.average()</td><td>N&#x2F;A</td><td>è¿”å›æ•°ç»„çš„åŠ æƒå¹³å‡å€¼</td></tr><tr><td>np.any()</td><td>N&#x2F;A</td><td>éªŒè¯ä»»ä½•ä¸€ä¸ªå…ƒç´ æ˜¯å¦ä¸ºçœŸ</td></tr><tr><td>np.all()</td><td>N&#x2F;A</td><td>éªŒè¯æ‰€æœ‰å…ƒç´ æ˜¯å¦ä¸ºçœŸ</td></tr></tbody></table><h2 id="æ•°ç»„çš„çº¿æ€§ä»£æ•°å‡½æ•°"><a href="#æ•°ç»„çš„çº¿æ€§ä»£æ•°å‡½æ•°" class="headerlink" title="æ•°ç»„çš„çº¿æ€§ä»£æ•°å‡½æ•°"></a>æ•°ç»„çš„çº¿æ€§ä»£æ•°å‡½æ•°</h2><p>NumPyæ‹¥æœ‰numpy.linalg æ¨¡å—ï¼Œæä¾›çº¿æ€§ä»£æ•°æ‰€éœ€çš„æ‰€æœ‰åŠŸèƒ½ã€‚</p><ul><li>np.dot() è¿”å›ä¸¤ä¸ªæ•°ç»„çš„ç‚¹ç§¯</li><li>np.vdot() è¿”å›ä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯</li><li>np.inner() è¿”å›ä¸€ç»´æ•°ç»„çš„å‘é‡å†…ç§¯</li><li>np.matmul() è¿”å›ä¸¤ä¸ªæ•°ç»„çš„çŸ©é˜µä¹˜ç§¯</li><li>np.linalg.det() è®¡ç®—è¾“å…¥çŸ©é˜µçš„è¡Œåˆ—å¼</li><li>np.linalg.solve() æ±‚è§£çŸ©é˜µå½¢å¼çš„çº¿æ€§æ–¹ç¨‹çš„è§£</li><li>np.linalg.inv() è®¡ç®—çŸ©é˜µçš„é€†</li></ul><h2 id="Pandas-DataFrameçš„åˆ›å»º"><a href="#Pandas-DataFrameçš„åˆ›å»º" class="headerlink" title="Pandas-DataFrameçš„åˆ›å»º"></a>Pandas-DataFrameçš„åˆ›å»º</h2><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>                   index<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>                   columns<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>                  dtype<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>                   copy<span class="token operator">=</span><span class="token boolean">False</span>                  <span class="token punctuation">)</span></code></pre></div></figure><h2 id="ç”±Seriesåˆ›å»ºDataFrame"><a href="#ç”±Seriesåˆ›å»ºDataFrame" class="headerlink" title="ç”±Seriesåˆ›å»ºDataFrame"></a>ç”±Seriesåˆ›å»ºDataFrame</h2><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">s1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>s2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">[</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></div></figure><h2 id="äºŒç»´arrayåˆ›å»ºDataFrame"><a href="#äºŒç»´arrayåˆ›å»ºDataFrame" class="headerlink" title="äºŒç»´arrayåˆ›å»ºDataFrame"></a>äºŒç»´arrayåˆ›å»ºDataFrame</h2><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>a<span class="token punctuation">)</span></code></pre></div></figure><h2 id="åˆ©ç”¨å­—å…¸åˆ›å»ºDataFrame"><a href="#åˆ©ç”¨å­—å…¸åˆ›å»ºDataFrame" class="headerlink" title="åˆ©ç”¨å­—å…¸åˆ›å»ºDataFrame"></a>åˆ©ç”¨å­—å…¸åˆ›å»ºDataFrame</h2><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">d1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'a'</span><span class="token punctuation">:</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">:</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">:</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>d1<span class="token punctuation">)</span></code></pre></div></figure><p>åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œå­—å…¸çš„Keyä¼šç¼–ç¨‹columnåç§°ï¼Œå¹¶ä¸”ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆindex.</p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åˆ†æ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PythonåŸºç¡€çŸ¥è¯†</title>
    <link href="/2022/11/15/Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2022/11/15/Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<ul><li>åˆ—è¡¨æ˜¯æœ‰åºçš„å¯å˜å®¹å™¨</li><li>å…ƒç»„æ˜¯æœ‰åºçš„ä¸å¯å˜å®¹å™¨</li><li>å­—å…¸æ˜¯æ— åºçš„å¯å˜å®¹å™¨â€“&gt;å­—å…¸ä¹Ÿè¢«ç§°ä½œå…³è”æ•°ç»„æˆ–è€…å“ˆå¸Œè¡¨</li><li>é›†åˆæ˜¯æ— åºä¸”ä¸å¯å˜ç±»å‹å®¹å™¨</li></ul><table><thead><tr><th>å…ƒå­—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>[\b]</td><td>å›é€€ï¼ˆåˆ é™¤ï¼‰ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td>\f</td><td>æ¢é¡µç¬¦</td></tr><tr><td>\n</td><td>æ¢è¡Œç¬¦</td></tr><tr><td>\r</td><td>å›è½¦ç¬¦</td></tr><tr><td>\t</td><td>åˆ¶è¡¨ç¬¦</td></tr><tr><td>\v</td><td>å‚ç›´åˆ¶è¡¨ç¬¦</td></tr></tbody></table><h2 id="å­—ç¬¦ä¸²æ–¹æ³•"><a href="#å­—ç¬¦ä¸²æ–¹æ³•" class="headerlink" title="å­—ç¬¦ä¸²æ–¹æ³•"></a>å­—ç¬¦ä¸²æ–¹æ³•</h2><ul><li>findâ€“&gt;è¿”å›æŸä¸ªå­—ç¬¦ä¸²ä½ç½®</li><li>replaceâ€“&gt;æ›¿æ¢æŸä¸ªå­—ç¬¦ä¸²</li><li>stripâ€“&gt;å»é™¤æŸä¸ªå­—ç¬¦ä¸²</li><li>splitâ€“&gt;ä»¥æŸä¸ªå­—ç¬¦ä¸²å‰åæ‹†åˆ†ï¼Œä¸ä¿ç•™åˆ†éš”ç¬¦å·ï¼Œè¿”å›åˆ—è¡¨</li><li>partition â€“&gt;ä»¥æŸä¸ªå­—ç¬¦ä¸²å‰åæ‹†åˆ†ï¼Œä¿ç•™åˆ†éš”ç¬¦å·ï¼Œè¿”å›å…ƒç»„</li><li>indexâ€“&gt;è¿”å›æŸä¸ªå­—ç¬¦ä¸²çš„ç´¢å¼•</li><li>upper&amp;lowerâ€“&gt;è½¬æ¢å¤§å°å†™</li><li>join â€“&gt;ç”¨äºåœ¨æŒ‡å®šå­—ç¬¦ä¸²ä¸­é—´ç©¿æ’å…¶ä»–å­—ç¬¦ä¸²</li><li>formatâ€“&gt;æ ¼å¼åŒ–è¾“å‡º</li></ul><h2 id=""><a href="#" class="headerlink" title=""></a></h2><ul><li>appendâ€“&gt;ä¸€æ¬¡åŠ ä¸€ä¸ª</li><li>extendâ€“&gt;ä¸€æ¬¡åŠ å¤šä¸ª</li><li>insertâ€“&gt;æŒ‡å®šç´¢å¼•ä½ç½®æ’å…¥</li><li>pop â€“&gt;æŒ‡å®šç´¢å¼•ä½ç½®åˆ é™¤</li><li>removeâ€“&gt;ç§»é™¤æŒ‡å®šå…ƒç´ </li><li>delâ€“&gt;åˆ é™¤æ•´ä¸ªå¯¹è±¡</li><li>clearâ€“&gt;æ¸…ç©ºæ•´ä¸ªåˆ—è¡¨</li><li>indexâ€“&gt;è¿”å›åˆ—è¡¨å…ƒç´ çš„ç´¢å¼•</li><li>countâ€“&gt;ç»Ÿè®¡åˆ—è¡¨å…ƒç´ å‡ºç°æ¬¡æ•°</li><li>inâ€“&gt;</li><li>sortâ€“&gt;æ’åºï¼Œå¯é€‰reverse&#x3D;Trueåè½¬</li><li>reverseâ€“&gt;åè½¬åˆ—è¡¨</li></ul><h2 id="å…ƒç»„æ–¹æ³•"><a href="#å…ƒç»„æ–¹æ³•" class="headerlink" title="å…ƒç»„æ–¹æ³•"></a>å…ƒç»„æ–¹æ³•</h2><ul><li>count</li><li>index</li><li>in</li></ul><h2 id="å­—å…¸æ–¹æ³•"><a href="#å­—å…¸æ–¹æ³•" class="headerlink" title="å­—å…¸æ–¹æ³•"></a>å­—å…¸æ–¹æ³•</h2><ul><li>keys()&#x2F;Values()â€“&gt;è¿”å›é”®&#x2F;å€¼å¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨listå’Œtupleè½¬æ¢</li><li>itemsâ€“&gt;è¿”å›é”®å€¼å…ƒç»„</li><li>updateâ€“&gt;æœ‰é¡ºåºæ›´æ–°ï¼Œæœ‰æ–¹å‘æ›´æ–°ï¼Œæ›¿æ¢é‡å¤å€¼</li><li>setdefaultâ€“&gt;é€‰æ‹©æ€§æ›´æ–°ï¼ŒåŸä½ç½®å·²æœ‰å€¼è¿”å›åŸå€¼ï¼Œæ— å€¼è¿”å›æ–°å€¼d.setdefault(â€˜Aâ€™, 5)</li></ul><h2 id="é›†åˆæ–¹æ³•"><a href="#é›†åˆæ–¹æ³•" class="headerlink" title="é›†åˆæ–¹æ³•"></a>é›†åˆæ–¹æ³•</h2><ul><li>add â€“&gt;æ·»åŠ ä¸€ä¸ªå…ƒç´ </li><li>removeâ€“&gt;ç§»é™¤ä¸€ä¸ªå…ƒç´ </li><li>popâ€“&gt;éšæœºåˆ é™¤ä¸€ä¸ªå…ƒç´ </li><li>äº¤é›†è¿ç®—ç¬¦â€“&gt;&amp;    intersectionintersection_update</li><li>å¹¶é›†è¿ç®—ç¬¦â€“&gt;|    union  update</li><li>å·®é›†è¿ç®—ç¬¦â€“&gt;-    differencedifference_update</li><li>è¡¥é›†è¿ç®—ç¬¦â€“&gt;^    symmetric_differencesymmetric_difference_update</li><li>é›†åˆå…³ç³»åˆ¤æ–­ â€“&gt;     issubset issupersetisdisjoint</li><li>å†»é›†åˆâ€”â€”ä¸å¯å˜é›†åˆç±»å‹</li></ul><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>å®šä¹‰å‡½æ•°</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sum_1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""è®©è¾“å…¥çš„ä¸¤ä¸ªå¯¹è±¡åˆ©ç”¨åŠ å·è¿ç®—ç¬¦è¿›è¡Œç›¸åŠ     å‚æ•°ï¼š\n    aï¼šå‡½æ•°è¾“å…¥çš„ç¬¬ä¸€ä¸ªå¯¹è±¡\n    bï¼šå‡½æ•°è¾“å…¥çš„ç¬¬äºŒä¸ªå¯¹è±¡\n    returnï¼Œè¿”å›a+bçš„ç»“æœ    """</span>    c <span class="token operator">=</span> a <span class="token operator">+</span> b                   <span class="token keyword">return</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>   </code></pre></div></figure><h2 id="å½¢å‚å’Œå…¨å±€å˜é‡"><a href="#å½¢å‚å’Œå…¨å±€å˜é‡" class="headerlink" title="å½¢å‚å’Œå…¨å±€å˜é‡"></a>å½¢å‚å’Œå…¨å±€å˜é‡</h2><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"> <span class="token comment"># å®šä¹‰æ—¶å°æ‹¬å·ä¸­çš„å‚æ•°ï¼Œç”¨æ¥æ¥æ”¶å‚æ•°ç”¨çš„ï¼Œç§°ä¸º â€œå½¢å‚â€ï¼ˆå½¢å¼å‚æ•°ï¼‰ï¼Œ</span>    <span class="token comment"># è€Œè°ƒç”¨æ—¶å°æ‹¬å·ä¸­çš„å‚æ•°ï¼Œç”¨æ¥ä¼ é€’ç»™å‡½æ•°ç”¨çš„ï¼Œç§°ä¸º â€œå®å‚â€ï¼ˆå®é™…å‚æ•°ï¼‰ </span><span class="token keyword">def</span> <span class="token function">sum_1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>                c <span class="token operator">=</span> a <span class="token operator">+</span> b                    <span class="token keyword">return</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>      <span class="token keyword">def</span> <span class="token function">sum_2</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> a <span class="token comment"># å£°æ˜å…¨å±€å˜é‡</span>    a <span class="token operator">+=</span> b    <span class="token keyword">return</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    </code></pre></div></figure><h2 id="å¯å˜é•¿å‚æ•°"><a href="#å¯å˜é•¿å‚æ•°" class="headerlink" title="å¯å˜é•¿å‚æ•°"></a>å¯å˜é•¿å‚æ•°</h2><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sum_2</span><span class="token punctuation">(</span><span class="token operator">*</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>               <span class="token comment"># æ­¤æ—¶*numå°±æ˜¯ä¸€ä¸ªå¯å˜é•¿å‚æ•°</span>    r <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> num<span class="token punctuation">:</span>              <span class="token comment"># ä½†å¯å˜é•¿å‚æ•°åä»ç„¶æ˜¯numè€Œé*num</span>        r <span class="token operator">+=</span> i    <span class="token keyword">return</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span></code></pre></div></figure><h2 id="ç±»Class"><a href="#ç±»Class" class="headerlink" title="ç±»Class"></a>ç±»Class</h2><h3 id="å®šä¹‰é™æ€å±æ€§"><a href="#å®šä¹‰é™æ€å±æ€§" class="headerlink" title="å®šä¹‰é™æ€å±æ€§"></a>å®šä¹‰é™æ€å±æ€§</h3><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Human</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''äººç±»'''</span>    mam <span class="token operator">=</span> <span class="token boolean">True</span>     å®šä¹‰åŠ¨æ€å±æ€§<span class="token triple-quoted-string string">"""__init__å‡½æ•°è§£é‡Šï¼š      æ˜¯ä¸€ç§ç‰¹æ®Šå‡½æ•°ï¼Œä¹Ÿç§°ä¸ºæ˜¯æ„é€ å‡½æ•°ï¼Œå¤šç”¨äºå¸¦å‚æ•°å±æ€§çš„ç±»çš„åˆ›å»ºè¿‡ç¨‹ï¼›selfæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‚æ•°ï¼Œç›¸å½“äºç±»æœ¬èº«çš„ä¸€ç§è¡¨ç¤ºï¼Œç›¸å½“äºæ˜¯Cä¸­çš„æŒ‡é’ˆâ€œthisâ€ï¼Œæ˜¯initå‡½æ•°å¿…é¡»è®¾ç½®çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼›ç±»ä¸­å®šä¹‰çš„å‡½æ•°ä¹Ÿéœ€è¦ä¼ å…¥selfå‚æ•°ï¼›è¿™äº›å‡½æ•°å¯ä»¥é€šè¿‡å¤–éƒ¨è°ƒç”¨æ–¹æ³•çš„æ–¹å¼è¿›è¡Œè°ƒç”¨ã€‚"""</span><span class="token keyword">class</span> <span class="token class-name">Human</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''äººç±»'''</span>    mam <span class="token operator">=</span> <span class="token boolean">True</span>     <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> gender <span class="token operator">=</span> <span class="token string">'Unknow'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age        self<span class="token punctuation">.</span>gender <span class="token operator">=</span> gender        zs <span class="token operator">=</span> Human<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'M'</span><span class="token punctuation">)</span>       <span class="token comment"># é‡æ–°è®¾ç½®å±æ€§</span><span class="token keyword">class</span> <span class="token class-name">Human1</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''äººç±»'''</span>    mam <span class="token operator">=</span> <span class="token boolean">True</span>    <span class="token decorator annotation punctuation">@property</span>             <span class="token comment">#å±æ€§ç§æœ‰åŒ–ï¼Œé˜²æ­¢è¢«ä¿®æ”¹</span>    <span class="token keyword">def</span> <span class="token function">mam</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">True</span><span class="token triple-quoted-string string">"""propertyï¼Œåˆ™å¯å°†æ–¹æ³•è½¬åŒ–ä¸ºå±æ€§ã€‚å› æ­¤ï¼Œä¸Šè¿°ç±»çš„åˆ›å»ºï¼Œç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªå±æ€§mamå’Œä¸€ä¸ªåŒåæ–¹æ³•mamï¼Œå¹¶ä¸”å°†åŒåæ–¹æ³•è½¬åŒ–ä¸ºäº†å±æ€§"""</span></code></pre></div></figure><h2 id="ç±»çš„ç»§æ‰¿"><a href="#ç±»çš„ç»§æ‰¿" class="headerlink" title="ç±»çš„ç»§æ‰¿"></a>ç±»çš„ç»§æ‰¿</h2><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Point</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                       self<span class="token punctuation">.</span>x <span class="token operator">=</span> x        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y    <span class="token keyword">def</span> <span class="token function">dis</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">-</span> p<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>y <span class="token operator">-</span> p<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">0.5</span><span class="token keyword">class</span> <span class="token class-name">Point1</span><span class="token punctuation">(</span>Point<span class="token punctuation">)</span><span class="token punctuation">:</span>     <span class="token comment"># ç»§æ‰¿è‡ªPointç±»</span>    <span class="token keyword">def</span> <span class="token function">dis</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">-</span> p<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>y <span class="token operator">-</span> p<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><h2 id="äºŒç»´åˆ°å¤šç»´"><a href="#äºŒç»´åˆ°å¤šç»´" class="headerlink" title="äºŒç»´åˆ°å¤šç»´"></a>äºŒç»´åˆ°å¤šç»´</h2><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Point2</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># å®šä¹‰ä¸€ä¸ªå¯å˜é•¿æ•°ç»„ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºåˆ—è¡¨å¯¹è±¡</span>        self<span class="token punctuation">.</span>l <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Point2</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>                       self<span class="token punctuation">.</span>l <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">dis</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span>        t <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            t<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>l<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> p<span class="token punctuation">.</span>l<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">0.5</span></code></pre></div></figure><h2 id="å‡½æ•°å’Œæ–¹æ³•çš„åŒºåˆ«"><a href="#å‡½æ•°å’Œæ–¹æ³•çš„åŒºåˆ«" class="headerlink" title="å‡½æ•°å’Œæ–¹æ³•çš„åŒºåˆ«"></a>å‡½æ•°å’Œæ–¹æ³•çš„åŒºåˆ«</h2><blockquote><p>å‡½æ•°å’Œæ–¹æ³•çš„åŒºåˆ«ï¼šæ–¹æ³•æ˜¯å®šä¹‰åœ¨ç±»é‡Œé¢çš„å‡½æ•°ï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åˆ†æ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚ä½•åœ¨Markdowné‡Œä½¿ç”¨Echartså›¾è¡¨ï¼Ÿ</title>
    <link href="/2022/11/14/%E5%A6%82%E4%BD%95%E5%9C%A8Markdown%E9%87%8C%E4%BD%BF%E7%94%A8Echarts%E5%9B%BE%E8%A1%A8%EF%BC%9F/"/>
    <url>/2022/11/14/%E5%A6%82%E4%BD%95%E5%9C%A8Markdown%E9%87%8C%E4%BD%BF%E7%94%A8Echarts%E5%9B%BE%E8%A1%A8%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<h2 id="ä½¿ç”¨HTMLæ¶¦è‰²æ–‡æœ¬"><a href="#ä½¿ç”¨HTMLæ¶¦è‰²æ–‡æœ¬" class="headerlink" title="ä½¿ç”¨HTMLæ¶¦è‰²æ–‡æœ¬"></a>ä½¿ç”¨HTMLæ¶¦è‰²æ–‡æœ¬</h2><p><span  style="color: #519D9E; ">#519D9Eé¢œè‰²æ¼”ç¤º</span></p><h2 id="Markdowné‡Œå›¾ç‰‡å¼•å…¥çš„ä¸‰ç§æ–¹æ³•"><a href="#Markdowné‡Œå›¾ç‰‡å¼•å…¥çš„ä¸‰ç§æ–¹æ³•" class="headerlink" title="Markdowné‡Œå›¾ç‰‡å¼•å…¥çš„ä¸‰ç§æ–¹æ³•"></a>Markdowné‡Œå›¾ç‰‡å¼•å…¥çš„ä¸‰ç§æ–¹æ³•</h2><ul><li>ç¬¬ä¸€ç§</li></ul><figure><div class="code-wrapper"><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://images.unsplash.com/photo-1533257266619-e841826ce739?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=2369&amp;q=80<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>some_text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></div></figure><img src="https://images.unsplash.com/photo-1533257266619-e841826ce739?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2369&q=80" alt="some_text"><ul><li>ç¬¬äºŒç§</li></ul><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">![å›¾ç‰‡å¼•ç”¨æ–¹æ³•äºŒ](&#x2F;image&#x2F;test.jpg)</code></pre></div></figure><p><img src="/image/test.jpg" alt="å›¾ç‰‡å¼•ç”¨æ–¹æ³•ä¸‰"></p><ul><li>ç¬¬ä¸‰ç§</li></ul><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">&#123;% asset_img image&#x2F;test.png å›¾ç‰‡å¼•ç”¨æ–¹æ³•ä¸€ %&#125;</code></pre></div></figure><img class="test.jpg å›¾ç‰‡å¼•ç”¨æ–¹æ³•ä¸€"><h2 id="å¼•å…¥å¤–éƒ¨HTML-ä½¿ç”¨iframe"><a href="#å¼•å…¥å¤–éƒ¨HTML-ä½¿ç”¨iframe" class="headerlink" title="å¼•å…¥å¤–éƒ¨HTML - ä½¿ç”¨iframe"></a>å¼•å…¥å¤–éƒ¨HTML - ä½¿ç”¨iframe</h2><iframe src="//https://jaling9.github.io/index.html" width="100%" height="400" name="topFrame" scrolling="yes" noresize="noresize" frameborder="0" id="topFrame"> </iframe><p>ä¹Ÿå¯ä»¥æ˜¯è§†é¢‘éŸ³ä¹ç­‰</p><figure><div class="code-wrapper"><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//player.bilibili.com/player.html?aid=689464853&amp;bvid=BV1Wm4y1F7cs&amp;cid=871780885&amp;page=1<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>topFrame<span class="token punctuation">"</span></span> <span class="token attr-name">scrolling</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yes<span class="token punctuation">"</span></span> <span class="token attr-name">noresize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noresize<span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>topFrame<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span></code></pre></div></figure><iframe src="//player.bilibili.com/player.html?aid=689464853&bvid=BV1Wm4y1F7cs&cid=871780885&page=1" width="100%" height="400" name="topFrame" scrolling="yes" noresize="noresize" frameborder="0" id="topFrame"> </iframe><h2 id="å¼•å…¥æœ¬åœ°echasrts-æ–¹æ³•ä¸€-ä½¿ç”¨iframeå¼•å…¥htmlæ–‡ä»¶"><a href="#å¼•å…¥æœ¬åœ°echasrts-æ–¹æ³•ä¸€-ä½¿ç”¨iframeå¼•å…¥htmlæ–‡ä»¶" class="headerlink" title="å¼•å…¥æœ¬åœ°echasrts æ–¹æ³•ä¸€ ä½¿ç”¨iframeå¼•å…¥htmlæ–‡ä»¶"></a>å¼•å…¥æœ¬åœ°echasrts æ–¹æ³•ä¸€ ä½¿ç”¨iframeå¼•å…¥htmlæ–‡ä»¶</h2><iframe src="//html-echarts/render.html" width="100%" height="600" name="topFrame" scrolling="yes" noresize="noresize" frameborder="0" id="topFrame"></iframe><h2 id="å¼•å…¥æœ¬åœ°echarts-æ–¹æ³•äºŒ-ç›´æ¥å†™HTMLå’ŒJS"><a href="#å¼•å…¥æœ¬åœ°echarts-æ–¹æ³•äºŒ-ç›´æ¥å†™HTMLå’ŒJS" class="headerlink" title="å¼•å…¥æœ¬åœ°echarts æ–¹æ³•äºŒ ç›´æ¥å†™HTMLå’ŒJS"></a>å¼•å…¥æœ¬åœ°echarts æ–¹æ³•äºŒ ç›´æ¥å†™HTMLå’ŒJS</h2><figure><div class="code-wrapper"><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token property">weight</span><span class="token punctuation">:</span>100%<span class="token punctuation">:</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">weight</span><span class="token punctuation">:</span>100%</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span><span class="token property">weight</span><span class="token punctuation">:</span>100%</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://fastly.jsdelivr.net/npm/echarts@5.4.0/dist/echarts.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">var</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> myChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>dom<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">renderer</span><span class="token operator">:</span> <span class="token string">'canvas'</span><span class="token punctuation">,</span>            <span class="token literal-property property">useDirtyRect</span><span class="token operator">:</span> <span class="token boolean">false</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> option<span class="token punctuation">;</span>        option <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">'#2c343c'</span><span class="token punctuation">,</span>            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'Customized Pie'</span><span class="token punctuation">,</span>                <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>                <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>                <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#ccc'</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'item'</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">visualMap</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>                <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>                <span class="token literal-property property">inRange</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">colorLightness</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Access From'</span><span class="token punctuation">,</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'pie'</span><span class="token punctuation">,</span>                <span class="token literal-property property">radius</span><span class="token operator">:</span> <span class="token string">'55%'</span><span class="token punctuation">,</span>                <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'50%'</span><span class="token punctuation">,</span> <span class="token string">'50%'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>                    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">335</span><span class="token punctuation">,</span>                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Direct'</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">310</span><span class="token punctuation">,</span>                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Email'</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">274</span><span class="token punctuation">,</span>                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Union Ads'</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">235</span><span class="token punctuation">,</span>                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Video Ads'</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Search Engine'</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> a<span class="token punctuation">.</span>value <span class="token operator">-</span> b<span class="token punctuation">.</span>value<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token literal-property property">roseType</span><span class="token operator">:</span> <span class="token string">'radius'</span><span class="token punctuation">,</span>                <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'rgba(255, 255, 255, 0.3)'</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token literal-property property">labelLine</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">lineStyle</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'rgba(255, 255, 255, 0.3)'</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                    <span class="token literal-property property">smooth</span><span class="token operator">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>                    <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>                    <span class="token literal-property property">length2</span><span class="token operator">:</span> <span class="token number">20</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#c23531'</span><span class="token punctuation">,</span>                    <span class="token literal-property property">shadowBlur</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>                    <span class="token literal-property property">shadowColor</span><span class="token operator">:</span> <span class="token string">'rgba(0, 0, 0, 0.5)'</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token literal-property property">animationType</span><span class="token operator">:</span> <span class="token string">'scale'</span><span class="token punctuation">,</span>                <span class="token literal-property property">animationEasing</span><span class="token operator">:</span> <span class="token string">'elasticOut'</span><span class="token punctuation">,</span>                <span class="token function-variable function">animationDelay</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">idx</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">200</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>option <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> option <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            myChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> myChart<span class="token punctuation">.</span>resize<span class="token punctuation">)</span><span class="token punctuation">;</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre></div></figure><body style="height: 600px;;weight:100%: margin: 0;weight:100%">    <div id="container" style="height: 400px;weight:100%"></div>    <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.4.0/dist/echarts.min.js"></script>    <script type="text/javascript">        var dom = document.getElementById('container');        var myChart = echarts.init(dom, null, {            renderer: 'canvas',            useDirtyRect: false        });        var app = {};        var option;        option = {            backgroundColor: '#2c343c',            title: {                text: 'Customized Pie',                left: 'center',                top: 20,                textStyle: {                    color: '#ccc'                }            },            tooltip: {                trigger: 'item'            },            visualMap: {                show: false,                min: 80,                max: 600,                inRange: {                    colorLightness: [0, 1]                }            },            series: [{                name: 'Access From',                type: 'pie',                radius: '55%',                center: ['50%', '50%'],                data: [{                    value: 335,                    name: 'Direct'                }, {                    value: 310,                    name: 'Email'                }, {                    value: 274,                    name: 'Union Ads'                }, {                    value: 235,                    name: 'Video Ads'                }, {                    value: 400,                    name: 'Search Engine'                }].sort(function(a, b) {                    return a.value - b.value;                }),                roseType: 'radius',                label: {                    color: 'rgba(255, 255, 255, 0.3)'                },                labelLine: {                    lineStyle: {                        color: 'rgba(255, 255, 255, 0.3)'                    },                    smooth: 0.2,                    length: 10,                    length2: 20                },                itemStyle: {                    color: '#c23531',                    shadowBlur: 200,                    shadowColor: 'rgba(0, 0, 0, 0.5)'                },                animationType: 'scale',                animationEasing: 'elasticOut',                animationDelay: function(idx) {                    return Math.random() * 200;                }            }]        };        if (option && typeof option === 'object') {            myChart.setOption(option);        }        window.addEventListener('resize', myChart.resize);    </script></body><h2 id="å¼•å…¥æœ¬åœ°echarts-æ–¹æ³•ä¸‰-ä½¿ç”¨tagsè¯­æ³•å¼•å…¥JSä»£ç "><a href="#å¼•å…¥æœ¬åœ°echarts-æ–¹æ³•ä¸‰-ä½¿ç”¨tagsè¯­æ³•å¼•å…¥JSä»£ç " class="headerlink" title="å¼•å…¥æœ¬åœ°echarts æ–¹æ³•ä¸‰ ä½¿ç”¨tagsè¯­æ³•å¼•å…¥JSä»£ç "></a>å¼•å…¥æœ¬åœ°echarts æ–¹æ³•ä¸‰ ä½¿ç”¨tagsè¯­æ³•å¼•å…¥JSä»£ç </h2><p>é€šè¿‡jsDelivrçš„CDNå¼•å…¥echarts</p><script src="https://cdn.jsdelivr.net/npm/echarts@4.8.0/dist/echarts.min.js"></script><p>ä½¿ç”¨GLé‡Œçš„å„ç§ç»„ä»¶æ—¶éœ€è¦æ·»åŠ ï¼Œå¦åˆ™å¯ä¸éœ€è¦</p><script src="https://cdn.jsdelivr.net/npm/echarts-gl@1.1.1/dist/echarts-gl.min.js"></script><figure><div class="code-wrapper"><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span><span class="token operator">%</span> echarts <span class="token number">400</span> <span class="token string">'85%'</span> <span class="token operator">%</span><span class="token punctuation">&#125;</span>  <span class="token comment">// åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹</span>    <span class="token keyword">var</span> myChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'main'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®</span>    <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token punctuation">&#123;</span> <span class="token operator">%</span> echarts <span class="token number">400</span> <span class="token string">'85%'</span> <span class="token operator">%</span>        <span class="token punctuation">&#125;</span>        option <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'å †å åŒºåŸŸå›¾'</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'axis'</span><span class="token punctuation">,</span>                <span class="token literal-property property">axisPointer</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'cross'</span><span class="token punctuation">,</span>                    <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                        <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">'#6a7985'</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">legend</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'é‚®ä»¶è¥é”€'</span><span class="token punctuation">,</span> <span class="token string">'è”ç›Ÿå¹¿å‘Š'</span><span class="token punctuation">,</span> <span class="token string">'è§†é¢‘å¹¿å‘Š'</span><span class="token punctuation">,</span> <span class="token string">'ç›´æ¥è®¿é—®'</span><span class="token punctuation">,</span> <span class="token string">'æœç´¢å¼•æ“'</span><span class="token punctuation">]</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">toolbox</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">feature</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">saveAsImage</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">grid</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">'3%'</span><span class="token punctuation">,</span>                <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token string">'4%'</span><span class="token punctuation">,</span>                <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token string">'3%'</span><span class="token punctuation">,</span>                <span class="token literal-property property">containLabel</span><span class="token operator">:</span> <span class="token boolean">true</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">xAxis</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>                <span class="token literal-property property">boundaryGap</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'å‘¨ä¸€'</span><span class="token punctuation">,</span> <span class="token string">'å‘¨äºŒ'</span><span class="token punctuation">,</span> <span class="token string">'å‘¨ä¸‰'</span><span class="token punctuation">,</span> <span class="token string">'å‘¨å››'</span><span class="token punctuation">,</span> <span class="token string">'å‘¨äº”'</span><span class="token punctuation">,</span> <span class="token string">'å‘¨å…­'</span><span class="token punctuation">,</span> <span class="token string">'å‘¨æ—¥'</span><span class="token punctuation">]</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token literal-property property">yAxis</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'value'</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'é‚®ä»¶è¥é”€'</span><span class="token punctuation">,</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>                <span class="token literal-property property">stack</span><span class="token operator">:</span> <span class="token string">'æ€»é‡'</span><span class="token punctuation">,</span>                <span class="token literal-property property">areaStyle</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">134</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">230</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">]</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'è”ç›Ÿå¹¿å‘Š'</span><span class="token punctuation">,</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>                <span class="token literal-property property">stack</span><span class="token operator">:</span> <span class="token string">'æ€»é‡'</span><span class="token punctuation">,</span>                <span class="token literal-property property">areaStyle</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">182</span><span class="token punctuation">,</span> <span class="token number">191</span><span class="token punctuation">,</span> <span class="token number">234</span><span class="token punctuation">,</span> <span class="token number">290</span><span class="token punctuation">,</span> <span class="token number">330</span><span class="token punctuation">,</span> <span class="token number">310</span><span class="token punctuation">]</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'è§†é¢‘å¹¿å‘Š'</span><span class="token punctuation">,</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>                <span class="token literal-property property">stack</span><span class="token operator">:</span> <span class="token string">'æ€»é‡'</span><span class="token punctuation">,</span>                <span class="token literal-property property">areaStyle</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">232</span><span class="token punctuation">,</span> <span class="token number">201</span><span class="token punctuation">,</span> <span class="token number">154</span><span class="token punctuation">,</span> <span class="token number">190</span><span class="token punctuation">,</span> <span class="token number">330</span><span class="token punctuation">,</span> <span class="token number">410</span><span class="token punctuation">]</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'ç›´æ¥è®¿é—®'</span><span class="token punctuation">,</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>                <span class="token literal-property property">stack</span><span class="token operator">:</span> <span class="token string">'æ€»é‡'</span><span class="token punctuation">,</span>                <span class="token literal-property property">areaStyle</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">332</span><span class="token punctuation">,</span> <span class="token number">301</span><span class="token punctuation">,</span> <span class="token number">334</span><span class="token punctuation">,</span> <span class="token number">390</span><span class="token punctuation">,</span> <span class="token number">330</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">]</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æœç´¢å¼•æ“'</span><span class="token punctuation">,</span>                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>                <span class="token literal-property property">stack</span><span class="token operator">:</span> <span class="token string">'æ€»é‡'</span><span class="token punctuation">,</span>                <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">normal</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                        <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                        <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">'top'</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token literal-property property">areaStyle</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token punctuation">&#123;</span> <span class="token operator">%</span> endecharts <span class="token operator">%</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token comment">// ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚</span>    myChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åˆ·æ–°è°ƒæ•´</span>    window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        myChart<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> endecharts <span class="token operator">%</span><span class="token punctuation">&#125;</span></code></pre></div></figure><div id="echarts5524" style="width: 85%;height: 400px;margin: 0 auto"></div><script type="text/javascript">        // åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹        var myChart = echarts.init(document.getElementById('echarts5524'));        // æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®        var option =  option = { title: { text: 'å †å åŒºåŸŸå›¾' }, tooltip: { trigger: 'axis', axisPointer: { type: 'cross', label: { backgroundColor: '#6a7985' } } }, legend: { data: ['é‚®ä»¶è¥é”€', 'è”ç›Ÿå¹¿å‘Š', 'è§†é¢‘å¹¿å‘Š', 'ç›´æ¥è®¿é—®', 'æœç´¢å¼•æ“'] }, toolbox: { feature: { saveAsImage: {} } }, grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true }, xAxis: [ { type: 'category', boundaryGap: false, data: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'] } ], yAxis: [ { type: 'value' } ], series: [ { name: 'é‚®ä»¶è¥é”€', type: 'line', stack: 'æ€»é‡', areaStyle: {}, data: [120, 132, 101, 134, 90, 230, 210] }, { name: 'è”ç›Ÿå¹¿å‘Š', type: 'line', stack: 'æ€»é‡', areaStyle: {}, data: [220, 182, 191, 234, 290, 330, 310] }, { name: 'è§†é¢‘å¹¿å‘Š', type: 'line', stack: 'æ€»é‡', areaStyle: {}, data: [150, 232, 201, 154, 190, 330, 410] }, { name: 'ç›´æ¥è®¿é—®', type: 'line', stack: 'æ€»é‡', areaStyle: {}, data: [320, 332, 301, 334, 390, 330, 320] }, { name: 'æœç´¢å¼•æ“', type: 'line', stack: 'æ€»é‡', label: { normal: { show: true, position: 'top' } }, areaStyle: {}, data: [820, 932, 901, 934, 1290, 1330, 1320] } ] };        // ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚        myChart.setOption(option);</script><div id="echarts3242" style="width: 85%;height: 400px;margin: 0 auto"></div><script type="text/javascript">        // åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹        var myChart = echarts.init(document.getElementById('echarts3242'));        // æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®        var option =  option = { xAxis: { type: 'category', boundaryGap: false }, yAxis: { type: 'value', boundaryGap: [0, '30%'] }, visualMap: { type: 'piecewise', show: false, dimension: 0, seriesIndex: 0, pieces: [{ gt: 1, lt: 3, color: 'rgba(0, 180, 0, 0.5)' }, { gt: 5, lt: 7, color: 'rgba(0, 180, 0, 0.5)' }] }, series: [ { type: 'line', smooth: 0.6, symbol: 'none', lineStyle: { color: 'green', width: 5 }, markLine: { symbol: ['none', 'none'], label: {show: false}, data: [ {xAxis: 1}, {xAxis: 3}, {xAxis: 5}, {xAxis: 7} ] }, areaStyle: {}, data: [ ['2019-10-10', 200], ['2019-10-11', 400], ['2019-10-12', 650], ['2019-10-13', 500], ['2019-10-14', 250], ['2019-10-15', 300], ['2019-10-16', 450], ['2019-10-17', 300], ['2019-10-18', 100] ] } ] };         // ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚        myChart.setOption(option);</script><div id="echarts1040" style="width: 85%;height: 400px;margin: 0 auto"></div><script type="text/javascript">        // åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹        var myChart = echarts.init(document.getElementById('echarts1040'));        // æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®        var option = option = {           backgroundColor: '#2c343c',           title: {               text: 'Customized Pie',               left: 'center',               top: 20,               textStyle: {                   color: '#ccc'               }           },           tooltip: {               trigger: 'item'           },           visualMap: {               show: false,               min: 80,               max: 600,               inRange: {                   colorLightness: [0, 1]               }           },           series: [{               name: 'Access From',               type: 'pie',               radius: '55%',               center: ['50%', '50%'],               data: [{                   value: 335,                   name: 'Direct'               }, {                   value: 310,                   name: 'Email'               }, {                   value: 274,                   name: 'Union Ads'               }, {                   value: 235,                   name: 'Video Ads'               }, {                   value: 400,                   name: 'Search Engine'               }].sort(function(a, b) {                   return a.value - b.value;               }),               roseType: 'radius',               label: {                   color: 'rgba(255, 255, 255, 0.3)'               },               labelLine: {                   lineStyle: {                       color: 'rgba(255, 255, 255, 0.3)'                   },                   smooth: 0.2,                   length: 10,                   length2: 20               },               itemStyle: {                   color: '#c23531',                   shadowBlur: 200,                   shadowColor: 'rgba(0, 0, 0, 0.5)'               },               animationType: 'scale',               animationEasing: 'elasticOut',               animationDelay: function(idx) {                   return Math.random() * 200;               }           }]       };        // ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚        myChart.setOption(option);</script><blockquote><p>å‚è€ƒï¼š<br><a href="https://hexo.fluid-dev.com/posts/hexo-echarts/#">https://hexo.fluid-dev.com/posts/hexo-echarts/#</a><br><a href="https://pxxyyz.com/posts/html-in-Fluid/#">https://pxxyyz.com/posts/html-in-Fluid/#</a><br><a href="https://echarts.apache.org/examples/zh/index.html#chart-type-bar">https://echarts.apache.org/examples/zh/index.html#chart-type-bar</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>markdown</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexo dåšå®¢éƒ¨ç½²æŠ¥é”™</title>
    <link href="/2022/11/14/hexo%E6%8A%A5%E9%94%99/"/>
    <url>/2022/11/14/hexo%E6%8A%A5%E9%94%99/</url>
    
    <content type="html"><![CDATA[<p><code>hexo d</code> åšå®¢éƒ¨ç½²çš„æ—¶å€™å‡ºç°ä¸‹é¢è¿™å„é”™è¯¯ï¼Œæ˜¯ç½‘ç»œé—®é¢˜ï¼Œæ¢ä¸ªä»£ç†èŠ‚ç‚¹å°±å¥½äº†ã€‚</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">fatal: unable to access &#39;https:&#x2F;&#x2F;github.com&#x2F;xx&#x2F;xx.github.io&#x2F;&#39;: OpenSSL SSL_read: Connection was reset, errno 10054FATAL &#123;  err: Error: Spawn failed      at ChildProcess.&lt;anonymous&gt; (D:\Blog\hexo\node_modules\hexo-util\lib\spawn.js:51:21)      at ChildProcess.emit (events.js:315:20)      at ChildProcess.cp.emit (D:\Blog\hexo\node_modules\cross-spawn\lib\enoent.js:34:29)      at Process.ChildProcess._handle.onexit (internal&#x2F;child_process.js:277:12)&#123;    code: 128  &#125;&#125; Something&#39;s wrong. Maybe you can find the solution here: %s https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;troubleshooting.html</code></pre></div></figure>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PyEchartså­¦ä¹ æ€»ç»“</title>
    <link href="/2022/11/13/pyecharts%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    <url>/2022/11/13/pyecharts%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<blockquote><p>pyecharts åˆ†ä¸º <code>v0.5.x</code> å’Œ <code>v1.0.0+</code> ä¸¤ä¸ªç‰ˆæœ¬ï¼Œè¿™ç¯‡æ€»ç»“é’ˆå¯¹æ–°ç‰ˆæœ¬ã€‚</p></blockquote><blockquote><p>æœ¬æ–‡ä¸åŒ…å«åŸºç¡€ä¾‹å­çš„æ¼”ç¤ºï¼Œä¸»è¦è®°å½•ä¸€äº›ç»†èŠ‚æ–¹é¢çš„ç†è§£ã€‚ç®€ä»‹ä¸­æ¨èçš„ç½‘ç«™æœ‰ç›¸å…³ç¤ºä¾‹ã€‚</p></blockquote><h2 id="ä¸€ã€ç®€ä»‹-â€“-Echarts-amp-PyEcharts"><a href="#ä¸€ã€ç®€ä»‹-â€“-Echarts-amp-PyEcharts" class="headerlink" title="ä¸€ã€ç®€ä»‹ â€“ Echarts &amp; PyEcharts"></a>ä¸€ã€ç®€ä»‹ â€“ Echarts &amp; PyEcharts</h2><p><a href="https://github.com/apache/echarts">Echarts</a> æ˜¯ä¸€ä¸ªåŸºäº JavaScript çš„å›¾è¡¨åº“ï¼Œç”¨äºåœ¨ HTML ä¸­ç”Ÿæˆå¯äº¤äº’çš„å›¾è¡¨ã€‚å…³äºæ›´å¤š js å›¾è¡¨åº“å¯ä»¥å‚è€ƒ CSDN ä¸Šçš„ <a href="https://blog.csdn.net/Pokemogo/article/details/78864664">è¿™ç¯‡åšå®¢</a>ã€‚<a href="https://github.com/pyecharts/pyecharts">PyEcharts</a> æ—¨åœ¨æä¾›åœ¨ Python ä¸­ä½¿ç”¨ Echarts çš„ APIï¼Œä»¥ä¾¿å°†æ•°æ®å¯è§†åŒ–çš„æµç¨‹æ•´åˆåˆ° Python æ•°æ®å¤„ç†çš„æµç¨‹å½“ä¸­ã€‚</p><p><strong>ä»¥ä¸‹æ˜¯å››ä¸ªæ–‡æ¡£å’Œç¤ºä¾‹ç½‘ç«™ï¼Œå„æœ‰ç‰¹ç‚¹ã€‚åˆ©ç”¨å¥½è¿™å‡ ä¸ªç½‘ç«™åŸºæœ¬ä¸Šå°±å¯ä»¥è§£å†³æ‰€æœ‰å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼Œè€Œä¸éœ€è¦åœ¨æœç´¢å¼•æ“ä¸­æ¼«æ— ç›®çš„åœ°ç¿»æŸ¥ã€‚</strong>ï¼ˆå–œæ¬¢è¿™ç¯‡æ–‡ç« çš„æ–°æ‰‹æœ‹å‹ï¼Œå»ºè®®å…ˆæ’¸ä¸€éä¸‹é¢ gallery.pyecharts.org é‡Œé¢çš„ä»£ç å†æ¥çœ‹ï¼Œå› ä¸ºæ–‡ç« å†™å¾—ä¸å¥½ï¼Œå…¥é—¨è€…å¾ˆå¯èƒ½ä¸€å¤´é›¾æ°´ï¼‰</p><ul><li><strong>Echarts</strong><ul><li><a href="https://www.w3cschool.cn/echarts_tutorial">https://www.w3cschool.cn/echarts_tutorial</a> ï¼ˆé…ç½®é¡¹çš„æ–‡æ¡£éå¸¸è¯¦å°½ï¼‰</li><li><a href="https://echarts.apache.org/zh/index.html">https://echarts.apache.org/zh/index.html</a> ï¼ˆ<a href="https://echarts.apache.org/examples/zh/index.html">ç¤ºä¾‹</a>ä¸­æœ‰å¾ˆå¤šå‡ºè‰²çš„å¯è§†åŒ–ä¾‹å­ï¼‰</li></ul></li><li><strong>PyEcharts</strong><ul><li><a href="https://pyecharts.org/#/zh-cn/intro">https://pyecharts.org/#/zh-cn/intro</a> ï¼ˆPyEcharts çš„ API æ–‡æ¡£ï¼‰</li><li><a href="https://gallery.pyecharts.org/#/README">https://gallery.pyecharts.org/#/README</a> ï¼ˆPyEcharts ç»˜å›¾çš„ç¤ºä¾‹å’Œä»£ç ï¼‰</li></ul></li></ul><h3 id="Echarts"><a href="#Echarts" class="headerlink" title="Echarts"></a>Echarts</h3><p>é¦–å…ˆé€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­äº†è§£ Echarts çš„å·¥ä½œæ–¹å¼ï¼Œæ³¨æ„åˆ°ä½¿ç”¨ Echarts éœ€è¦ HTML è¯­è¨€åŸºç¡€ï¼Œè¿›é˜¶åˆ™éœ€è¦ js å’Œ css çš„åŸºç¡€ã€‚ï¼ˆå¦‚æœåªæ˜¯åœ¨ Python ä¸­è¿›è¡Œå¯è§†åŒ–ï¼Œå¯¹å‰é¢ä¸‰ä»¶å¥—çš„è¦æ±‚ä¸é«˜ï¼ŒåŸºæœ¬ä¸Šçœ‹çœ‹ä¾‹å­å°±èƒ½æ‘¸ç´¢å‡ºæ¥å†™æ³•ï¼Œç¼–ç¨‹è¯­è¨€éƒ½æ˜¯å…±é€šçš„ã€‚ï¼‰</p><figure><div class="code-wrapper"><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>MyCharts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- å¼•å…¥echarts.js å¾ˆå¤šcdnæºéƒ½å¯ä»¥å¼•ç”¨ è§†æƒ…å†µä½¿ç”¨ --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/echarts@latest/dist/echarts.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- å›¾è¡¨å®¹å™¨--æ•´ä¸ªç½‘é¡µå°±æ˜¯ä¸€ä¸ªdiv å†…å®¹éƒ½æ˜¯é€šè¿‡echarts.min.jsæ¸²æŸ“å‡ºæ¥çš„ --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>main<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>400px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- å›¾è¡¨æ¸²æŸ“çš„jsä»£ç  --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">      <span class="token comment">// åˆå§‹åŒ–echartså®ä¾‹</span>      <span class="token keyword">var</span> myChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'main'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®</span>      <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token punctuation">&#123;</span>          <span class="token comment">// optionå˜é‡çš„å†…å®¹æ˜¯ä¸€ä¸ªjså¯¹è±¡ç±»å‹(Object) ç±»ä¼¼pythonä¸­çš„å­—å…¸ç±»å‹</span>          <span class="token comment">// optionå¯¹è±¡çš„å±æ€§(Attribute)å¯ä»¥èµ‹å€¼ä¸ºå„ç§jsåŸºæœ¬ç±»å‹ åŒ…æ‹¬å¯¹è±¡ç±»å‹</span>          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'ECharts å…¥é—¨ç¤ºä¾‹'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token comment">// å›¾è¡¨æ ‡é¢˜é€‰é¡¹</span>          <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                      <span class="token comment">// å·¥å…·æç¤ºé€‰é¡¹</span>          <span class="token literal-property property">legend</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'é”€é‡'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>          <span class="token comment">// å›¾ä¾‹é€‰é¡¹</span>          <span class="token literal-property property">xAxis</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"è¡¬è¡«"</span><span class="token punctuation">,</span><span class="token string">"ç¾Šæ¯›è¡«"</span><span class="token punctuation">,</span><span class="token string">"é›ªçººè¡«"</span><span class="token punctuation">,</span><span class="token string">"è£¤å­"</span><span class="token punctuation">,</span><span class="token string">"é«˜è·Ÿé‹"</span><span class="token punctuation">,</span><span class="token string">"è¢œå­"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>          <span class="token literal-property property">yAxis</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// ç¼ºçœæ—¶æ²¡æœ‰æ ‡æ³¨</span>          <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>  <span class="token comment">// serieså°±æ˜¯å›¾è¡¨ä¸»ä½“éƒ¨åˆ†ç”¨åˆ°çš„æ•°æ®</span>              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'é”€é‡'</span><span class="token punctuation">,</span>   <span class="token comment">// nameå‚æ•°ç”¨äºåŒºåˆ†å¤šä¸ªseries</span>              <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>    <span class="token comment">// å›¾è¡¨ç±»å‹ å¯ä»¥æ˜¯line,scatterç­‰</span>              <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span> <span class="token comment">// å›¾è¡¨ä¸»ä½“çš„æ•°æ® è¿™é‡Œå°±æ˜¯barçš„é•¿åº¦</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>      <span class="token comment">// ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚</span>      myChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div></figure><p><img src="https://paradiseeee.github.io/post-assets/20201221/basic.png"></p><p>å°†ä¸Šè¿°ä»£ç ä¿å­˜ä¸º html æ–‡ä»¶åœ¨æµè§ˆå™¨æ‰“å¼€å°±å¯ä»¥çœ‹åˆ°å›¾è¡¨äº†ï¼ˆå·¦å›¾ï¼‰ï¼Œå¦‚æœç›´æ¥å°† <code>&lt;head&gt;</code> ä¸­å¼•ç”¨çš„ js æ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°ï¼Œå°†å¼•ç”¨é“¾æ¥æ”¹ä¸ºæœ¬åœ°æ–‡ä»¶é“¾æ¥ï¼Œé‚£ä¹ˆæ— ç½‘ç»œçš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥æ˜¾ç¤ºã€‚æ¸…æ¥šäº†åŸç†å¾ˆå®¹æ˜“å°±å¯ä»¥ç”»å‡ºè‡ªå·±æƒ³è¦çš„å›¾è¡¨ï¼Œæ¯”å¦‚å°†ä¸Šè¿°ä»£ç ä¸­ <code>option.series[0].type</code> çš„å€¼æ”¹ä¸º <code>line</code>ï¼Œæ¡å½¢å›¾å°±å˜æˆæŠ˜çº¿å›¾äº†ï¼ˆå³å›¾ï¼‰ã€‚å°† <code>option.series[0].data</code> ä¸­çš„æ•°æ®æ”¹ä¸ºè‡ªå·±çš„æ•°æ®ï¼Œå°±å¯ä»¥å¯è§†åŒ–è‡ªå·±çš„æ•°æ®äº†ã€‚</p><h3 id="PyEcharts"><a href="#PyEcharts" class="headerlink" title="PyEcharts"></a>PyEcharts</h3><p>ä½†æ˜¯åœ¨å®é™…çš„æ•°æ®å¯è§†åŒ–ä¸­ï¼Œæˆ‘ä»¬çš„æ•°æ®å¯èƒ½è¦æˆåƒä¸Šä¸‡è¡Œï¼Œç»˜åˆ¶çš„å›¾è¡¨ä¹Ÿæœ‰å¾ˆå¤šä¸ªï¼Œä¸å¯èƒ½æ‰‹åŠ¨å¤åˆ¶ç²˜è´´å»ä¿®æ”¹ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ° pyecharts äº†ã€‚é¦–å…ˆé€šè¿‡ <code>pip install pyecharts --upgrade</code> å®‰è£…æˆ–æ›´æ–°åˆ°æœ€æ–°ç‰ˆã€‚ç»˜åˆ¶ä»¥ä¸ŠåŒæ ·çš„å›¾è¡¨ï¼Œåªéœ€è¦ä»¥ä¸‹çš„ä»£ç ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># å¼•å…¥å­æ¨¡å—</span><span class="token keyword">from</span> pyecharts <span class="token keyword">import</span> charts <span class="token keyword">as</span> pyc<span class="token keyword">from</span> pyecharts <span class="token keyword">import</span> options <span class="token keyword">as</span> opts<span class="token comment"># è¿™é‡Œé“¾å¼è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥å…ˆå®ä¾‹åŒ–ä¸€ä¸ª charts å¯¹è±¡å†ä¸€æ­¥æ­¥è®¾ç½®</span>bar <span class="token operator">=</span> <span class="token punctuation">(</span>    <span class="token comment"># å®ä¾‹åŒ–ï¼š</span>    pyc<span class="token punctuation">.</span>Bar<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># å¯¹åº”ä¸Šé¢htmlæ–‡æ¡£ä¸­çš„ option.XAxis.dataï¼š</span>    <span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"è¡¬è¡«"</span><span class="token punctuation">,</span> <span class="token string">"ç¾Šæ¯›è¡«"</span><span class="token punctuation">,</span> <span class="token string">"é›ªçººè¡«"</span><span class="token punctuation">,</span> <span class="token string">"è£¤å­"</span><span class="token punctuation">,</span> <span class="token string">"é«˜è·Ÿé‹"</span><span class="token punctuation">,</span> <span class="token string">"è¢œå­"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment"># å¯¹åº”ä¸Šé¢htmlæ–‡æ¡£ä¸­çš„ option.seriesï¼š</span>    <span class="token comment"># æ³¨æ„åˆ° option.series æ˜¯jsæ•°ç»„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æ·»åŠ å¤šä¸ªåºåˆ—</span>    <span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span><span class="token string">"é”€é‡"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># global_opts å¯¹åº”ä¸Šé¢htmlæ–‡æ¡£ä¸­çš„ option çš„å±æ€§</span>    <span class="token comment"># ä¾‹å¦‚ option.title é€šè¿‡ title_opts å‚æ•°è®¾ç½®</span>    <span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TitleOpts<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"Echarts å…¥é—¨ç¤ºä¾‹"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># åœ¨å½“å‰ç›®å½•ç”Ÿæˆé»˜è®¤åç§°ä¸º render.html çš„æ–‡æ¡£</span>bar<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></figure><p>é€šè¿‡è¿™ä¸ªä¾‹å­å°±å¯ä»¥ç†è§£ï¼Œpyecharts å°±æ˜¯é€šè¿‡ python ä»£ç è®¾ç½® js ä»£ç é‡Œé¢çš„å˜é‡ï¼Œç„¶åç”Ÿæˆ html æ–‡æ¡£ã€‚ç”Ÿæˆçš„ html æ–‡æ¡£ä¸åŒçš„æ˜¯ pyecharts ä¼šæŠŠç¼ºçœçš„å‚æ•°è‡ªåŠ¨å¡«å……é»˜è®¤å€¼ï¼Œæ‰€ä»¥ç”Ÿæˆçš„ html ä»£ç ä¼šæ¯”ä¸Šé¢è‡ªå·±å†™çš„é•¿å¾ˆå¤šã€‚ä»è¿™é‡Œä¹Ÿå¯ä»¥æ˜ç™½ä¸ºä»€ä¹ˆè¯´ä½¿ç”¨ pyecharts è¦ä½¿ç”¨å¼€å§‹ä»‹ç»çš„ä¸¤ä¸ª echarts çš„ç½‘ç«™ï¼Œå› ä¸ºå‚æ•°éƒ½æ˜¯å¯¹åº”çš„ã€‚<strong>pyecharts æ–‡æ¡£ä¸­æ²¡æŸ¥åˆ°çš„å‚æ•°è®¾ç½®ï¼Œå¯ä»¥åˆ° echarts çš„æ•™ç¨‹ä¸Šé¢æŸ¥æ‰¾ã€‚</strong></p><h2 id="äºŒã€å¸¸ç”¨å›¾è¡¨"><a href="#äºŒã€å¸¸ç”¨å›¾è¡¨" class="headerlink" title="äºŒã€å¸¸ç”¨å›¾è¡¨"></a>äºŒã€å¸¸ç”¨å›¾è¡¨</h2><p>pyecharts æ•´ä¸ªé¡¹ç›®ç»“æ„è§ä¸‹å›¾ã€‚ç»˜å›¾æ—¶ç”¨åˆ°çš„æ‰€æœ‰ç±»éƒ½åœ¨ <code>pyecharts.charts</code> å­æ¨¡å—ä¸­ï¼Œ<code>pyecharts.charts</code> ä¸­æ‰€æœ‰çš„å›¾è¡¨ç±»éƒ½ç›´æ¥æˆ–é—´æ¥ç»§æ‰¿äº <code>pycharts.Base</code> ç±»ã€‚ç”±äºå›¾è¡¨ç±»å‹ä¸åŒï¼Œä¸­é—´åˆæœ‰ä¸åŒå›¾è¡¨ç±»å‹çš„å­ç±»ï¼Œå¦‚ç›´è§’åæ ‡ç³»å›¾è¡¨ç±»ã€ 3D å›¾è¡¨ç±»ã€æåæ ‡å›¾è¡¨ç±»ï¼Œç­‰ã€‚ç›¸åŒå›¾è¡¨ç±»å‹çš„å›¾è¡¨ç»˜å›¾æ–¹æ³•é«˜åº¦ä¸€è‡´ï¼Œåœ¨æ–‡ç« å¼€å§‹ä»‹ç»çš„ä¸¤ä¸ª pyecharts ç½‘ç«™ä¸­å¯ä»¥æ‰¾åˆ° API æ–‡æ¡£å’Œå›¾è¡¨ç¤ºä¾‹ä»£ç ï¼Œæ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œå°±ä¸åšç¤ºä¾‹äº†ã€‚</p><p><img src="https://paradiseeee.github.io/post-assets/20201221/tree.png"></p><h2 id="ä¸‰ã€é€‰é¡¹é…ç½®"><a href="#ä¸‰ã€é€‰é¡¹é…ç½®" class="headerlink" title="ä¸‰ã€é€‰é¡¹é…ç½®"></a>ä¸‰ã€é€‰é¡¹é…ç½®</h2><p>é€‰é¡¹é…ç½®ä¸»è¦æ˜¯ set_global_opts å’Œ set_series_opts ä¸¤ä¸ªæ–¹æ³•ï¼Œé¡¾åæ€ä¹‰å‰è€…è®¾ç½®çš„æ˜¯å¯¹åº”çš„ js ä»£ç ä¸­ <code>option</code> å˜é‡çš„å±æ€§ï¼Œåè€…è®¾ç½®çš„å¯¹åº”çš„ js ä»£ç ä¸­ <code>option.series</code> çš„å±æ€§ã€‚</p><h3 id="å¸¸ç”¨-options"><a href="#å¸¸ç”¨-options" class="headerlink" title="å¸¸ç”¨ options"></a>å¸¸ç”¨ options</h3><p>å¸¸ç”¨çš„ options åˆ†ä¸ºå››ç±»ï¼Œå¯¹åº”ä¸€èˆ¬ç»˜å›¾æ—¶çš„å››ä¸ªæ­¥éª¤ï¼Œæ³¨æ„ä¸æ˜¯æ‰€æœ‰å›¾è¡¨ç±»çš„å¯¹åº”æ–¹æ³•éƒ½é€šç”¨ï¼Œåœ¨ pyecharts.org ä¸­å‚è€ƒå¯¹åº”æ–¹æ³•çš„æ–‡æ¡£ä½¿ç”¨ï¼Œæˆ–è€…åœ¨ ipython ä¸­ä½¿ç”¨é­”æœ¯å‘½ä»¤ï¼š <code>Bar.set_global_opts?</code>ã€<code>opts.ItemStyleOpts?</code> ç­‰æŸ¥çœ‹å¯¹åº”å‚æ•°å’Œç”¨æ³•ã€‚å¦å¤–è¿™äº› options æ˜¯å±‚å±‚åµŒå¥—çš„ï¼Œæ¯”å¦‚åœ¨ <code>opts.AxisOpts</code> é‡Œé¢ï¼Œåˆæœ‰ç”¨åˆ° <code>opts.LabelOpts</code> æ¥å®šä¹‰åæ ‡è½´æ ‡ç­¾çš„æ ·å¼ï¼Œè¿™é‡Œå°±ä¸æ·±æŒ–äº†ï¼Œåªåˆ—ä¸¾ç¬¬ä¸€å±‚çš„å¸¸ç”¨é€‰é¡¹ã€‚</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># å›¾è¡¨ç±»çš„ init_optsï¼Œè®¾ç½®å›¾è¡¨æ•´ä½“é£æ ¼ï¼Œå¤§å°ç­‰</span><span class="token keyword">from</span> pyecharts <span class="token keyword">import</span> <span class="token builtin">globals</span> <span class="token keyword">as</span> glbsBar<span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>InitOpts<span class="token punctuation">(</span>    glbs<span class="token punctuation">.</span>ThemeType<span class="token punctuation">.</span>DARK<span class="token punctuation">,</span> bg_color<span class="token operator">=</span><span class="token string">'#1a1c1d'</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'100%'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'400px'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-javascript" data-language="javascript"><code class="language-javascript"># ä½¿ç”¨ add æ–¹æ³•ï¼ˆæ³›æŒ‡ add_yaxis<span class="token punctuation">,</span> add_schema ç­‰ï¼‰æ—¶çš„ optionsitemstyle_opts <span class="token operator">=</span> opts<span class="token punctuation">.</span><span class="token function">ItemStyleOpts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>           # å…ƒç´ æ ·å¼ï¼Œå¦‚æ•£ç‚¹å›¾çš„ç‚¹emphasis_itemstyle_opts <span class="token operator">=</span> opts<span class="token punctuation">.</span><span class="token function">ItemStyleOpts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  # å…ƒç´ é«˜äº®æ ·å¼linestyle_opts <span class="token operator">=</span> opts<span class="token punctuation">.</span><span class="token function">LineStyleOpts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>           # ç”¨äº Line<span class="token punctuation">.</span>add_yaxis é‡Œé¢</code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-javascript" data-language="javascript"><code class="language-javascript"># set_series_opts ä¸­çš„ optionstooltip_opts <span class="token operator">=</span> opts<span class="token punctuation">.</span><span class="token function">TooltipOpts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       # å·¥å…·æç¤ºitemstyle_opts <span class="token operator">=</span> opts<span class="token punctuation">.</span><span class="token function">ItemStyleOpts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   # å…ƒç´ æ ·å¼label_opts <span class="token operator">=</span> opts<span class="token punctuation">.</span><span class="token function">LabelOpts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>           # æ ‡ç­¾æ ·å¼ï¼Œä¾‹å¦‚æ¡å½¢å›¾é¡¶éƒ¨æ˜¾ç¤ºçš„æ•°å€¼areastyle_opts <span class="token operator">=</span> opts<span class="token punctuation">.</span><span class="token function">AreaStyleOpts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   # åŒºåŸŸæ ·å¼ï¼Œä¾‹å¦‚çº¿å½¢å›¾ä¸åæ ‡è½´å›´æˆçš„åŒºåŸŸ</code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none"># set_global_opts ä¸­çš„ optionstitle_opts &#x3D; opts.TitleOpts()           # æ ‡é¢˜ã€å‰¯æ ‡é¢˜åŠå…¶å­—ä½“é¢œè‰²ç­‰æ ·å¼xaxis_opts &#x3D; opts.AxisOpts()            # åæ ‡è½´çš„æ ·å¼ï¼Œå¦‚è½´çº¿æ ·å¼ï¼Œæ–‡å­—æ—‹è½¬ç­‰yaxis_opts &#x3D; opts.AxisOpts()            # åŒä¸Šdatazoom_opts &#x3D; opts.DataZoomOpts()     # æ•°æ®è¿‡å¤šæ—¶å¯ä»¥ä½¿ç”¨ç±»ä¼¼æ»šåŠ¨æ¡çš„æ’ä»¶legend_opts &#x3D; opts.LegendOpts()         # å›¾ä¾‹æ˜¯å¦æ˜¾ç¤ºã€æ ·å¼åŠå…¶ä½ç½®ç­‰visualmap_opts &#x3D; opts.VisualMapOpts()   # è§†è§‰æ˜ å°„ï¼Œä¾‹å¦‚æŒ‰ç³»åˆ—å€¼çš„å¤§å°ç»™å…ƒç´ ç€è‰²toolbox_opts &#x3D; opts.ToolboxOpts()       # åœ¨å›¾ä¸­åŠ å…¥æ”¾å¤§ç¼©å°ï¼Œå¯¼å‡ºå›¾ç‰‡ç­‰å·¥å…·æŒ‰é’®graphic_opts &#x3D; [opts.GraphicGroup]      # åŠ å…¥è‡ªå®šä¹‰çš„å›¾å½¢ï¼Œå¦‚å¤šè¾¹å½¢ï¼Œæ°´å°ç­‰å†…å®¹</code></pre></div></figure><h3 id="ç»éªŒæ€»ç»“"><a href="#ç»éªŒæ€»ç»“" class="headerlink" title="ç»éªŒæ€»ç»“"></a>ç»éªŒæ€»ç»“</h3><p>è¦æ³¨æ„åˆ° <code>pyecharts.options</code> è¿™ä¸ªç±»ï¼Œä¸Šè¿°çš„ä¸¤ä¸ªæ–¹æ³•çš„å‚æ•°éƒ½æ˜¯èµ‹å€¼ä¸º <code>pyecharts.options</code> çš„å­ç±»ï¼Œä¾‹å¦‚ <code>pyecharts.options.AxisOpts</code>ã€<code>pyecharts.options.LabelOpts</code>ï¼Œç­‰ã€‚é™¤äº†ä½¿ç”¨ options çš„å­ç±»ï¼Œè¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨å­—å…¸ï¼ˆå¦‚å‰æ–‡æ‰€è¿°ï¼ŒPython ä¸­çš„å­—å…¸å°±ç›¸å½“äº js çš„å¯¹è±¡ï¼ŒæŠŠå¯¹åº”çš„å­—å…¸ä¼ ç»™å¯¹åº”çš„å±æ€§å¯¹è±¡å°±å¯ä»¥äº†ï¼‰ã€‚ä¾‹å¦‚</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">Line<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>    legend_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LegendOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><p>å¯ä»¥å†™ä¸ºï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">Line<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>    legend_opts<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">'show'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre></div></figure><p>æ³¨æ„åˆ°è¿™é‡Œä¹Ÿä¸æ˜¯ä¸¥æ ¼å¯¹åº”çš„ï¼Œæ¯”å¦‚åœ¨ options ç±»çš„å‚æ•°ä¸­æ˜¯ <code>is_show</code>ï¼Œåœ¨å­—å…¸ä¸­çš„é”®æ˜¯ <code>show</code>ã€‚ä¸ªäººè§‰å¾—è¿™æ˜¯ pyecharts çš„ä¸€ä¸ªä¸è¶³çš„åœ°æ–¹ï¼Œä¸»è¦æ˜¯å› ä¸ºè¿™æ˜¯ä¸€ä¸ª Python çš„é¡¹ç›®ï¼Œå®ƒå¾—é»˜è®¤ä½¿ç”¨è€…ä¸æ‡‚ jsï¼Œäºæ˜¯åªèƒ½å¼„ä¸€å †çš„ options å¯¹è±¡ï¼ˆpyecharts.options é‡Œé¢æœ‰å¤§çº¦ 100 ä¸ª <code>***Opts</code> å¯¹è±¡ï¼‰å’Œä¸€å †çš„ init å‚æ•°ï¼Œè™½ç„¶æ˜¯å¾ˆå¥½åœ° â€œPython åŒ–â€ äº†ï¼Œä½†æ˜¯ä¹Ÿæåˆ° API ååˆ†çš„å¤æ‚ï¼Œéš¾è®°ã€‚å¦‚æœåœ¨æŸäº›åœ°æ–¹é€‚å½“åœ°ä½¿ç”¨ js é‡Œé¢çš„å†…å®¹ï¼Œé‚£æ•´ä¸ªé€»è¾‘ä¼šç®€åŒ–å¾ˆå¤šã€‚å¯ä»¥çœ‹åˆ°æ–‡ç« ä¸€å¼€å§‹ä½¿ç”¨ echarts ç»˜å›¾çš„æ—¶å€™å°±æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„é€»è¾‘ã€‚</p><p>å¦å¤–è¿™äº› options å¹¶ä¸æ˜¯å…¨åœ¨ä¸Šè¿°ä¸¤ä¸ªæ–¹æ³•ä¸­ä½¿ç”¨ï¼Œæ¯”å¦‚ <code>add_yaxis</code> ä¸­ä¹Ÿæœ‰å¾ˆå¤š options å‚æ•°ï¼Œæ„Ÿè§‰æœ‰ç‚¹æ··ä¹±ã€‚è€Œä¸”ä¹Ÿä¸æ˜¯æ‰€æœ‰å›¾è¡¨é€šç”¨çš„ï¼Œåªèƒ½è¯´æ˜¯åœ¨å¤§éƒ¨åˆ†å›¾è¡¨ä¸­é€šç”¨ã€‚ä¾‹å¦‚</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">Scatter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_series_opts<span class="token punctuation">(</span>    emphasis_itemstyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>ItemStyleOpts<span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><p>è¿™æ®µä»£ç è®¾ç½®äº†æ•£ç‚¹å›¾å½“é¼ æ ‡æ‚¬åœåœ¨æŸä¸ªç‚¹ä¸Šæ—¶ï¼Œè¯¥ç‚¹çš„é«˜äº®é¢œè‰²ã€‚åœ¨ Lineã€Bar ç­‰å¾ˆå¤šå›¾è¡¨ä¸­éƒ½é€‚ç”¨ï¼Œä½†æ˜¯åœ¨åœ°ç†å›¾ Geo çš„ set_series_opts æ–¹æ³•ä¸­æ²¡æœ‰è¿™ä¸ªå‚æ•°ã€‚</p><p><strong>å¹¶ä¸”</strong>ï¼Œå°è¯•å¾—å¤šäº†ï¼Œä½ å¯èƒ½ä¼šå‘ç°ï¼š</p><ul><li>åœ¨ echarts ä¸­æ”¯æŒçš„å±æ€§ï¼Œåœ¨ pyecharts çš„ API ä¸­ä¸æ”¯æŒ</li><li>åœ¨ pyecharts ä¸­æ”¯æŒçš„å‚æ•°ï¼Œå†™åˆ° html ä¸­æ—¶è¢«ç›´æ¥æ— è§†ï¼Œä¹Ÿä¸æŠ¥é”™</li><li>åœ¨ pyecharts ä¸­ä¸æ”¯æŒçš„å‚æ•°ï¼Œä½ ç»™å®ƒç›´æ¥å†™åˆ° html æ–‡æ¡£çš„ js ä»£ç ä¸­æ—¶ï¼Œå®ƒæ˜¯æœ‰æ•ˆçš„</li></ul><p>ç­‰ç­‰å„ç§å¥‡æ€ªçš„é—®é¢˜ï¼Œè¿™ä¹Ÿä¸çŸ¥é“æ˜¯ pyecharts ä¸æˆç†Ÿçš„åœ°æ–¹ï¼Œè¿˜æ˜¯æˆ‘è‡ªå·±æ²¡ç†è§£é€å½»ã€‚<strong>æ€»ä¹‹è¯´æ˜äº†ä¸€ä¸ªé“ç†ï¼Œå¦‚æœæƒ³è¦ç²¾é€š pyechartsï¼Œéšå¿ƒæ‰€æ¬²åœ°ç»˜åˆ¶å„ç§å›¾è¡¨ï¼Œè¿˜æ˜¯è¦ä»å­¦ä¹  echarts å…¥æ‰‹ã€‚</strong></p><h2 id="å››ã€è¿›é˜¶æŠ€å·§"><a href="#å››ã€è¿›é˜¶æŠ€å·§" class="headerlink" title="å››ã€è¿›é˜¶æŠ€å·§"></a>å››ã€è¿›é˜¶æŠ€å·§</h2><p>åŸºç¡€çš„ç»˜å›¾ä¾‹å­éƒ½å¯ä»¥åœ¨æ–‡ç« å¼€å§‹çš„ç½‘ç«™ä¸­æ‰¾åˆ°ç¤ºä¾‹ä»£ç ï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸‹ä¸€äº›æ¯”è¾ƒæœ‰ç”¨çš„è¿›é˜¶æŠ€å·§ã€‚</p><h3 id="æ›´æ¢-echarts-min-js-çš„å¼•ç”¨æº"><a href="#æ›´æ¢-echarts-min-js-çš„å¼•ç”¨æº" class="headerlink" title="æ›´æ¢ echarts.min.js çš„å¼•ç”¨æº"></a>æ›´æ¢ echarts.min.js çš„å¼•ç”¨æº</h3><p>pyecharts é»˜è®¤çš„æºæ˜¯ <code>https://assets.pyecharts.org/assets/</code>ï¼Œä¸€èˆ¬å›½å†…ç½‘ç»œåŠ è½½è¾ƒæ…¢ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç é‡‡ç”¨ CDN åŠ é€Ÿã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åƒç®€ä»‹éƒ¨åˆ†æåˆ°çš„ï¼Œå°† echarts.min.js ä¿å­˜åˆ°ä»»æ„ä½ç½®ç„¶åå¼•ç”¨ï¼Œæ¯”å¦‚ localhostã€‚å¦‚æœè¿™æ ·åˆ™è¦æ³¨æ„ï¼Œæœ‰äº›å›¾ä¸ä»…ä»…ä¼šç”¨åˆ° echarts.min.jsï¼Œè¿˜éœ€è¦ç”¨åˆ°å…¶ä»–çš„ js èµ„æºï¼Œä¾‹å¦‚åœ°å›¾ã€è¯äº‘å›¾ç­‰ã€‚</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">cdn &#x3D; &quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;echarts@latest&#x2F;dist&#x2F;&quot;pyecharts.globals.CurrentConfig.ONLINE_HOSTÂ &#x3D;Â cdn</code></pre></div></figure><h3 id="å‚æ•°æ•°æ®ç±»å‹"><a href="#å‚æ•°æ•°æ®ç±»å‹" class="headerlink" title="å‚æ•°æ•°æ®ç±»å‹"></a>å‚æ•°æ•°æ®ç±»å‹</h3><p>ä¸€èˆ¬æˆ‘ä»¬ä¼šä½¿ç”¨ pandas å¤„ç†æ•°æ®ï¼Œç„¶åç»˜å›¾ã€‚è¿™æ—¶å€™è¦æ³¨æ„ pandas é‡Œé¢çš„æ•°å€¼å‹ä½¿ç”¨çš„ä¸æ˜¯å†…ç½®ç±»å‹ï¼Œè€Œæ˜¯ numpy çš„æ•°æ®ç±»å‹ã€‚è€Œ echarts æ˜¯ä¸è®¤è¯† numpy æ•°æ®ç±»å‹çš„ï¼Œè¿™æ—¶å€™ä¼šç”»ä¸€ä¸ªç©ºçš„æ²¡æœ‰æ•°æ®çš„å›¾ï¼Œè®©äººä¸€è„¸æ‡µã€‚å¯ä»¥å¦‚ä¸‹æ˜¾å¼æ›´æ”¹æ•°æ®ç±»å‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">Scatter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span>    <span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> df<span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span>    <span class="token punctuation">[</span><span class="token builtin">float</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token keyword">for</span> n <span class="token keyword">in</span> df<span class="token punctuation">[</span><span class="token string">'col'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># æ³¨æ„ï¼Œä»¥ä¸‹å†™æ³•æ˜¯ä¸è¡Œçš„</span><span class="token comment"># è™½ç„¶ä¼ é€’çš„å‚æ•°æ˜¯å†…ç½®ç±»å‹floatï¼Œä½†æ˜¯pandasè¿˜æ˜¯ä¼šè‡ªä½œä¸»å¼ ç»™ä½ æ”¹æˆnumpy.float64</span>df<span class="token punctuation">[</span><span class="token string">'col'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">)</span></code></pre></div></figure><h3 id="é‡åˆ°ä¸æ”¯æŒæˆ–æ— æ•ˆçš„å‚æ•°æ€ä¹ˆåŠ"><a href="#é‡åˆ°ä¸æ”¯æŒæˆ–æ— æ•ˆçš„å‚æ•°æ€ä¹ˆåŠ" class="headerlink" title="é‡åˆ°ä¸æ”¯æŒæˆ–æ— æ•ˆçš„å‚æ•°æ€ä¹ˆåŠ"></a>é‡åˆ°ä¸æ”¯æŒæˆ–æ— æ•ˆçš„å‚æ•°æ€ä¹ˆåŠ</h3><p>é‡åˆ°ä¸Šä¸€å°èŠ‚æœ€åæåˆ°çš„é‚£äº›é—®é¢˜ï¼Œæ¯”å¦‚æŸäº›å±æ€§åœ¨ echarts ä¸­æœ‰æ•ˆï¼Œä½†æ˜¯åœ¨ pyecharts ä¸­æ²¡æœ‰å¯¹åº”å‚æ•°æˆ–è€…æ— æ•ˆï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬æœ€ç›´æ¥çš„æ€è·¯å°±æ˜¯æ‰‹åŠ¨å»æ”¹ html é‡Œé¢ js ä»£ç ã€‚è¿˜æ˜¯ä»¥ç®€ä»‹éƒ¨åˆ†é‚£ä¸ªå›¾ä¸ºä¾‹ï¼Œæ¯”å¦‚æˆ‘æƒ³å¾®è°ƒä¸€ä¸‹ä¸»å›¾åœ¨æ•´ä¸ªç”»å¸ƒä¸­çš„ä½ç½®ï¼ˆå¯èƒ½æ˜¯å‡ºäºæƒ³ç”¨ overlap æ–¹æ³•åœ¨ä¸»å›¾ä¸Šå åŠ å…¶ä»–å›¾è¡¨ç­‰åŸå› ï¼‰ï¼Œåœ¨ echarts ä¸­å¯ä»¥å¦‚ä¸‹å®ç°ï¼š</p><p><img src="https://paradiseeee.github.io/post-assets/20201221/grid-html.png"></p><p>é€šè¿‡ grid å±æ€§å®šä¹‰ä¸»å›¾å·¦ä¸Šè§’çš„åæ ‡å’Œå³ä¸‹è§’çš„åæ ‡ï¼Œåæ ‡å¯ä»¥æ˜¯ç›¸å¯¹å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°å€¼è¡¨ç¤ºçš„ç»å¯¹å€¼ï¼Œå•ä½æ˜¯ css ä¸­çš„ pxã€‚ä¸ºäº†å¥½ç†è§£ï¼Œè¿™é‡Œæ•…æ„å°†ä½ç½®è°ƒå¾—å¤¸å¼ ä¸€ç‚¹ï¼Œå®é™…ä¸Šæˆ‘ä»¬ç»å¸¸éœ€è¦å¾®è°ƒä¸»å›¾çš„ä½ç½®æ¥é€‚åº”å¸ƒå±€ã€‚ä½†æ˜¯åœ¨ pyecharts çš„å¸¸ç”¨å›¾è¡¨ç±»é‡Œæ˜¯ä¸èƒ½ç›´æ¥è®¾ç½®è¿™ä¸ª grid å±æ€§çš„ï¼ˆåæ­£æˆ‘æ²¡æ‰¾åˆ°ï¼‰ï¼š</p><p><img src="https://paradiseeee.github.io/post-assets/20201221/grid-error.png"></p><p>å¯ä»¥çœ‹åˆ° global options æ²¡æœ‰è¯¥å‚æ•°ã€‚series options é‡Œé¢å€’æ˜¯æœ‰è¿™ä¸ªå‚æ•°ï¼Œä½†æ˜¯è®¾ç½®çš„ä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿äº†ã€‚å”¯ä¸€çš„å¯èƒ½å°±æ˜¯ä½¿ç”¨ <code>pyecharts.charts.Grid</code> è¿™ä¸ªå›¾è¡¨ç±»æ—¶æ‰å…è®¸åŠ å…¥ grid å‚æ•°ï¼Œå¦‚ä¸‹å›¾ã€‚ä½†æ˜¯ Grid ç±»å’Œå…¶ä»–å¸¸ç”¨å›¾è¡¨ç±»ï¼ˆä¾‹å¦‚ Barï¼‰ç›´æ¥ç»§æ‰¿çš„ç±»æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ç”¨ Grid ç±»æ‰“åŒ…å›¾è¡¨ä¹‹åä¼šå¯¼è‡´å¾ˆå¤šåŸæœ¬æ”¯æŒçš„è®¾ç½®å¤±æ•ˆã€‚</p><p><img src="https://paradiseeee.github.io/post-assets/20201221/grid.png"></p><p>å¯¹æ­¤ä¸€å¼€å§‹æˆ‘æƒ³åˆ°ä¸€ä¸ªå¾ˆç¬¨æ‹™çš„åŠæ³•ï¼šå¼ºè¡Œåœ¨ js ä¸­å†™å…¥å±æ€§ï¼Œæ›¿ä»£æ‰‹åŠ¨ä¿®æ”¹å±æ€§çš„è¿‡ç¨‹ã€‚é¦–å…ˆæŒ‰ç…§ç®€ä»‹ä¸­çš„ä»£ç ï¼Œç”Ÿæˆä¸€ä¸ª render.htmlï¼Œç„¶åå¦‚ä¸‹å†™å…¥å±æ€§ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">write_js</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">,</span> locate<span class="token punctuation">,</span> write<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>        html <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>html<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>locate<span class="token punctuation">,</span> write<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># locate ç”¨äºå®šä½ä¿®æ”¹ä½ç½®ï¼Œè¿™é‡Œå»ºè®®ä½¿ç”¨ option é‡Œé¢å‚æ•°æ¥å®šä½</span><span class="token comment"># æ¯”å¦‚è¿™é‡Œå‡†å¤‡å†™åˆ° "title" å±æ€§çš„å‰é¢ï¼š</span>locate <span class="token operator">=</span> <span class="token string">'"title": [\n'</span> <span class="token comment"># å°½å¯èƒ½å¤šçš„å­—ç¬¦ï¼Œå¦åˆ™å¯èƒ½å®šä½é”™</span><span class="token comment"># éœ€è¦å†™å…¥çš„å±æ€§</span>write <span class="token operator">=</span> <span class="token string">'"grid": &#123;"x": "20%", "y": "30%", "x2": "30%", "y2": "20%"&#125;, \n'</span>write_js<span class="token punctuation">(</span><span class="token string">'render.html'</span><span class="token punctuation">,</span> locate<span class="token punctuation">,</span> write<span class="token operator">+</span>locate<span class="token punctuation">)</span></code></pre></div></figure><p><img src="https://paradiseeee.github.io/post-assets/20201221/render.png"></p><p>å¥½ç¬¨çš„æ–¹æ³•ï¼Œåƒä¸‡åˆ«å­¦ã€‚åæ¥ç»è¿‡è¿›ä¸€æ­¥å¯¹ pycharts å›¾è¡¨ç±»å±æ€§çš„ç ”ç©¶ï¼Œå‘ç°å¯ä»¥ç›´æ¥è¿™æ ·å°±æå®šï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># é¦–å…ˆç»˜å›¾</span>bar <span class="token operator">=</span> Bar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token comment"># ç„¶åè¿˜ç¼ºä»€ä¹ˆå±æ€§ï¼Œç›´æ¥å¾€ options é‡Œé¢æ·»åŠ ï¼Œç„¶å render</span>bar<span class="token punctuation">.</span>options<span class="token punctuation">[</span><span class="token string">'grid'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"x"</span><span class="token punctuation">:</span> <span class="token string">"20%"</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token punctuation">:</span> <span class="token string">"30%"</span><span class="token punctuation">,</span> <span class="token string">"x2"</span><span class="token punctuation">:</span> <span class="token string">"30%"</span><span class="token punctuation">,</span> <span class="token string">"y2"</span><span class="token punctuation">:</span> <span class="token string">"20%"</span><span class="token punctuation">&#125;</span>bar<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># æ³¨æ„åˆ° bar.options æ˜¯ä¸€ä¸ªå­—å…¸</span><span class="token comment"># å®ƒçš„å†…å®¹å°±æ˜¯ç”Ÿæˆçš„ html æ–‡æ¡£çš„ js ä»£ç é‡Œé¢çš„ option å˜é‡çš„å†…å®¹</span></code></pre></div></figure><h3 id="è¿ç”¨-css-å’Œ-js-æ§åˆ¶è§†è§‰æ•ˆæœ"><a href="#è¿ç”¨-css-å’Œ-js-æ§åˆ¶è§†è§‰æ•ˆæœ" class="headerlink" title="è¿ç”¨ css å’Œ js æ§åˆ¶è§†è§‰æ•ˆæœ"></a>è¿ç”¨ css å’Œ js æ§åˆ¶è§†è§‰æ•ˆæœ</h3><p>å¦‚æœæƒ³è¦éšå¿ƒæ‰€æ¬²åœ°è‡ªå®šä¹‰è§†è§‰æ•ˆæœï¼Œéœ€è¦äº†è§£ä¸€äº› css çš„åŸºç¡€çŸ¥è¯†ã€‚å¦‚æœä»…ä»…ä½¿ç”¨ Python ä»£ç ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ•£ç‚¹å›¾ä¸­çš„æ•£ç‚¹çš„é¢œè‰²æ—¶ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">Scatter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span>index_data<span class="token punctuation">)</span><span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span>    series_name<span class="token punctuation">,</span> value_data<span class="token punctuation">,</span> itemstyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>ItemStyleOpts<span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><p>è¿ç”¨ css ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥å°† ItemStyleOpts å†™æˆï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">opts<span class="token punctuation">.</span>ItemStyleOpts<span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">'#ff0000'</span><span class="token punctuation">)</span>opts<span class="token punctuation">.</span>ItemStyleOpts<span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">'rgba(255,0,0,1)'</span><span class="token punctuation">)</span></code></pre></div></figure><p>æˆ–è€…è¿ç”¨å›¾è¡¨åº“æä¾›çš„å‡½æ•°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> pyecharts<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>utils <span class="token keyword">import</span> JsCodeopts<span class="token punctuation">.</span>ItemStyleOpts<span class="token punctuation">(</span>color<span class="token operator">=</span>JsCode<span class="token punctuation">(</span>    <span class="token comment"># å¼•å…¥echarts.min.jsåå°±å¯ä»¥ä½¿ç”¨echartsåº“çš„æ–¹æ³•</span>    <span class="token triple-quoted-string string">''' new echarts.graphic.RadialGradient(        0.5, 0.5, 0.5,          [&#123;offset: 0, color: 'rgba(255,0,0,1)'&#125;,        &#123;offset: 1, color: 'rgba(0,0,255, 1)'&#125;]    ) '''</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><p>ç›´æ¥åœ¨æµè§ˆå™¨ console ä¸­æ›´æ”¹ optionï¼ˆè¿˜æ˜¯ç®€ä»‹ä¸­é‚£ä¸ªå›¾ï¼‰ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://paradiseeee.github.io/post-assets/20201221/css.png"></p><p>æˆ–è€…å¯¹äºä¸€äº›åœ¨ API ä¸­ä¸ºæ•°å€¼å¸¸é‡çš„å‚æ•°ï¼Œå¯ä»¥é€šè¿‡ js å˜æˆå˜é‡ã€‚ä¾‹å¦‚åœ¨æ•£ç‚¹å›¾ä¸­å®šä¹‰ç‚¹çš„å¤§å°ï¼Œå¯ä»¥é€šè¿‡ js ä½¿æ¯ä¸ªç‚¹æ˜¾ç¤ºä¸åŒå¤§å°ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">Scatter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span>    series_name<span class="token punctuation">,</span> data_pair<span class="token punctuation">,</span>    <span class="token comment"># å›ºå®šå¤§å°ï¼šsymbol_size=5,</span>    <span class="token comment"># ç”±æ•°æ®å€¼å†³å®šå¤§å°ï¼š</span>    symbol_size<span class="token operator">=</span>JsCode<span class="token punctuation">(</span><span class="token string">'function (data) &#123;return data[1]*10;&#125;'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><p>è¿™é‡Œç”¨åˆ°çš„ js ä»£ç å…¶å®å¹¶ä¸å¤æ‚ï¼ŒPython æ·· Java çš„æ„Ÿè§‰ï¼Œå­¦è¿‡ä¸Šè¿°ä¸¤ç§çš„å‡­æ„Ÿè§‰éƒ½ä¼šå†™ã€‚æ„Ÿå…´è¶£çš„å¯ä»¥å­¦ä¸€ä¸‹ã€‚</p><h3 id="è¿ç”¨-js-æ§åˆ¶äº¤äº’æ•ˆæœ"><a href="#è¿ç”¨-js-æ§åˆ¶äº¤äº’æ•ˆæœ" class="headerlink" title="è¿ç”¨ js æ§åˆ¶äº¤äº’æ•ˆæœ"></a>è¿ç”¨ js æ§åˆ¶äº¤äº’æ•ˆæœ</h3><p>è¿™é‡Œç»å¸¸ç”¨äºæ”¹å˜å·¥å…·æç¤ºï¼ˆtooltipï¼‰ï¼Œå°±æ˜¯é¼ æ ‡æ‚¬åœæŸä¸ªæ•°æ®ç‚¹æ—¶æ˜¾ç¤ºå‡ºæ¥çš„ä¸œè¥¿ã€‚ä»¥ä¹‹å‰åšçš„ä¸€ä¸ªå›¾è¡¨ä¸ºä¾‹ï¼Œä¸»è¦æ¶‰åŠçš„ option å¦‚ä¸‹ï¼š</p><p><img src="https://paradiseeee.github.io/post-assets/20201221/example-option.png"></p><p>é»˜è®¤æƒ…å†µä¸‹å›¾è¡¨çš„å·¥å…·æç¤ºæ ¼å¼æ˜¯ï¼š<code>series_name \n xè½´æ ‡ç­¾ yè½´çš„å€¼</code>ï¼Œä½†æ˜¯å¦‚æœéœ€è¦è‡ªå®šä¹‰æ ¼å¼ï¼Œå°±è¦ä½¿ç”¨ js å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªåœ¨ pyecharts.org ä¸Šä¹Ÿæåˆ°ï¼Œä½†ä¸æ˜¯å¾ˆè¯¦ç»†ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼Œå‚è€ƒä¸Šå›¾ç»™å‡ºçš„ option å°±å¯ä»¥ç†è§£äº†ã€‚</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> pyecharts<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>utils <span class="token keyword">import</span> JsCodetooltipJS <span class="token operator">=</span> <span class="token triple-quoted-string string">'''    function (param) &#123;         // paramå‚æ•°æ¥æ”¶çš„å°±æ˜¯ä¸Šå›¾ä¸­çš„option.series.dataè¿™ä¸ªæ•°ç»„ä¸­å¯¹åº”çš„å…ƒç´         var line1 = 'name: ' + param.data[0] + '&lt;br/>';        var line2 = 'value1: ' + param.data[1] + '&lt;br/>';        var line3 = 'value2: ' + Math.ceil(10**param.data[2]); // å¼•ç”¨jså†…ç½®å‡½æ•°        return line1 + line2 + line3;   // returnçš„å†…å®¹å°±æ˜¯åˆ°æ—¶å·¥å…·æç¤ºæ˜¾ç¤ºçš„å†…å®¹    &#125;'''</span><span class="token comment"># ç„¶åé€šè¿‡ JsCode ä¼ ç»™ TooltipOpts çš„ formatter</span>Scatter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>    tooltip_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TooltipOpts<span class="token punctuation">(</span>formatter<span class="token operator">=</span>JsCode<span class="token punctuation">(</span>tooltipJS<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸Šå›¾çš„æ•°æ®éƒ¨åˆ†æ˜¯ç»˜å›¾æ—¶ä¼ ç»™ series çš„å‚æ•°ï¼Œä½†æ˜¯å¦‚æœæˆ‘è¿˜æƒ³åœ¨ tooltip é‡Œè¯´ç‚¹åˆ«çš„ä¸œè¥¿æ€ä¹ˆåŠï¼Ÿå¯ä»¥åœ¨ <code>add_yaxis</code> æ—¶<strong>å¼ºè¡Œ</strong>ä¼ è¿›å»å†ä½¿ç”¨ js å›è°ƒå‡½æ•°ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç»˜å›¾ä¾‹å­ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> pyecharts <span class="token keyword">import</span> charts <span class="token keyword">as</span> pyc<span class="token keyword">from</span> pyecharts <span class="token keyword">import</span> options <span class="token keyword">as</span> opts<span class="token keyword">from</span> pyecharts <span class="token keyword">import</span> <span class="token builtin">globals</span> <span class="token keyword">as</span> glbsbar <span class="token operator">=</span> pyc<span class="token punctuation">.</span>Bar<span class="token punctuation">(</span>    init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>InitOpts<span class="token punctuation">(</span>theme<span class="token operator">=</span>glbs<span class="token punctuation">.</span>ThemeType<span class="token punctuation">.</span>DARK<span class="token punctuation">,</span> bg_color<span class="token operator">=</span><span class="token string">'#1a1c1d'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span>    <span class="token string">'test charts'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>bar<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></figure><p><img src="https://paradiseeee.github.io/post-assets/20201221/tooltipjs.png"></p><p>å¦‚ä¸Šå›¾ï¼Œè¿™æ—¶æ˜¯é»˜è®¤çš„å·¥å…·æç¤ºæ ¼å¼ï¼Œä½†æ˜¯å¦‚æœæˆ‘æƒ³è®©å®ƒä¸æ˜¾ç¤ºä¸ºæ•°å€¼ <code>[1, 2, 3]</code>ï¼Œè€Œæ˜¯æè¿°æ€§çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ <code>[&#39;ä½&#39;, &#39;ä¸­&#39;, &#39;é«˜&#39;]</code> æˆ–è€…æ›´ä¸°å¯Œçš„ä¿¡æ¯ï¼Œé‚£å¯ä»¥è¿™æ ·å†™ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">bar <span class="token operator">=</span> pyc<span class="token punctuation">.</span>Bar<span class="token punctuation">(</span>    init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>InitOpts<span class="token punctuation">(</span>theme<span class="token operator">=</span>glbs<span class="token punctuation">.</span>ThemeType<span class="token punctuation">.</span>DARK<span class="token punctuation">,</span> bg_color<span class="token operator">=</span><span class="token string">'#1a1c1d'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span>    <span class="token string">'test charts'</span><span class="token punctuation">,</span>     <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'ä½'</span><span class="token punctuation">,</span><span class="token string">'æ›´å¤šä¿¡æ¯'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'ä¸­'</span><span class="token punctuation">,</span><span class="token string">'æ›´å¤šä¿¡æ¯'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'é«˜'</span><span class="token punctuation">,</span><span class="token string">'æ›´å¤šä¿¡æ¯'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>    <span class="token comment"># é€šè¿‡å…ƒç»„åˆ—è¡¨å¼ºè¡Œä¼ è¿›æ›´å¤šçš„ä¿¡æ¯</span>    <span class="token comment"># å…ƒç»„ç¬¬ä¸€ä½æ˜¯å¯¹åº” xaxis çš„åºå·ï¼Œç¬¬äºŒä½æ˜¯åºåˆ—çš„å€¼ è¿™é‡Œå°±æ˜¯barçš„é•¿åº¦</span>    <span class="token comment"># å‰©ä¸‹çš„çˆ±åŠ å¤šå°‘åŠ å¤šå°‘ï¼Œæ¯ä¸ªç‚¹å†™ä¸€ç¯‡800å­—ä½œæ–‡éƒ½è¡Œ</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>    tooltip_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TooltipOpts<span class="token punctuation">(</span>formatter<span class="token operator">=</span>JsCode<span class="token punctuation">(</span>        <span class="token triple-quoted-string string">'''        function (param) &#123;            var line1 = 'index: ' + param.data[0] + '&lt;br/>';            var line2 = 'value: ' + param.data[1] + '&lt;br/>';            var line3 = 'info1: ' + param.data[2] + '&lt;br/>';            var line4 = 'info2: ' + param.data[3];            return line1 + line2 + line3 + line4;        &#125;        '''</span>    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>bar<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></figure><p>ç»“æœå¦‚ä¸‹ã€‚å¦‚æœæ²¡çœ‹æ‡‚è¿™æ®µä»£ç ï¼Œå¯ä»¥å°† html æºç  render å‡ºæ¥ï¼Œå¯¹åº”ç€çœ‹ï¼Œè‡ªç„¶å°±ç†è§£äº†ã€‚</p><p><img src="https://paradiseeee.github.io/post-assets/20201221/tooltipjs2.png"></p><p><strong>å†è¿›ä¸€æ­¥æ·±å…¥</strong>ï¼Œä»¥ä¸Šæ–¹æ³•ä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ã€‚ä¾‹å¦‚åœ¨ç‰¹åˆ«çš„å›¾è¡¨ä¸­ï¼Œæ ¹æœ¬å°±æ²¡æœ‰ <code>add_yaxis</code> æ–¹æ³•ã€‚æ¯”å¦‚ <code>Geo</code> å›¾è¡¨ç±»å‹ï¼Œæ˜¯é€šè¿‡ <code>add</code> æ–¹æ³•ä¼ å…¥ series æ•°æ®ï¼Œäºæ˜¯ä¼ å‚çš„æ ¼å¼è·Ÿä¸Šé¢æ–¹æ³•åˆä¸åŒã€‚è¿™æ—¶å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç ä¼ å…¥ä¸»å›¾ä»¥å¤–çš„æ•°æ®ï¼Œä»¥ä½œ tooltip ç­‰å…¶ä»–ç”¨é€”ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">Geo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_schema<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_coordinate<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add<span class="token punctuation">(</span>    series_name<span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>    <span class="token comment"># è¿™é‡Œä¼ å…¥çš„æ•°æ®ä¹Ÿæ˜¯ä¸€ä¸ªå…ƒç»„åˆ—è¡¨ï¼Œä½†æ˜¯å®ƒä»…é™ä¸¤ä½çš„å…ƒç»„</span>    <span class="token comment"># ç¬¬ä¸€ä½æ˜¯åœ°å›¾ä¸­åŒºåŸŸçš„åç§°ï¼Œä¹Ÿå°±æ˜¯åˆ°æ—¶ä¼šåœ¨åœ°å›¾ä¸­ A, B, C ä¸‰ä¸ªåœ°ç‚¹æ ‡ä¸Šæ•£ç‚¹</span>    <span class="token comment"># ç¬¬ä¸€ä½åœ¨ js ä¸­é€šè¿‡ param.data.name å¼•ç”¨</span>    <span class="token comment"># ç¬¬äºŒä½æ˜¯åŒ…å«é¢å¤–æ•°æ®çš„åˆ—è¡¨ï¼Œé€šè¿‡ param.data.value(ä¸€ä¸ªjsæ•°ç»„) å¼•ç”¨</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>    tooltip_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TooltipOpts<span class="token punctuation">(</span>formatter<span class="token operator">=</span>JsCode<span class="token punctuation">(</span>        <span class="token triple-quoted-string string">'''        function (param) &#123;            return param.data.name + ' | ' +                'info1:' + param.data.value[0] +                 ', info2:' + param.data.value[1] +                 ', info3:' + param.data.value[2];        &#125;        '''</span>        <span class="token comment"># å½“é¼ æ ‡æ‚¬åœåœ¨ B ç‚¹æ—¶ï¼Œè¿”å›â€œB | info1: 4, info2: 5, info3: 6â€</span>    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><p><strong>æ›´å¤æ‚çš„æƒ…å†µæ˜¯</strong>ï¼ŒåŠ ä¸Šé¢å¤–æ•°æ®åæ ¼å¼å°±æ˜¯ä¸å¯¹ï¼Œæˆ–è€…ä¼šå½±å“å›¾è¡¨çš„å…¶ä»–ç»„ä»¶ã€‚æ¯”å¦‚åœ¨ä¸Šä¾‹çš„ <code>set_global_opts</code> ä¸­åŠ å…¥äº† visualmap ç»„ä»¶æ—¶ï¼Œç›´æ¥ä¼ å…¥é¢å¤–æ•°æ®ä¼šå¯¼è‡´ visualmap æ˜¾ç¤ºä¸æ­£å¸¸ã€‚è¿™é‡Œæˆ‘æ²¡æœ‰æ‰¾åˆ°å¥½çš„åŠæ³•ï¼Œæ‰€ä»¥æƒ³äº†ä¸€ä¸ª_æŠ•æœºå–å·§_çš„æ–¹æ³•ã€‚å°±æ˜¯ç”±äº python å­—å…¸è·Ÿ js å¯¹è±¡çš„æ ¼å¼æ˜¯ä¸€æ ·çš„ï¼Œå¯ä»¥ç›´æ¥ç”Ÿæˆä¸ªå­—å…¸çš„å­—ç¬¦ä¸²å†™å…¥ js ï¼Œç„¶åå†å¼•ç”¨ã€‚äºæ˜¯ä¸Šä¾‹å¯ä»¥å†™æˆï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">data_pair <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># ä¸Šé¢çš„ 10, 100, 1000 å°±æ˜¯ç”¨åœ¨ visualmap ä¸­çš„æ•°æ®å€¼</span><span class="token comment"># ä¸‹é¢çš„åˆ™æ˜¯ç”¨äº tooltip çš„é¢å¤–æ•°æ®</span>extend_data <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'A'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>tooltip_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token string">'name'</span><span class="token punctuation">:</span> k<span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">:</span> v<span class="token punctuation">&#125;</span> <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> extend_data<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment"># è¿”å› tooltips çš„å‡½æ•°</span>tooltipjs <span class="token operator">=</span> <span class="token triple-quoted-string string">r'''    function (param) &#123;        var tooltip_data = __MARKER__; // åˆ°æ—¶åœ¨ __MARKER__ è¿™é‡Œå†™å…¥è¦ä¼ çš„æ•°æ®        for (int i=0; i&lt;tooltip_data.length; i++) &#123;         // éå†            if (param.data.name == tooltip_data[i].name) &#123;  // åŒ¹é…                var values = tooltip_data[i].value;         // æå–é¢å¤–æ•°æ®            &#125;        &#125;        // è¿”å›ç»™ tooltips        return param.data.name + ' | ' +            'info1:'+values[0]+', info2:'+values[1]+', info3:'+values[2];    &#125;'''</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'__MARKER__'</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>tooltip_data<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment"># åœ¨è¿™é‡ŒåŠ å…¥äº†é¢å¤–çš„æ•°æ®</span><span class="token comment"># ç»˜å›¾</span>Geo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_schema<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_coordinate<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add<span class="token punctuation">(</span>    series_name<span class="token punctuation">,</span> data_pair<span class="token punctuation">)</span><span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>    tooltip_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TooltipOpts<span class="token punctuation">(</span>formatter<span class="token operator">=</span>Jscode<span class="token punctuation">(</span>tooltipjs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    visualmap_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>VisualMapOpts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># å¯ä»¥çœ‹åˆ°åœ¨è°ƒç”¨ pyecharts ç»˜å›¾æ—¶æ²¡æœ‰ç”¨åˆ°é¢å¤–çš„æ•°æ®ï¼Œåªæœ‰ data_pair</span><span class="token comment"># ç”¨äº tooltip çš„æ•°æ®æ˜¯å†™åœ¨ js å­—ç¬¦ä¸²é‡Œå·å·ä¼ è¿›å»çš„</span><span class="token comment"># è¿™æ—¶ tooltip çš„æ•ˆæœè·Ÿä¸Šä¾‹ä¸€æ ·ï¼Œä½†æ˜¯ä¸Šä¾‹çš„å†™æ³•ä¸æ”¯æŒ visualmap</span></code></pre></div></figure><p>åˆ°è¿™åŸºæœ¬å°±åˆ°å¤´äº†ï¼Œå› ä¸ºä¸Šé¢çš„æ–¹æ³•è™½ç„¶å¾ˆç¹çï¼Œä½†æ˜¯åŸºæœ¬å¯ä»¥æ‰€å‘æŠ«é¡ï¼Œå¯¹ä»»ä½•çš„å›¾éƒ½é€šç”¨ã€‚å¹¶ä¸”é™¤äº† tooltipsï¼Œå…¶ä»–çš„æ•°æ®äº¤äº’çš„é—®é¢˜ä¹Ÿå¯ä»¥æŒ‰ç±»ä¼¼çš„æ€è·¯æ¥è§£å†³ã€‚</p><h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><h3 id="æ•´ä½“æ€è·¯"><a href="#æ•´ä½“æ€è·¯" class="headerlink" title="æ•´ä½“æ€è·¯"></a>æ•´ä½“æ€è·¯</h3><p>å›åˆ°å¼€å§‹çš„é—®é¢˜ï¼šå¦‚ä½•ç”¨ pyecharts ç»˜åˆ¶ä¸€åˆ‡ä½ æƒ³è±¡å¾—åˆ°çš„äº¤äº’å¼å›¾è¡¨ï¼Ÿæ ¹æ®å‰æ–‡çš„å†…å®¹å¯ä»¥æ€»ç»“ä»¥ä¸‹çš„æµç¨‹ï¼š</p><ul><li>1ï¼‰ æ ¹æ®éœ€æ±‚ï¼Œç¡®å®šå›¾è¡¨ç±»å‹ã€åŸºæœ¬å†…å®¹ã€é£æ ¼æ ·å¼ç­‰</li><li>2ï¼‰ ç²—ç•¥ç”»ä¸ªè‰å›¾ï¼Œå¦‚æœä¸ä¼šç”»å°±ä¸Š gallery.pyechart.org ä¸ŠæŠ„ä¸ªç±»ä¼¼çš„</li><li>3ï¼‰ é€šè¿‡å„ç§ options ä¿®æ”¹å›¾ä¸­çš„ç»†èŠ‚éƒ¨åˆ†ï¼Œè¯¦ç»†çš„æ–‡æ¡£åœ¨ pyecharts.org ä¸Š</li><li>4ï¼‰ å®åœ¨æ‰¾ä¸åˆ°çš„è®¾ç½®ï¼Œåœ¨ç®€ä»‹æåˆ°çš„ Echarts ç½‘ç«™ä¸­æ‰¾é…ç½®ï¼Œå†å†™è¿› options å­—å…¸é‡Œ</li><li>5ï¼‰ è·Ÿæ®å‰é¢æåˆ°çš„æŠ€å·§åŠå…¶æ€è·¯ï¼Œä¿®æ”¹è¿˜ä¸ç¬¦åˆè¦æ±‚çš„åœ°æ–¹</li></ul><h3 id="å®ä¾‹éªŒè¯"><a href="#å®ä¾‹éªŒè¯" class="headerlink" title="å®ä¾‹éªŒè¯"></a>å®ä¾‹éªŒè¯</h3><p>æœ€åç”¨ä¸€ä¸ªå®ä¾‹éªŒè¯ä¸€ä¸‹ä¸Šè¿°æµç¨‹æ˜¯å¦çœŸçš„æœ‰ç”¨ã€‚<strong>ç¬¬ä¸€æ­¥</strong>ï¼Œå…ˆæ‰¾ä¸€ä¸ªå±äºå¸¸ç”¨å›¾è¡¨ç±»å‹çš„ï¼Œå¹¶ä¸”ç›¸å¯¹è¾ƒå¤æ‚çš„å›¾ã€‚è¿™é‡Œåˆ° Apache å®˜ç½‘çš„ç¤ºä¾‹ä¸Šå»æ‰¾ï¼Œå°±ç”¨å¦‚ä¸‹<a href="https://echarts.apache.org/examples/zh/editor.html?c=line-aqi">è¿™ä¸ªå›¾</a>ï¼Œçœ‹èµ·æ¥èŠ±é‡Œèƒ¡ä¿æŒºå”¬äººçš„ã€‚<del>è¿™ä¸ªå›¾å°è±¡ä¸­ gallery.echarts.org å¥½åƒæœ‰ä¸ªç±»ä¼¼çš„ä¾‹å­ï¼Œè¿™é‡Œæˆ‘ä»¬å‡è£…ä¸çŸ¥é“å…ˆæ¥è‡ªå·±åšä¸€ä¸‹ã€‚</del></p><p><img src="https://paradiseeee.github.io/post-assets/20201221/example.png"></p><p>é¦–å…ˆæŠŠ option çš„å†…å®¹æŠ˜å èµ·æ¥ä»¥å…è‡ªå·±å·çœ‹ä½œå¼Šã€‚å®ƒä¸Šé¢çš„æ•°æ®æ²¡æœ‰ç›´æ¥å†™å…¥ option å˜é‡ï¼Œè€Œæ˜¯ç”¨ jquery åŠ è½½çš„ï¼Œæˆ‘æ²¡æ‰¾åˆ°æ¥å£åœ¨å“ªï¼Œæ‰€ä»¥å°±åœ¨ option é‡Œé¢åŠ äº†ä¸ª dataView å·¥å…·ï¼Œç„¶åè¿è¡Œï¼Œåœ¨æ•°æ®è§†å›¾ä¸­å°†æ•°æ® copy ä¸‹æ¥ï¼Œä¿å­˜ä¸º <code>data.csv</code>ï¼ˆæ–‡æœ«å¯ä»¥ä¸‹è½½ï¼‰ã€‚</p><p><strong>ç¬¬äºŒæ­¥</strong>ï¼Œç²—ç•¥åœ°ç”»ä¸ªè‰å›¾ã€‚å°±æ˜¯ä¸€ä¸ªä¸»é¢˜ä¸º <code>pyecharts.globals.ThemeType.DARK</code> çš„æŠ˜çº¿å›¾ï¼Œæ¨ªè½´ä¸ºæ—¶é—´ï¼Œçºµè½´ä¸º AQI æ•°å€¼ã€‚é¡µé¢ä¸ŠåŠ äº†æ ‡é¢˜ã€å·¥å…·ç®±ã€å›¾ä¾‹ã€æ•°æ®ç¼©æ”¾å·¥å…·å››ä¸ªç»„ä»¶ã€‚</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">from</span> pyecharts <span class="token keyword">import</span> charts <span class="token keyword">as</span> pyc<span class="token keyword">from</span> pyecharts <span class="token keyword">import</span> options <span class="token keyword">as</span> opts<span class="token keyword">from</span> pyecharts <span class="token keyword">import</span> <span class="token builtin">globals</span> <span class="token keyword">as</span> glbsdata <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'data.csv'</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">'\t'</span><span class="token punctuation">)</span>line <span class="token operator">=</span> pyc<span class="token punctuation">.</span>Line<span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>InitOpts<span class="token punctuation">(</span>theme<span class="token operator">=</span>glbs<span class="token punctuation">.</span>ThemeType<span class="token punctuation">.</span>DARK<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'100%'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span>    <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span>    <span class="token string">'Beijing AQI'</span><span class="token punctuation">,</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>line<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></figure><p>é¦–å…ˆç”»ä¸ªæœ€ç®€å•çš„å›¾ï¼Œç»“æœé•¿ä¸‹é¢é‚£æ ·ã€‚å¯¹æ¯”ä¸€ä¸‹ï¼Œç¼ºäº†ä¸Šé¢æåˆ°çš„ä¸‰ä¸ªç»„ä»¶ã€‚å›¾ä¾‹é»˜è®¤æœ‰äº†ï¼Œä½†æ˜¯ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ ·å­ã€‚å·¥å…·æç¤ºæ˜¾ç¤ºæ ¼å¼ä¸€æ ·äº†ï¼Œä½†æ˜¯è§¦å‘æ–¹å¼ä¸ä¸€æ ·ï¼Œä¸‹å›¾ä¸­è¦æ‚¬åœåˆ°å…·ä½“çš„ç‚¹ä¸Šæ‰èƒ½è§¦å‘ã€‚æŠ˜çº¿ä¸Šå¤šäº†æ•°æ®æ ‡ç­¾ï¼Œä¸»å›¾èƒŒæ™¯å°‘äº†äº›åˆ†å‰²çº¿ï¼Œç­‰ç­‰ã€‚</p><p><img src="https://paradiseeee.github.io/post-assets/20201221/1.png"></p><p>ç„¶åå…ˆç®€å•åœ°ä½¿ç”¨é»˜è®¤å‚æ•°ï¼ŒæŠŠå®Œæ•´çš„ options åŠ ä¸Šå»ã€‚å¯ä»¥çœ‹åˆ°åŠ ä¸Šç»„ä»¶äº†ï¼Œå·²ç»ç¦»ç›®æ ‡æ¥è¿‘å¾ˆå¤šäº†ã€‚</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">line<span class="token punctuation">.</span>set_series_opts<span class="token punctuation">(</span>    label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LabelOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>    title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TitleOpts<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">'Beijing AQI'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>     legend_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LegendOpts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    visualmap_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>VisualMapOpts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>     datazoom_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>DataZoomOpts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>     tooltip_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TooltipOpts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    toolbox_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>ToolboxOpts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>line<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></figure><p><img src="https://paradiseeee.github.io/post-assets/20201221/2.png"></p><p><strong>ç¬¬ä¸‰ã€å››ã€äº”æ­¥</strong>å…¶å®å°±æ˜¯ä¸€ä¸ªå¾ªç¯è¿­ä»£çš„è¿‡ç¨‹ï¼Œç”¨è¿™ä¸ªæ€è·¯æ¥ä¿®æ”¹æ¯ä¸€ä¸ª optionsã€‚æ¥ä¸‹æ¥æ ¹æ®ä¸Šå›¾ä¸åŸå›¾ä¸åŒçš„åœ°æ–¹ï¼Œå…·ä½“å®šä¹‰ç»„ä»¶çš„ options å‚æ•°ï¼š</p><p>Title è¿™é‡Œä½ç½®å¤ªé è¾¹äº†ï¼ŒåŸå›¾ç¦»æœ€å·¦è¾¹æœ‰ç‚¹ç©ºéš™ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">line<span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>    title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TitleOpts<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">'Beijing AQI'</span><span class="token punctuation">,</span> pos_left<span class="token operator">=</span><span class="token string">'1%'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">)</span></code></pre></div></figure><p>Legend è¿™é‡Œæƒ³äº†å¾ˆä¹…ï¼Œä¸çŸ¥é“æ€ä¹ˆæ”¹æˆåŸå›¾é‚£æ ·ã€‚åæ¥è·³è¿‡äº†ï¼Œåšä¸‹é¢çš„å†…å®¹æ‰å‘ç°åŸå›¾é‚£ä¸ªä¸æ˜¯ Legendï¼Œè€Œæ˜¯ Visual Map äº§ç”Ÿçš„å›¾ä¾‹ã€‚æ‰€ä»¥è¿™é‡Œå°±ç®€å•æŠŠ Legend ç¦ç”¨äº†å°±è¡Œäº†ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">line<span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>    legend_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LegendOpts<span class="token punctuation">(</span>is_show<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span></code></pre></div></figure><p>Viusal Map è¿™é‡Œæ˜æ˜¾çš„åŒºåˆ«æ˜¯ï¼ŒåŸå›¾é‚£ä¸ªæ˜¯ç¦»æ•£çš„ï¼Œè¿™é‡Œç›®å‰æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥å…ˆæ‰¾ä¸ªå‚æ•°å°†å®ƒç¦»æ•£åŒ–ã€‚ç„¶åéœ€è¦å®šä¹‰ä¸€ä¸‹åˆ†å‰²çš„åŒºé—´ã€‚è¿™é‡Œæˆ‘å…ˆæ˜¯å‡­æ„Ÿè§‰å†™äº†ä¸ªå‚æ•°ï¼Œå‘ç°ä¸å¯¹ï¼Œä¾¿ä¸Š <a href="https://pyecharts.org/#/zh-cn/global_options?id=visualmapopts%ef%bc%9a%e8%a7%86%e8%a7%89%e6%98%a0%e5%b0%84%e9%85%8d%e7%bd%ae%e9%a1%b9">å®˜ç½‘</a> æŸ¥çœ‹äº†ä¸€ä¸‹æ–‡æ¡£å¦‚ä¸‹ã€‚è‡³äºæ¯ä¸ªåŒºé—´çš„é¢œè‰²ï¼Œå¯ä»¥ç”¨å–è‰²å™¨åœ¨åŸå›¾è·å–ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># è‡ªå®šä¹‰çš„æ¯ä¸€æ®µçš„èŒƒå›´ï¼Œä»¥åŠæ¯ä¸€æ®µçš„æ–‡å­—ï¼Œä»¥åŠæ¯ä¸€æ®µçš„ç‰¹åˆ«çš„æ ·å¼ã€‚ä¾‹å¦‚ï¼š</span><span class="token comment"># pieces: [</span><span class="token comment">#   &#123;"min": 1500&#125;, // ä¸æŒ‡å®š maxï¼Œè¡¨ç¤º max ä¸ºæ— é™å¤§ï¼ˆInfinityï¼‰ã€‚</span><span class="token comment">#   &#123;"min": 900, "max": 1500&#125;,</span><span class="token comment">#   &#123;"min": 310, "max": 1000&#125;,</span><span class="token comment">#   &#123;"min": 200, "max": 300&#125;,</span><span class="token comment">#   &#123;"min": 10, "max": 200, "label": '10 åˆ° 200ï¼ˆè‡ªå®šä¹‰labelï¼‰'&#125;,</span><span class="token comment">#   &#123;"value": 123, "label": '123ï¼ˆè‡ªå®šä¹‰ç‰¹æ®Šé¢œè‰²ï¼‰', "color": 'grey'&#125;,</span><span class="token comment">#   &#123;"max": 5&#125;     // ä¸æŒ‡å®š minï¼Œè¡¨ç¤º min ä¸ºæ— é™å¤§ï¼ˆ-Infinityï¼‰ã€‚</span><span class="token comment"># ]</span>pieces<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>Sequence<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span><span class="token punctuation">,</span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">line<span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>    visualmap_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>VisualMapOpts<span class="token punctuation">(</span>        is_piecewise<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> pos_top<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> pos_right<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>        pieces<span class="token operator">=</span><span class="token punctuation">[</span>            <span class="token punctuation">&#123;</span><span class="token string">'min'</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'max'</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">'color'</span><span class="token punctuation">:</span> <span class="token string">'#93CE07'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token punctuation">&#123;</span><span class="token string">'min'</span><span class="token punctuation">:</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">'max'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'color'</span><span class="token punctuation">:</span> <span class="token string">'#FBDB0F'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token punctuation">&#123;</span><span class="token string">'min'</span><span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'max'</span><span class="token punctuation">:</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token string">'color'</span><span class="token punctuation">:</span> <span class="token string">'#FC7D02'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token punctuation">&#123;</span><span class="token string">'min'</span><span class="token punctuation">:</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token string">'max'</span><span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">'color'</span><span class="token punctuation">:</span> <span class="token string">'#FD0100'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token punctuation">&#123;</span><span class="token string">'min'</span><span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">'max'</span><span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token string">'color'</span><span class="token punctuation">:</span> <span class="token string">'#AA069F'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token punctuation">&#123;</span><span class="token string">'min'</span><span class="token punctuation">:</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token string">'color'</span><span class="token punctuation">:</span> <span class="token string">'#AC3B2A'</span><span class="token punctuation">&#125;</span>        <span class="token punctuation">]</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">)</span></code></pre></div></figure><p>Data Zoom ç»„ä»¶é»˜è®¤æ˜¾ç¤º 20%-80%ï¼Œçœ‹ä¸€ä¸‹æ–‡æ¡£ï¼Œå‘ç°æœ‰ä¸ª start_value å‚æ•°ï¼Œç”±äºåŸå›¾ä¸­å°±æ˜¯æ˜¾ç¤ºæœ€åä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‚æ•°æå®šã€‚ä½†æ˜¯ç¬¬ä¸€æ¬¡è¯•äº†å‘ç°ä¸è¡Œï¼ŒåŸå› æ˜¯å®ƒå·²ç»ç»™å¼€å§‹ç»“æŸä½ç½®è®¾ç½®äº†é»˜è®¤å€¼ï¼Œæ‰€ä»¥è¦å…ˆå°†è¿™ä¸¤ä¸ªå€¼è®¾ä¸ºç©ºå€¼ï¼Œstart_value å‚æ•°æ‰æœ‰æ•ˆã€‚å¦å¤–å‘ç°åŸå›¾æ˜¯å¯ä»¥åœ¨ä¸»å›¾é‡Œé¢ç›´æ¥æ‹–åŠ¨çš„ï¼Œæ‰€ä»¥è¦æ”¹ä¸€ä¸‹ type å‚æ•°ã€‚è¿™é‡Œå°±å‡ºç°é—®é¢˜äº†ï¼Œæ”¹äº† type ä¹‹åï¼Œé‡Œé¢å¯ä»¥æ‹–åŠ¨äº†ï¼Œä½†æ˜¯å¤–é¢çš„æ»šåŠ¨æ¡ä¸è§äº†ã€‚è¿™é‡Œåªå¥½æŸ¥çœ‹åŸå›¾çš„ä»£ç æŠ„ç­”æ¡ˆï¼ŒåŸæ¥å®ƒç”¨æ•°ç»„çš„å½¢å¼å®šä¹‰äº†ä¸¤ä¸ª Data Zoom ç»„ä»¶ï¼Œä¸€ä¸ªåœ¨é‡Œé¢ï¼Œä¸€ä¸ªåœ¨å¤–é¢ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">line<span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>    datazoom_opts<span class="token operator">=</span><span class="token punctuation">[</span>        opts<span class="token punctuation">.</span>DataZoomOpts<span class="token punctuation">(</span>            start_value<span class="token operator">=</span><span class="token string">'2014-06-01'</span><span class="token punctuation">,</span> range_start<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> range_end<span class="token operator">=</span><span class="token boolean">None</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>         opts<span class="token punctuation">.</span>DataZoomOpts<span class="token punctuation">(</span>type_<span class="token operator">=</span><span class="token string">'inside'</span><span class="token punctuation">)</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">)</span></code></pre></div></figure><p>Tooltip ç»„ä»¶éœ€è¦æ›´æ”¹è§¦å‘æ–¹å¼ï¼Œç®€å•åŠ ä¸Š trigger å‚æ•°å³å¯ï¼š</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">1line.set_global_opts(tooltip_opts&#x3D;opts.TooltipOpts(trigger&#x3D;&#39;axis&#39;))</code></pre></div></figure><p>Toolbox ç»„ä»¶å¤šäº†ä¸€å †æŒ‰é’®ï¼Œç®€å•ç ”ç©¶ä¸€ä¸‹æ–‡æ¡£ï¼ŒæŠŠä¸å¿…è¦çš„åˆ æ‰å°± OKã€‚å®é™…å†™æ—¶å‘ç° pyecharts çš„é‚£ä¸ªç¼ºç‚¹åˆå‡ºç°äº†ï¼Œå°±æ˜¯å¤ªå¤š options å¯¹è±¡ã€‚æ‰§è¡Œ <code>opts.ToolBoxFeatureOpts?</code> å°±å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥è¯´çœ‹äº†å¤´çš®å‘éº»ã€‚æ‰€ä»¥è¿™é‡Œç”¨å­—å…¸ä¼ å‚ï¼Œåªéœ€è¦æŠŠ python ä¸­çš„å˜é‡åç”¨ä¸‹åˆ’çº¿åˆ†å‰²å•è¯çš„ä¹ æƒ¯ï¼Œæ”¹æˆ js ä¸­ç”¨é¦–å­—æ¯å¤§å†™åˆ†å‰²å•è¯ï¼Œå‚æ•°åŸºæœ¬å°±å¯¹åº”ä¸Šäº†ã€‚ç„¶åç”¨å­—å…¸ä»£æ›¿ options å¯¹è±¡å°±è¡Œäº†ã€‚ç„¶åè¿˜è¦æ”¹ä¸€ä¸‹å®ƒçš„ä½ç½®ï¼ŒåŸå›¾æ˜¯é å³å¯¹é½ï¼Œå¹¶ä¸”ç¦»æœ€å³è¾¹ç•™æœ‰ä¸€ç‚¹ç©ºéš™ï¼Œè¿™é‡Œå› ä¸ºä¹Ÿå·²ç»æœ‰é»˜è®¤å‚æ•°ï¼Œä¸€æ ·è¦å…ˆæŠŠé»˜è®¤å‚æ•°ç½®ç©ºï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">line<span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>    toolbox_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>ToolboxOpts<span class="token punctuation">(</span>        pos_left<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> pos_right<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>        feature<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">'dataZoom'</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'restore'</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'saveAsImage'</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span></code></pre></div></figure><p>ç„¶åå¥½åƒè¿˜å·®ç‚¹ä»€ä¹ˆï¼Ÿæ²¡é”™ï¼ŒY è½´çš„åˆ†å‰²çº¿ã€‚ä¼°è®¡åº”è¯¥æ˜¯åœ¨ yaxis_opts é‡Œæ·»åŠ ï¼Œäºæ˜¯è¯•ä¸€ä¸‹ã€‚å‘ç°åˆ†å‰²çº¿æ˜¯æœ‰äº†ï¼Œä½†æ˜¯è¿˜å·®é‚£äº›å¸¦ç®­å¤´çš„è™šçº¿ï¼ŒæŸ¥äº†ä¸€ä¸‹æ–‡æ¡£ï¼Œå‘ç°åº”è¯¥åœ¨ <code>set_series_opts</code> é‡Œé¢é€šè¿‡ <code>opts.MarkLineOpts</code> è®¾ç½®ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">line<span class="token punctuation">.</span>set_series_opts<span class="token punctuation">(</span>    markline_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>MarkLineOpts<span class="token punctuation">(</span>        label_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LabelOpts<span class="token punctuation">(</span>position<span class="token operator">=</span><span class="token string">'end'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        linestyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LineStyleOpts<span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">'#333'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token string">'yAxis'</span><span class="token punctuation">:</span> y<span class="token punctuation">&#125;</span> <span class="token keyword">for</span> y <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span><span class="token punctuation">]</span>    <span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></figure><p>æœ€åä¸»å›¾çš„ä½ç½®å’ŒåŸå›¾ä¸å¤ªä¸€æ ·ï¼Œé€šè¿‡ grid å±æ€§æ”¹ä¸€ä¸‹ã€‚å‚è€ƒç¬¬å››èŠ‚ä¸­æåˆ°çš„å…³äº<a href="https://paradiseeee.github.io/2020/12/21/PyEcharts-%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/#%E9%81%87%E5%88%B0%E4%B8%8D%E6%94%AF%E6%8C%81%E6%88%96%E6%97%A0%E6%95%88%E7%9A%84%E5%8F%82%E6%95%B0%E6%80%8E%E4%B9%88%E5%8A%9E">å‚æ•°æ— æ•ˆ</a>çš„é—®é¢˜ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">line<span class="token punctuation">.</span>options<span class="token punctuation">[</span><span class="token string">'grid'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'left'</span><span class="token punctuation">:</span> <span class="token string">'6%'</span><span class="token punctuation">,</span> <span class="token string">'right'</span><span class="token punctuation">:</span> <span class="token string">'15%'</span><span class="token punctuation">,</span> <span class="token string">'bottom'</span><span class="token punctuation">:</span> <span class="token string">'12%'</span><span class="token punctuation">&#125;</span></code></pre></div></figure><p>ç»“æœå¦‚ä¸‹ï¼ŒåŸºæœ¬ä¸åŸå›¾ä¸€æ ·äº†ã€‚æœ‰ç»†å¾®åŒºåˆ«æ˜¯å› ä¸º Apache ç½‘ç«™ä¸Šçš„å›¾è¡¨å®¹å™¨è·Ÿè¿™é‡Œçš„ä¸ä¸€æ ·ï¼Œå¹¶ä¸”ä¸Šé¢çš„ç½‘é¡µæˆªå›¾æ—¶æµè§ˆå™¨å¼€äº†æ‰©å±• DarkReaderï¼Œæ‰€ä»¥é¢œè‰²ä¹Ÿæœ‰ç‚¹æ”¹å˜çš„åœ°æ–¹ã€‚</p><blockquote><p><a href="https://paradiseeee.github.io/post-assets/20201221/render.html">åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€äº¤äº’å¼å›¾è¡¨</a> | <a href="https://paradiseeee.github.io/post-assets/20201221/code.py">ä¸‹è½½å®Œæ•´ç»˜å›¾ä»£ç </a> | <a href="https://paradiseeee.github.io/post-assets/20201221/data.csv">ä¸‹è½½æ•°æ®</a></p></blockquote><p><img src="https://paradiseeee.github.io/post-assets/20201221/3.png"></p><hr><p>é¸£è°¢ &amp; æ¨èï¼š<a href="https://blog.csdn.net/qq_27484665">@AwesomeTang</a></p><p><strong>END</strong></p><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://paradiseeee.github.io/2020/12/21/PyEcharts-%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">https://paradiseeee.github.io/2020/12/21/PyEcharts-%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/</a></p></blockquote><hr>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åˆ†æ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Markdownè¯­æ³•</title>
    <link href="/2022/11/12/Markdown%E8%AF%AD%E6%B3%95/"/>
    <url>/2022/11/12/Markdown%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><table><thead><tr><th>Syntax</th><th>Description</th></tr></thead><tbody><tr><td>Header</td><td>Title</td></tr><tr><td>Paragraph</td><td>Text</td></tr></tbody></table><table><thead><tr><th>Syntax</th><th>Description</th></tr></thead><tbody><tr><td>Header</td><td>Title</td></tr><tr><td>Paragraph</td><td>Text</td></tr></tbody></table><h2 id="ä»»åŠ¡åˆ—è¡¨"><a href="#ä»»åŠ¡åˆ—è¡¨" class="headerlink" title="ä»»åŠ¡åˆ—è¡¨"></a>ä»»åŠ¡åˆ—è¡¨</h2><ul><li><input checked="" disabled="" type="checkbox"> Write the press release</li><li><input checked="" disabled="" type="checkbox"> Update the website</li><li><input disabled="" type="checkbox"> Contact the media</li></ul><h2 id="è¡¨æƒ…ç¬¦å·"><a href="#è¡¨æƒ…ç¬¦å·" class="headerlink" title="è¡¨æƒ…ç¬¦å·"></a>è¡¨æƒ…ç¬¦å·</h2><p>sfs :unamused:</p><h2 id="è¡Œå†…æ ‡ç­¾"><a href="#è¡Œå†…æ ‡ç­¾" class="headerlink" title="è¡Œå†…æ ‡ç­¾"></a>è¡Œå†…æ ‡ç­¾</h2><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">&#123;% label primary @text %&#125;&lt;span class&#x3D;&quot;label label-primary&quot;&gt;Label&lt;&#x2F;span&gt;å¯é€‰ç±»åˆ«ï¼šprimary default info success warning danger</code></pre></div></figure><p><span class="label label-primary">Label</span></p><h2 id="å‚è€ƒè„šæ³¨"><a href="#å‚è€ƒè„šæ³¨" class="headerlink" title="å‚è€ƒè„šæ³¨"></a>å‚è€ƒè„šæ³¨</h2><p>è¿™æ˜¯ä¸€å¥è¯<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="å‚è€ƒèµ„æ–™1">[1]</span></a></sup></p><h2 id="ä¾¿ç­¾"><a href="#ä¾¿ç­¾" class="headerlink" title="ä¾¿ç­¾"></a>ä¾¿ç­¾</h2><blockquote><p>å¯é€‰ç±»åˆ«<br>  primary<br>  secondary<br>  success<br>  danger<br>  warning<br>  info<br>  light</p></blockquote><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">&#123;% note success %&#125;æ–‡å­— æˆ–è€… &#96;markdown&#96; å‡å¯&#123;% endnote %&#125;</code></pre></div></figure><div class="note note-success">            <p>ä¸¤ç§æ–¹å¼ï¼šä¸Šé¢æ˜¯ç¬¬ä¸€ç§æ–¹å¼ï¼Œä¸‹é¢æ˜¯htmlæ–¹æ³•</p>          </div><figure><div class="code-wrapper"><pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>note note-danger<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¾¿ç­¾<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span></code></pre></div></figure><p class="note note-danger">ä¾¿ç­¾</p><h2 id="æŒ‰é’®"><a href="#æŒ‰é’®" class="headerlink" title="æŒ‰é’®"></a>æŒ‰é’®</h2><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">&#123;% btn url, text, title %&#125;æˆ–è€…&lt;a class&#x3D;&quot;btn&quot; href&#x3D;&quot;https:&#x2F;&#x2F;hexo.fluid-dev.com&#x2F;docs&#x2F;guide&#x2F;#tag-%E6%8F%92%E4%BB%B6&quot; title&#x3D;&quot;title&quot;&gt;tag&lt;&#x2F;a&gt;</code></pre></div></figure><a class="btn" href="(https://hexo.fluid-dev.com/docs/guide/#tag-%E6%8F%92%E4%BB%B6)"  title="title" target="_blank">text</a><p><a class="btn" href="https://hexo.fluid-dev.com/docs/guide/#tag-%E6%8F%92%E4%BB%B6" title="title">tag</a><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>è¿™æ˜¯å¯¹åº”çš„è„šæ³¨<br><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:1" class="footnote-text"><span>å‚è€ƒèµ„æ–™1<br><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>å‚è€ƒèµ„æ–™2<br><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section></p>]]></content>
    
    
    <categories>
      
      <category>å…¶ä»–</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
      <tag>markdown</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonå¦‚ä½•ä¸MySQLå®ç°äº¤äº’åŠå¸¸ç”¨sqlè¯­å¥</title>
    <link href="/2022/11/12/python%E8%BF%9E%E6%8E%A5MySQL/"/>
    <url>/2022/11/12/python%E8%BF%9E%E6%8E%A5MySQL/</url>
    
    <content type="html"><![CDATA[<p>9 æœˆåˆï¼Œæˆ‘å¯¹ <code>python çˆ¬è™«</code> ç‡ƒèµ·å…´è¶£ï¼Œä½†çˆ¬å–åˆ°çš„æ•°æ®å¤šé€šé“å®æ—¶åŒæ­¥è¯»å†™ç”¨<code>æ–‡ä»¶</code>å¹¶ä¸æ–¹ä¾¿ï¼Œäºæ˜¯å¼€å§‹ç”¨èµ·<code>mysql</code>ã€‚è¿™ç¯‡ç¬”è®°ï¼Œæˆ‘å°†æ•´ç†è¿‘ä¸€ä¸ªæœˆçš„å®æˆ˜ä¸­æœ€å¸¸ç”¨åˆ°çš„ <code>mysql</code> è¯­å¥ï¼ŒåŒæ—¶ä¹Ÿå°†æ¶‰åŠåˆ°å¦‚ä½•åœ¨<code>python3</code>ä¸­ä¸ <code>mysql</code> å®ç°æ•°æ®äº¤æ¢ã€‚</p><p>å…³äºå·¥å…·&#x2F;åº“ï¼Œç‰¹åˆ«è¯´æ˜ä¸‹ï¼š</p><p>1ã€æˆ‘å®‰è£…äº† <code>mysql</code> ï¼Œå¹¶ç›´æ¥é‡‡ç”¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œ<code>å‘½ä»¤è¡Œæç¤ºç¬¦ï¼ˆcmdï¼‰</code>æŸ¥çœ‹ <code>mysql</code>ï¼Œå¹¶æ²¡æœ‰å®‰è£…ä»»ä½• <code>mysql</code> çš„å¯è§†åŒ–å›¾å½¢ç•Œé¢å·¥å…·ã€‚</p><p>2ã€åœ¨ <code>python</code> è„šæœ¬ä¸­ï¼Œæˆ‘é‡‡ç”¨ <code>pymysql</code> å’Œ <code>sqlalchemy</code> è¿™ä¸¤ä¸ªåº“ä¸ <code>mysql</code> å»ºç«‹è¿æ¥ï¼Œç”¨ <code>pandas</code> æ¥å¤„ç†æ•°æ®ã€‚</p><h2 id="ä¸€ã€å»ºç«‹è¿æ¥ä¸æ•°æ®äº¤äº’"><a href="#ä¸€ã€å»ºç«‹è¿æ¥ä¸æ•°æ®äº¤äº’" class="headerlink" title="ä¸€ã€å»ºç«‹è¿æ¥ä¸æ•°æ®äº¤äº’"></a>ä¸€ã€å»ºç«‹è¿æ¥ä¸æ•°æ®äº¤äº’</h2><p>ä¸ mysql äº¤äº’çš„æ–¹å¼ï¼Œæˆ‘ç›®å‰å…±ä½¿ç”¨ 4 ç§ã€‚å…¶ä¸­é‡‡ç”¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œ<code>å‘½ä»¤è¡Œæç¤ºç¬¦ï¼ˆcmdï¼‰</code>æŸ¥çœ‹ <code>mysql</code>ï¼Œå…¶æ“ä½œå›¾ç¤ºå¯å¦å†™ä¸€ç¯‡ã€‚è¿™é‡Œå°±ä¸å ç¯‡å¹…äº†ã€‚mysqlçš„å¯è§†åŒ–å›¾å½¢ç•Œé¢å·¥å…·ï¼Œæˆ‘ç›®å‰å¹¶æ²¡æœ‰ç”¨åˆ°ï¼Œä¹Ÿæ²¡æœ‰è¿«åˆ‡ä½¿ç”¨å®ƒçš„éœ€è¦ã€‚å¦å¤– 3 ç§æ–¹å¼éƒ½æ˜¯é€šè¿‡ python è„šæœ¬è¿›è¡Œã€‚</p><h3 id="æƒ…å¢ƒAï¼špython-æ¼”ç®—å¾—å‡ºæ•°æ®ï¼Œæƒ³è¦å†™å…¥æ•°æ®åº“"><a href="#æƒ…å¢ƒAï¼špython-æ¼”ç®—å¾—å‡ºæ•°æ®ï¼Œæƒ³è¦å†™å…¥æ•°æ®åº“" class="headerlink" title="æƒ…å¢ƒAï¼špython æ¼”ç®—å¾—å‡ºæ•°æ®ï¼Œæƒ³è¦å†™å…¥æ•°æ®åº“"></a>æƒ…å¢ƒAï¼špython æ¼”ç®—å¾—å‡ºæ•°æ®ï¼Œæƒ³è¦å†™å…¥æ•°æ®åº“</h3><p>python è„šæœ¬å·²å¾—åˆ°è¡¨æ ¼ç±»å¤§é‡æ•°æ®ï¼Œæƒ³è¦ä¸€æ¬¡æ€§å†™å…¥æ•°æ®åº“ï¼Œå¸¸ç”¨ä»£ç å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token comment"># ä¸ mysql å»ºç«‹è¿æ¥</span><span class="token keyword">from</span> sqlalchemy <span class="token keyword">import</span> create_engineconn_eng <span class="token operator">=</span> create_engine<span class="token punctuation">(</span><span class="token string">'mysql+pymysql://username:password@localhost:3306/databasename'</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf8'</span><span class="token punctuation">)</span>  <span class="token comment"># è°ƒç”¨ pandas çš„æ–¹æ³•ï¼Œæ•°æ®å†™å…¥mysql</span>pd<span class="token punctuation">.</span>io<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>to_sql<span class="token punctuation">(</span>your_df<span class="token punctuation">,</span> <span class="token string">"table_name"</span><span class="token punctuation">,</span> conn_eng<span class="token punctuation">,</span> if_exists<span class="token operator">=</span><span class="token string">'append'</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></code></pre></div></figure><p>è¡¨æ ¼ç±»æ•°æ®ï¼Œæˆ‘ç”¨çš„æ˜¯ <code>pandas</code> çš„ <code>dataframe</code> ç»“æ„ã€‚<code>pd.io.sql.to_sql()</code> çš„å‚æ•°è¿˜æœ‰è®¸å¤šå…¶å®ƒç”¨é€”ï¼Œä½†ä¸Šé¢è¿™ç§æ˜¯æˆ‘ä¸ªäººä½¿ç”¨æœ€é«˜é¢‘çš„ã€‚æ•ˆæœæ˜¯ï¼šæ— éœ€è‡ªå·±æå‰å»ºè¡¨ï¼Œå°†è‡ªåŠ¨å»ºæ–°è¡¨ã€‚ç¾ä¸­ä¸è¶³æ˜¯ï¼šè¡¨çš„åˆ—å±æ€§è‡ªåŠ¨ç”Ÿæˆï¼Œé€šå¸¸ä¸åˆå¿ƒæ„ï¼Œè¿˜éœ€æ£€æŸ¥å’Œä¿®æ”¹ã€‚</p><p>å¦‚æœä¸æƒ³ç”¨ <code>pd.io.sql.to_sql()</code> æˆ–è€…æƒ³æ›´ç²¾ç»†ã€å¤æ‚çš„æ“ä½œï¼Œåˆ™ç”¨åˆ°ä¸‹é¢çš„æƒ…å¢ƒCã€‚</p><h3 id="æƒ…å¢ƒBï¼špython-è„šæœ¬æƒ³ä»-mysql-æ‹¿åˆ°æ•°æ®"><a href="#æƒ…å¢ƒBï¼špython-è„šæœ¬æƒ³ä»-mysql-æ‹¿åˆ°æ•°æ®" class="headerlink" title="æƒ…å¢ƒBï¼špython è„šæœ¬æƒ³ä» mysql æ‹¿åˆ°æ•°æ®"></a>æƒ…å¢ƒBï¼špython è„šæœ¬æƒ³ä» mysql æ‹¿åˆ°æ•°æ®</h3><p>å¦‚æœå·²ç»å­˜åœ¨æŸä¸ªè¡¨æ ¼ï¼Œæƒ³è¦å‘è¯¥è¡¨æ ¼æäº¤æŸæ¡æŒ‡ä»¤ï¼Œéœ€è¿”å›æ•°æ®ï¼Œæˆ‘ç”¨çš„æ˜¯ <code>pandas</code>çš„<code>read_sql ()</code> ï¼Œè¿”å›çš„æ•°æ®ç±»å‹æ˜¯ <code>pandas</code> çš„ <code>dataframe</code>ã€‚sql æŸ¥è¯¢è¯­å¥æŒºå¥½å†™çš„ï¼Œå…·ä½“æ€»ç»“åœ¨æœ¬æ–‡ä¸‹æ–¹ã€‚</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> pymysql<span class="token comment"># ä¸ mysql å»ºç«‹è¿æ¥</span>conn <span class="token operator">=</span> pymysql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">'localhost'</span><span class="token punctuation">,</span><span class="token string">'username'</span><span class="token punctuation">,</span><span class="token string">'password'</span><span class="token punctuation">,</span><span class="token string">'databasename'</span><span class="token punctuation">)</span><span class="token comment"># sql è¯­å¥å®šä¹‰ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</span>sql_search <span class="token operator">=</span> <span class="token string">'select question_id from topic_monitor where is_title=0 ;'</span><span class="token comment"># è°ƒç”¨ pandas çš„ read_sql() æ–¹æ³•æ‹¿åˆ° dataframe ç»“æ„çš„æ•°æ®</span>question_ids <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_sql<span class="token punctuation">(</span>sql_search<span class="token punctuation">,</span>conn<span class="token punctuation">)</span><span class="token comment"># å…³é—­è¿æ¥</span>conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></figure><h3 id="æƒ…å¢ƒCï¼špython-è„šæœ¬å•æ–¹é¢å‘-mysql-å‘å‡ºæŒ‡ä»¤ï¼Œæ— éœ€æ‹¿åˆ°æ•°æ®"><a href="#æƒ…å¢ƒCï¼špython-è„šæœ¬å•æ–¹é¢å‘-mysql-å‘å‡ºæŒ‡ä»¤ï¼Œæ— éœ€æ‹¿åˆ°æ•°æ®" class="headerlink" title="æƒ…å¢ƒCï¼špython è„šæœ¬å•æ–¹é¢å‘ mysql å‘å‡ºæŒ‡ä»¤ï¼Œæ— éœ€æ‹¿åˆ°æ•°æ®"></a>æƒ…å¢ƒCï¼špython è„šæœ¬å•æ–¹é¢å‘ mysql å‘å‡ºæŒ‡ä»¤ï¼Œæ— éœ€æ‹¿åˆ°æ•°æ®</h3><p>å¦‚æœå·²ç»å­˜åœ¨æŸä¸ªè¡¨æ ¼ï¼Œæƒ³è¦å‘è¯¥è¡¨æ ¼æäº¤æŸæ¡æŒ‡ä»¤è€Œæ— éœ€è¿”å›æ•°æ®æ—¶ï¼Œæ¯”å¦‚ï¼šå»ºè¡¨ã€å¯¹æ•°æ®çš„å¢æ”¹åˆ ã€å¯¹åˆ—çš„åç§°ã€åˆ—çš„å±æ€§ä¿®æ”¹ç­‰ï¼Œä»£ç å¦‚ä¸‹ã€‚</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> pymysql<span class="token comment"># ä¸ mysql å»ºç«‹è¿æ¥</span>conn <span class="token operator">=</span> pymysql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">'localhost'</span><span class="token punctuation">,</span><span class="token string">'username'</span><span class="token punctuation">,</span><span class="token string">'password'</span><span class="token punctuation">,</span><span class="token string">'databasename'</span><span class="token punctuation">)</span>cursor <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># sql è¯­å¥å®šä¹‰ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ’å…¥ä¸€è¡Œæ•°æ®</span>sql_insert <span class="token operator">=</span> <span class="token string">'INSERT INTO questions(q_id,q_title,q_description,q_keywords,q_people,q_pageview,time) VALUES( "'</span>\                <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>quesition_id<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'", "'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>one<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span> <span class="token string">'", "'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>one<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'", "'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>one<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'", "'</span> \                <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>one<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'", "'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>one<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'", "'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'");'</span> <span class="token comment"># sql è¯­å¥å®šä¹‰ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¿®æ”¹æŸä¸ªæ•°æ®ï¼ˆå¦ä¸€ä¸ªè¡¨æ ¼ï¼‰</span>sql_update <span class="token operator">=</span> <span class="token string">'update topic_monitor SET is_title="1" where question_id = "'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>quesition_id<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'";'</span><span class="token comment"># æäº¤æŒ‡ä»¤</span>cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql_insert<span class="token punctuation">)</span>cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql_update<span class="token punctuation">)</span>conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># æ’å…¥ä¸€è¡Œæ•°æ®ï¼›ä»…å½“è¯¥æ•°æ®ä¸è¡¨æ ¼å·²æœ‰æ•°æ®ä¸é‡å¤æ—¶æ‰æ’å…¥ï¼Œå¦åˆ™å°±ä¸ä¼šæ’å…¥</span>sql_insert <span class="token operator">=</span> <span class="token string">'INSERT INTO `topic_monitor`(question_id,is_title,q_type,topic_id,time) SELECT "'</span>\                    <span class="token operator">+</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'", "0", "0","'</span>  <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>topic_id<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'", "'</span><span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span> <span class="token operator">+</span> '" FROM DUAL WHERE NOT EXISTS<span class="token punctuation">(</span>\                    SELECT question_id FROM topic_monitor WHERE question_id <span class="token operator">=</span> <span class="token string">"' + x[0] + '"</span><span class="token punctuation">)</span>'cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql_insert<span class="token punctuation">)</span>conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># å…³é—­è¿æ¥</span>cursor<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></figure><p>é€šè¿‡ä¸Šé¢å‡ ç§å®ç”¨æƒ…å†µå¯ä»¥çœ‹åˆ°ï¼Œ<code>python</code> ä¸ <code>mysql</code> å®ç°äº¤äº’çš„è¿‡ç¨‹ï¼Œé€šå¸¸åˆ†ä¸ºï¼šå»ºç«‹è¿æ¥ã€æŠŠsqlè¯­å¥å®šä¹‰ä¸ºå­—ç¬¦ä¸²ï¼Œæäº¤æŒ‡ä»¤ã€å…³é—­è¿æ¥ã€‚æ ¸å¿ƒçš„æŠ€èƒ½åœ¨äº sqlè¯­å¥ï¼›é™¤äº†å®šä¹‰sqlè¯­å¥å­—ç¬¦ä¸²ï¼Œå…¶ä½™3ä¸ªå¤„ç†éƒ½æ˜¯å›ºå®šçš„å†™æ³•ã€‚</p><p>æˆ‘åœ¨æœ€åˆä¸€ä¸ªæœˆçš„å®è·µä¸­ï¼Œæœ€å¸¸å‡ºç°çš„é”™è¯¯æœ‰ï¼š</p><ul><li>å€¼çš„å¼•ç”¨æ²¡æœ‰åŠ ä¸Šå¼•å·ï¼›</li><li>ç¬¦å·é”™ä¹±ï¼šå¤šä¸€ä¸ªç¬¦å·ï¼Œå°‘ä¸€ä¸ªç¬¦å·ï¼›</li><li>å€¼çš„ç±»å‹ä¸ç¬¦åˆï¼šä¸ç®¡ mysql è¡¨æ ¼ä¸­è¯¥å€¼æ˜¯æ•°ï¼Œè¿˜æ˜¯æ–‡æœ¬ï¼Œåœ¨å®šä¹‰ sql è¯­å¥çš„å­—ç¬¦ä¸²æ—¶ï¼Œå¯¹æ¯ä¸ªå€¼éƒ½éœ€è¦è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼›</li><li>æ‹·è´è‡ªå·±çš„ä»£ç æ—¶ï¼Œå¿˜è®°ä¿®æ”¹databasenameã€‚</li></ul><h2 id="äºŒã€sqlè¯­å¥ï¼šæœç´¢æŸ¥è¯¢"><a href="#äºŒã€sqlè¯­å¥ï¼šæœç´¢æŸ¥è¯¢" class="headerlink" title="äºŒã€sqlè¯­å¥ï¼šæœç´¢æŸ¥è¯¢"></a>äºŒã€sqlè¯­å¥ï¼šæœç´¢æŸ¥è¯¢</h2><p>æœç´¢æ˜¯æŒ‡åœ¨æ•°æ®åº“çš„æŸä¸ªè¡¨æ ¼ä¸­æŸ¥è¯¢ç¬¦åˆç‰¹å®šæ¡ä»¶çš„æ•°æ®ï¼Œå¹¶è¿”å›æŸ¥è¯¢ç»“æœã€‚å…¶åŸºæœ¬ç»“æ„ä¸ºï¼š</p><p><code>SELECT ã€èŒƒå›´ã€‘FROM table_name ã€æ¡ä»¶ã€‘;</code> å…¶ä¸­ï¼ŒèŒƒå›´æ˜¯å¿…é¡»æŒ‡å®šçš„ï¼Œè€Œæ¡ä»¶å¯æœ‰å¯æ— ã€‚</p><h3 id="å˜é‡Aï¼šèŒƒå›´ï¼Œæ˜¯æŒ‡è¿”å›æŸ¥è¯¢ç»“æœçš„èŒƒå›´ã€‚"><a href="#å˜é‡Aï¼šèŒƒå›´ï¼Œæ˜¯æŒ‡è¿”å›æŸ¥è¯¢ç»“æœçš„èŒƒå›´ã€‚" class="headerlink" title="å˜é‡Aï¼šèŒƒå›´ï¼Œæ˜¯æŒ‡è¿”å›æŸ¥è¯¢ç»“æœçš„èŒƒå›´ã€‚"></a>å˜é‡Aï¼šèŒƒå›´ï¼Œæ˜¯æŒ‡è¿”å›æŸ¥è¯¢ç»“æœçš„èŒƒå›´ã€‚</h3><p>è¿”å›è¯¥è¡¨æ ¼çš„æ‰€æœ‰å­—æ®µï¼Œç”¨ * è¡¨è¾¾ï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">SELECT * FROM table_name ;</code></pre></div></figure><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/9/27/16d72eb3fa3da2c1~tplv-t2oaga2asx-zoom-in-crop-mark:3402:0:0:0.awebp" alt="image"></p><p>ä»…è¿”å›è¯¥è¡¨æ ¼çš„æŸä¸ªå­—æ®µï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">SELECT column_name FROM table_name ;</code></pre></div></figure><p>ä»…è¿”å›è¯¥è¡¨æ ¼çš„å¤šä¸ªå­—æ®µï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">SELECT column_name_1,column_name_3,column_name_3 FROM table_name ;</code></pre></div></figure><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/9/27/16d72ea94e130ac7~tplv-t2oaga2asx-zoom-in-crop-mark:3402:0:0:0.awebp" alt="image"></p><p>ä»…è¿”å›ç¬¦åˆæ¡ä»¶çš„æ•°æ®ä¸ªæ•°ï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">SELECT count(*) FROM table_name ;</code></pre></div></figure><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/9/27/16d72ea94e262e64~tplv-t2oaga2asx-zoom-in-crop-mark:3402:0:0:0.awebp" alt="image"></p><h3 id="å˜é‡Bï¼šæ¡ä»¶æ˜¯æŒ‡ï¼ŒæœŸæœ›è¿”å›çš„æ•°æ®æ»¡è¶³å“ªäº›æ¡ä»¶ã€‚"><a href="#å˜é‡Bï¼šæ¡ä»¶æ˜¯æŒ‡ï¼ŒæœŸæœ›è¿”å›çš„æ•°æ®æ»¡è¶³å“ªäº›æ¡ä»¶ã€‚" class="headerlink" title="å˜é‡Bï¼šæ¡ä»¶æ˜¯æŒ‡ï¼ŒæœŸæœ›è¿”å›çš„æ•°æ®æ»¡è¶³å“ªäº›æ¡ä»¶ã€‚"></a>å˜é‡Bï¼šæ¡ä»¶æ˜¯æŒ‡ï¼ŒæœŸæœ›è¿”å›çš„æ•°æ®æ»¡è¶³å“ªäº›æ¡ä»¶ã€‚</h3><p>ä¸é™å®šæ¡ä»¶ï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">SELECT * FROM table_name ;</code></pre></div></figure><p>æ•°å€¼ç±»ï¼šæŸä¸ªå­—æ®µï¼ˆæ•°å€¼ç±»å‹çš„ï¼Œæ¯”å¦‚doubleæˆ–è€…intï¼‰ï¼Œæ•°å€¼æ¯”è¾ƒçš„æ“ä½œç¬¦éƒ½å¯ä»¥ä½¿ç”¨æ¯”å¦‚ï¼Œå¤§äº<code>&gt;</code>ï¼Œå°äº<code>&lt;</code>ï¼Œç­‰äº <code>=</code> ï¼Œå¤§äºç­‰äº <code>&gt;=</code> ï¼Œå°äºç­‰äº <code>&lt;=</code> ï¼š</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/9/27/16d72eb3fa5311f5~tplv-t2oaga2asx-zoom-in-crop-mark:3402:0:0:0.awebp" alt="image"></p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">SELECT * FROM table_name WHERE num_column_name &gt;&#x3D; 1;</code></pre></div></figure><p>æ–‡æœ¬ç±»ï¼šæŸä¸ªå­—æ®µï¼ˆå­—ç¬¦ä¸²ç±»å‹çš„ï¼Œæ¯”å¦‚charï¼Œtextï¼‰ï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">SELECT * FROM table_name WHERE str_column_name like â€œ%your_str%â€;</code></pre></div></figure><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/9/27/16d72ea94e682c22~tplv-t2oaga2asx-zoom-in-crop-mark:3402:0:0:0.awebp" alt="image"></p><p>ä¹Ÿå¯ä»¥è¡¨è¾¾å¤šä¸ªæ¡ä»¶ï¼Œ<code>and</code>ï¼Œ<code>or</code>ç­‰å¯ç”¨äºè¡¨è¾¾æ¡ä»¶ä¹‹é—´çš„å…³ç³»ï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">SELECT * FROM table_name WHERE num_column_name_1 &gt;&#x3D; 1 and  str_column_name like â€œ%your_str%â€ ;</code></pre></div></figure><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/9/27/16d72eb3fa478de0~tplv-t2oaga2asx-zoom-in-crop-mark:3402:0:0:0.awebp" alt="image"></p><h2 id="ä¸‰ã€sqlè¯­å¥ï¼šä¿®æ”¹è¡¨å±æ€§"><a href="#ä¸‰ã€sqlè¯­å¥ï¼šä¿®æ”¹è¡¨å±æ€§" class="headerlink" title="ä¸‰ã€sqlè¯­å¥ï¼šä¿®æ”¹è¡¨å±æ€§"></a>ä¸‰ã€sqlè¯­å¥ï¼šä¿®æ”¹è¡¨å±æ€§</h2><p>æ¨ªå‘çš„ä¸€æ•´æ¡æ•°æ®ï¼Œå«åšè¡Œï¼›ç«–å‘çš„ä¸€æ•´æ¡æ•°æ®ï¼Œå«ä½œåˆ—ã€‚åˆ—çš„åå­—ï¼Œå«åš <code>column</code>ï¼Œè¿™æ˜¯é€šç”¨çš„çŸ¥è¯†ç‚¹ã€‚</p><p>è¿™æ®µæ—¶é—´çš„å®æˆ˜ä¸­ï¼Œæˆ‘å®Œå…¨æ²¡æœ‰ç”¨åˆ°ä¿®æ”¹è¡¨çš„åç§°ã€é‡è®¾indexç­‰çŸ¥è¯†ç‚¹ã€‚æœ€å¸¸ç”¨çš„ï¼Œå°±æ˜¯å¯¹åˆ—è¿›è¡Œæ“ä½œã€‚æ¯ä¸ªåˆ—å…·å¤‡ï¼šåˆ—çš„åç§°ã€åˆ—çš„å±æ€§ã€åˆ—çš„æ•°å€¼ã€‚</p><p>åˆ—çš„åç§°ï¼Œéœ€è¦ç•™å¿ƒä¸ä½¿ç”¨ä¿ç•™è¯ã€‚æˆ‘çš„æŠ€å·§æ˜¯ï¼Œå°½é‡ç”¨ä¸€äº›<code>_</code>æ¥è¡¨è¾¾è¯¥æ•°æ®ï¼Œæ¯”å¦‚ <code>article_title</code>ï¼Œ<code>press_date</code> è¿™ç§å‘½åè™½ç„¶ç¨é•¿ï¼Œä½†æ˜“è¯»ï¼Œä¹Ÿä¸ä¼šè£…ä¸Šä¿ç•™è¯ã€‚</p><p>åˆ—çš„å±æ€§åŒ…æ‹¬ï¼šç±»å‹ï¼Œæœ€å¤§é•¿åº¦ï¼Œæ˜¯å¦ä¸ºç©ºï¼Œé»˜è®¤å€¼ï¼Œæ˜¯å¦é‡å¤ï¼Œæ˜¯å¦ä¸ºç´¢å¼•ã€‚é€šå¸¸ï¼Œç›´æ¥é€šè¿‡ <code>pandas</code> çš„ <code>pd.io.sql.to_sql()</code> ä¸€æ¬¡æ€§åˆ›å»ºè¡¨æ ¼å¹¶ä¿å­˜æ•°æ®æ—¶ï¼Œåˆ—çš„é»˜è®¤å±æ€§å¹¶ä¸åˆéœ€æ±‚ã€‚è¦ä¹ˆæå‰è‡ªå·±å®šä¹‰è¡¨çš„ç»“æ„ï¼Œè®¾ç½®å¥½æ¯åˆ—å±æ€§ï¼›è¦ä¹ˆäº‹åæ£€æŸ¥åˆ—å±æ€§ï¼Œå¹¶é€åˆ—ä¿®æ”¹ã€‚æ‰€ä»¥ï¼Œåˆ—çš„å±æ€§è®¾å®šã€ä¿®æ”¹æ˜¯é«˜é¢‘åŸºç¡€çŸ¥è¯†ç‚¹ã€‚</p><p>åˆ—çš„æ•°å€¼ï¼Œå³é™¤äº†åˆ—åç§°å¤–çš„ã€è¯¥åˆ—å…¶å®ƒå€¼ã€‚ä¿®æ”¹æŸä¸ªå€¼ï¼Œä¹Ÿæ˜¯é«˜é¢‘æ“ä½œã€‚ä¸è¿‡æˆ‘æŠŠè¿™ä¸ªçŸ¥è¯†ç‚¹æ”¾åˆ°ç¬¬å››éƒ¨åˆ†äº†ã€‚</p><p>å¯¹åˆ—çš„åç§°ã€åˆ—çš„å±æ€§è¿›è¡Œä¿®æ”¹ï¼Œä¸»è¦çš„å…³é”®è¯éƒ½æ˜¯ <code>ALTER</code>ï¼Œå…·ä½“åˆåˆ†ä¸ºä»¥ä¸‹å‡ ç§æƒ…å†µã€‚</p><h3 id="æƒ…å¢ƒAï¼šæ–°å¢ä¸€åˆ—ã€‚å…³é”®è¯-ADD"><a href="#æƒ…å¢ƒAï¼šæ–°å¢ä¸€åˆ—ã€‚å…³é”®è¯-ADD" class="headerlink" title="æƒ…å¢ƒAï¼šæ–°å¢ä¸€åˆ—ã€‚å…³é”®è¯ ADD"></a>æƒ…å¢ƒAï¼šæ–°å¢ä¸€åˆ—ã€‚å…³é”®è¯ <code>ADD</code></h3><p>åœ¨ä½ æ‰€æŒ‡å®šçš„ <code>column_name</code> åé¢å®šä¹‰åˆ—çš„å±æ€§ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">ALTER TABLE table_name ADD COLUMN column_name char(20);</code></pre></div></figure><h3 id="æƒ…å¢ƒBï¼šä¿®æ”¹æŸåˆ—çš„åç§°ã€‚å…³é”®è¯-CHANGE"><a href="#æƒ…å¢ƒBï¼šä¿®æ”¹æŸåˆ—çš„åç§°ã€‚å…³é”®è¯-CHANGE" class="headerlink" title="æƒ…å¢ƒBï¼šä¿®æ”¹æŸåˆ—çš„åç§°ã€‚å…³é”®è¯ CHANGE"></a>æƒ…å¢ƒBï¼šä¿®æ”¹æŸåˆ—çš„åç§°ã€‚å…³é”®è¯ <code>CHANGE</code></h3><p>åœ¨ä¿®æ”¹åˆ—åçš„åŒæ—¶ä¹Ÿå¯ä»¥é‡æ–°æŒ‡å®šåˆ—çš„å±æ€§ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">ALTER TABLE table_name CHANGE old_column_name new_column_name char(50);</code></pre></div></figure><h3 id="æƒ…å¢ƒCï¼šä¿®æ”¹æŸåˆ—çš„å±æ€§ã€‚å…³é”®è¯æ˜¯-MODIFY"><a href="#æƒ…å¢ƒCï¼šä¿®æ”¹æŸåˆ—çš„å±æ€§ã€‚å…³é”®è¯æ˜¯-MODIFY" class="headerlink" title="æƒ…å¢ƒCï¼šä¿®æ”¹æŸåˆ—çš„å±æ€§ã€‚å…³é”®è¯æ˜¯ MODIFY"></a>æƒ…å¢ƒCï¼šä¿®æ”¹æŸåˆ—çš„å±æ€§ã€‚å…³é”®è¯æ˜¯ <code>MODIFY</code></h3><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">ALTER TABLE table_name MODIFY column_name char(100);</code></pre></div></figure><h2 id="å››ã€sqlè¯­å¥ï¼šæ•°æ®çš„å¢æ”¹åˆ "><a href="#å››ã€sqlè¯­å¥ï¼šæ•°æ®çš„å¢æ”¹åˆ " class="headerlink" title="å››ã€sqlè¯­å¥ï¼šæ•°æ®çš„å¢æ”¹åˆ "></a>å››ã€sqlè¯­å¥ï¼šæ•°æ®çš„å¢æ”¹åˆ </h2><p>é€šå¸¸æåˆ°æ•°æ®åº“æ“ä½œæ—¶ï¼Œå››å­—ä»¥è”½ä¹‹ï¼šå¢åˆ æ”¹æŸ¥ã€‚</p><ul><li>æŸ¥è¯¢ï¼Œè¯·çœ‹ç¬¬äºŒéƒ¨åˆ†ã€‚å…³é”®è¯æ˜¯ <code>SELECT</code>ã€‚</li><li>å¯¹æ•°æ®æ‰€ä¾èµ–çš„å±æ€§çš„å¢ã€æ”¹ï¼Œè¯·çœ‹ç¬¬ä¸‰éƒ¨åˆ†ã€‚å…³é”®è¯æ˜¯ <code>ALTER</code>ã€‚</li><li>æ•°æ®çš„å¢åŠ ï¼Œåœ¨ç¬¬ä¸€éƒ¨åˆ†çš„æ•°æ®äº¤äº’ä¸­ä¹Ÿç»™å‡ºå®ä¾‹ï¼Œå°±ä¸é‡å¤äº†ã€‚å…³é”®è¯æ˜¯<code>INSERT</code>ã€‚</li><li>æ•°æ®çš„ä¿®æ”¹ï¼Œå…³é”®è¯æ˜¯ <code>UPDATE</code>ã€‚</li><li>æ•°æ®ï¼ˆç”šè‡³è¡¨æ ¼ã€åº“ï¼‰çš„åˆ é™¤ï¼Œå…³é”®è¯æ˜¯<code>DELETE</code>ã€‚</li></ul><p>æ•°æ®çš„ä¿®æ”¹ï¼Œå‰¯å…³é”®è¯æ˜¯ <code>set</code> ã€‚</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">UPDATE table_name SET columns_name &#x3D; new_value ã€æ¡ä»¶ã€‘;</code></pre></div></figure><p>æ–°æ•°å€¼å¦‚æœæ˜¯æ•°å€¼ç±»å‹çš„ï¼Œåˆ™ç›´æ¥å†™æ•°å€¼å³å¯ï¼›å¦‚æœæ˜¯æ–‡æœ¬ç±»å‹çš„ï¼Œå¿…é¡»è¦åŠ ä¸ŠåŒå¼•å·ï¼Œæ¯”å¦‚ï¼Œ<code>â€œyour_new_valueâ€</code>ã€‚</p><p>å¦‚æœæŠŠã€æ¡ä»¶ã€‘éƒ¨åˆ†ä¸å†™ï¼Œå°±ç›¸å½“äºä¿®æ”¹æ•´åˆ—çš„å€¼ï¼›æƒ³è¦ä¿®æ”¹ç‰¹å®šèŒƒå›´ï¼Œå°±è¦ç”¨åˆ°æ¡ä»¶è¡¨è¾¾å¼ï¼Œè¿™å’Œå‰é¢çš„æŸ¥è¯¢éƒ¨åˆ†æ˜¯ä¸€è‡´çš„ï¼Œå°±ä¸å†é‡å¤ã€‚</p><p>æ•°æ®çš„åˆ é™¤ï¼Œå¯¹äºæ–°æ‰‹æ¥è¯´ï¼Œæ˜¯å¿…é¡»è­¦æƒ•çš„æ“ä½œã€‚å› ä¸ºä¸€æ—¦è¯¯æ“ä½œï¼Œä½ å°†æ— åŠ›æŒ½å›ã€‚å³ä¾¿æ˜¯èŒä¸šç¨‹åºå‘˜ï¼Œä¹Ÿå¯èƒ½çŠ¯ä¸‹æ— ç–‘åˆ åº“çš„æƒ¨å‰§ã€‚å…¶åŸºæœ¬è¯­å¥ä¸ºï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">DELETE FROM table_nameã€æ¡ä»¶ã€‘;</code></pre></div></figure><p>æƒ³è¦ä¿®æ”¹ç‰¹å®šèŒƒå›´ï¼Œå°±è¦ç”¨åˆ°æ¡ä»¶è¡¨è¾¾å¼ï¼Œè¿™å’Œå‰é¢çš„æŸ¥è¯¢éƒ¨åˆ†ä¹Ÿæ˜¯ä¸€è‡´çš„ï¼Œç¨å¾®å•°å—¦ä¸¤å¥ï¼šä¸è¦å¯¹è‡ªå·±è®¾å®šçš„æ¡ä»¶å¤ªè‡ªä¿¡ï¼Œæœ€å¥½å…ˆç”¨æœç´¢è¯­å¥æ£€æŸ¥ä¸€ä¸‹ï¼Œç„¶åå†æ‰§è¡Œåˆ é™¤è¯­å¥ã€‚</p><ul><li>åˆ é™¤å•è¡Œæ•°æ®ï¼šæ·»åŠ èƒ½å”¯ä¸€æ ‡è¯†è¯¥è¡Œæ•°æ®çš„æ¡ä»¶è¯­å¥ã€‚</li><li>åˆ é™¤å¤šè¡Œæ•°æ®ï¼šæ·»åŠ èƒ½æ ‡è¯†è¯¥èŒƒå›´çš„æ¡ä»¶è¯­å¥ã€‚</li><li>åˆ é™¤æ•´å¼ è¡¨æ ¼ï¼š<strong>ä½ æ˜¯è®¤çœŸçš„å—ï¼Ÿæ²¡æœ‰å†™é”™è¡¨æ ¼åå­—å§ï¼Ÿï¼</strong> åšè¿™é¡¹æ“ä½œå‰ï¼Œå¿…é¡»ç¡®è®¤æ¸…æ¥šè‡ªå·±çš„æ„å›¾ï¼Œæ¯•ç«Ÿä¸€æ—¦å‘ç”Ÿï¼Œæ— å¯æŒ½å›ã€‚</li></ul><p>å¦‚æœæ¡ä»¶ç•™ç©ºï¼Œå°†ä¿ç•™è¡¨ç»“æ„ï¼Œè€Œåˆ é™¤æ‰€æœ‰æ•°æ®è¡Œã€‚æƒ³è¦åˆ é™¤æ•´å¼ è¡¨æ ¼ï¼Œä»€ä¹ˆéƒ½ä¸ç•™ä¸‹ï¼Œåˆ™æ‰§è¡Œï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">DELETE TABLE table_name;</code></pre></div></figure><p>ä¿—ç§°çš„â€œåˆ åº“â€å°±æ˜¯åˆ æ‰æ•´ä¸ªæ•°æ®åº“ï¼Œè™½ç„¶å®æˆ˜ä¸­å‡ ä¹ä¸ä¼šç”¨åˆ°ï¼Œä½†ä½œä¸ºæ–°æ‰‹ç»å¸¸æ‰‹è¯¯ï¼Œåœ¨ç»ƒä¹ é˜¶æ®µå®‰å…¨èµ·è§ï¼Œæœ€å¥½è¿˜æ˜¯ä¸“é—¨åˆ›å»ºä¸€ä¸ª database ç”¨äºç»ƒæ‰‹ï¼Œç»ƒå®Œç›´æ¥åˆ æ‰æ•´ä¸ªç»ƒä¹ åº“ï¼š</p><figure><div class="code-wrapper"><pre class="language-SQL" data-language="SQL"><code class="language-SQL">DELETE DATABASE database_name;</code></pre></div></figure><p>å¦‚æœç®€å•æ€»ç»“ä¸‹è¿‡å»ä¸€ä¸ªæœˆï¼Œä½¿ç”¨<code>mysql</code>çš„ä½“éªŒï¼Œé‚£å°±æ˜¯ï¼šé™¤äº†<code>mysql</code> çš„å®‰è£…æ¿€æ´»å¤ªéº»çƒ¦ï¼Œæ•°æ®çš„å¢åˆ æ”¹æŸ¥æ¯”æ“ä½œæ–‡æœ¬æ–¹ä¾¿å¤ªå¤šäº†ï¼ï¼å®Œå…¨å€¼å¾—å®¹å¿å®‰è£…æ¿€æ´»çš„éº»çƒ¦ã€‚å¦å¤– <code>mysql</code> å¸¸ç”¨è¯­æ³•ç¡®å®ç®€å•ã€éå¸¸æœ‰è§„å¾‹ã€‚</p><p>å¸Œæœ›æˆ‘çš„æ€»ç»“å¸¦ç»™ä½ å¸®åŠ©ã€‚é¼“åŠ±æˆ‘ç»§ç»­åˆ†äº«ï¼Œé‚£å°±è¯·ç‚¹ä¸ªèµå§ï¼</p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åˆ†æ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è½¬è½½</tag>
      
      <tag>Python</tag>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚ä½•è®©SQLæé«˜ä¸€ä¸ªå°é˜¶ï¼Ÿ</title>
    <link href="/2022/11/11/%E5%A6%82%E4%BD%95%E8%AE%A9SQL%E6%8F%90%E9%AB%98%E4%B8%80%E4%B8%AA%E5%8F%B0%E9%98%B6%EF%BC%9F/"/>
    <url>/2022/11/11/%E5%A6%82%E4%BD%95%E8%AE%A9SQL%E6%8F%90%E9%AB%98%E4%B8%80%E4%B8%AA%E5%8F%B0%E9%98%B6%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<blockquote><p>MySQl ä¸“æ æŒç»­æ›´æ–° ä¸è¯´æ™¦æ¶©éš¾æ‡‚çš„ä¸œè¥¿ å°½é‡è¾“å‡ºå®¹æ˜“ç†è§£ å’Œ ä½¿ç”¨çš„SQLæŠ€å·§ å’Œ åˆä¸­çº§å¼€å‘ä¸æ˜¯å¾ˆå¸¸ç”¨çš„ä½†å¾ˆæœ‰ç”¨çš„çŸ¥è¯†</p><p>æ¬¢è¿æŸ¥çœ‹ğŸ‘‰ğŸ»ğŸ‘‰ğŸ»ğŸ‘‰ğŸ»<a href="https://juejin.cn/column/7157955810826387470" title="https://juejin.cn/column/7157955810826387470">SQL ä¸“æ </a> æŸ¥æ¼è¡¥ç¼º æŒ‡æ•™ä¸€äºŒ</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9572ab2e6c3545dbaa4b2b75f4a3b6c1~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="src=http __img2.biaoqingjia.com_biaoqing_201810_2c3993f64eec252da6d674f9d80fc4e9.gif&amp;refer=http __img2.biaoqingjia.gif"></p><p>æ¯ä¸€æ¬¡å†™åšå®¢å¯¹æŠ€æœ¯éƒ½ä¼šæœ‰æ›´æ·±å…¥çš„ç†è§£ ç§¯å°‘æˆå¤š ç™¾å¤©è®¡åˆ’æˆ‘ä¹Ÿæƒ³çœ‹çœ‹è‡ªå·±æœ‰å¤šå°‘æˆé•¿ ç¥å›å¥½è¿ å·¥ä½œé¡ºåˆ©</p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>SQL å†™ä¸å¥½ åŠ ç­å°‘ä¸äº† æ—¥å¸¸å·¥ä½œä¸­SQL æ˜¯å¿…ä¸å¯å°‘çš„ä¸€é¡¹æŠ€æœ¯ ä½†æ˜¯å¾ˆå¤šäººä¸ä¼šè¿‡å¤šçš„å»å…³æ³¨SQLé—®é¢˜ ä¸€æ˜¯æ•°æ®é‡å° äºŒæ˜¯æ²¡æœ‰æ„è¯†åˆ°ç´¢å¼•çš„é‡è¦æ€§ æœ¬æ–‡ä¸»è¦æ˜¯æ•´ç† SQLå¤±æ•ˆåœºæ™¯ å¦‚æœé‡Œé¢çš„ç»†èŠ‚ä½ éƒ½çŸ¥é“ é‚£ä½ ä¸€å®šæ˜¯å­¦ä¹ èƒ½åŠ›æ¯”è¾ƒå¥½çš„äºº è†œæ‹œ å†™å®Œè¿™ç¯‡æ–‡ç«  æˆ‘æ„Ÿè§‰è‡ªå·±ä¹‹å‰çŸ¥é“çš„çœŸçš„æ˜¯ â€œç›®å½•â€ æ²¡æœ‰æ˜ç™½å…¶ä¸­çš„å†…å®¹ å¦‚æœä½ èƒ½è·Ÿç€èŠ‚å¥çœ‹å®Œæ–‡ç«  ä¸€å®šä¼šæœ‰æ”¶è· è‡³å°‘æˆ‘å†™å®Œæ„Ÿè§‰æ€ç»´é€šé€å¾ˆå¤š ä»¥åç™¾åˆ†ä¹‹ä¹åçš„ SQlç´¢å¼•é—®é¢˜ å’Œ é¢è¯•è¿™æ–¹é¢é—®é¢˜éƒ½èƒ½æ‹¿æä¸¤</p><p><code>æ–‡ç«  å­—æ•° å››åƒä½™å­— è§‚çœ‹æ—¶é•¿ååˆ†é’Ÿ ç»ƒä¹ æ—¶é•¿ä¸¤ä¸ªåŠå°æ—¶</code></p><h2 id="åŸºç¡€æ•°æ®å‡†å¤‡"><a href="#åŸºç¡€æ•°æ®å‡†å¤‡" class="headerlink" title="åŸºç¡€æ•°æ®å‡†å¤‡"></a>åŸºç¡€æ•°æ®å‡†å¤‡</h2><p>å‡†å¤‡ä¸€ä¸ªæ•°æ®è¡¨ä½œä¸º æ•°æ®æ¼”ç¤º è¿™é‡Œé¢ä¸€å…± åˆ›å»ºäº†ä¸‰ä¸ªç´¢å¼•</p><ul><li>è”åˆç´¢å¼• <code>sname</code>, <code>s_code</code>, <code>address</code></li><li>ä¸»é”®ç´¢å¼• <code>id</code></li><li>æ™®é€šç´¢å¼• <code>height</code></li></ul><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">SET NAMES utf8mb4;SET FOREIGN_KEY_CHECKS &#x3D; 0;-- ------------------------------ Table structure for student-- ----------------------------DROP TABLE IF EXISTS &#96;student&#96;;CREATE TABLE &#96;student&#96;  (  &#96;id&#96; int(11) NOT NULL AUTO_INCREMENT,  &#96;sname&#96; varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,  &#96;s_code&#96; int(100) NULL DEFAULT NULL,  &#96;address&#96; varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,  &#96;height&#96; double NULL DEFAULT NULL,  &#96;classid&#96; int(11) NULL DEFAULT NULL,  &#96;create_time&#96; datetime(0) NOT NULL ON UPDATE CURRENT_TIMESTAMP(0),  PRIMARY KEY (&#96;id&#96;) USING BTREE,  INDEX &#96;æ™®é€šç´¢å¼•&#96;(&#96;height&#96;) USING BTREE,  INDEX &#96;è”åˆç´¢å¼•&#96;(&#96;sname&#96;, &#96;s_code&#96;, &#96;address&#96;) USING BTREE) ENGINE &#x3D; InnoDB AUTO_INCREMENT &#x3D; 5 CHARACTER SET &#x3D; utf8 COLLATE &#x3D; utf8_general_ci ROW_FORMAT &#x3D; Dynamic;-- ------------------------------ Records of student-- ----------------------------INSERT INTO &#96;student&#96; VALUES (1, &#39;å­¦ç”Ÿ1&#39;, 1, &#39;ä¸Šæµ·&#39;, 170, 1, &#39;2022-11-02 20:44:14&#39;);INSERT INTO &#96;student&#96; VALUES (2, &#39;å­¦ç”Ÿ2&#39;, 2, &#39;åŒ—äº¬&#39;, 180, 2, &#39;2022-11-02 20:44:16&#39;);INSERT INTO &#96;student&#96; VALUES (3, &#39;å˜æˆæ´¾å¤§æ˜Ÿ&#39;, 3, &#39;äº¬ä¸œ&#39;, 185, 3, &#39;2022-11-02 20:44:19&#39;);INSERT INTO &#96;student&#96; VALUES (4, &#39;å­¦ç”Ÿ4&#39;, 4, &#39;è”é€š&#39;, 190, 4, &#39;2022-11-02 20:44:25&#39;);</code></pre></div></figure><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>ä¸Šé¢çš„SQL æˆ‘ä»¬å·²ç»åˆ›å»ºå¥½åŸºæœ¬çš„æ•°æ® åœ¨éªŒè¯ä¹‹å‰ å…ˆå¸¦ç€å‡ ä¸ªé—®é¢˜</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a517883c2f734ed9aad32fe69341e5b2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p>æˆ‘ä»¬å…ˆä»ä¸Šå¾€ä¸‹è¿›è¡ŒéªŒè¯</p><h2 id="æœ€å·¦åŒ¹é…åŸåˆ™"><a href="#æœ€å·¦åŒ¹é…åŸåˆ™" class="headerlink" title="æœ€å·¦åŒ¹é…åŸåˆ™"></a>æœ€å·¦åŒ¹é…åŸåˆ™</h2><p>å†™åœ¨å‰é¢ï¼šæˆ‘å¾ˆæ—©ä¹‹å‰å°±å¬è¯´è¿‡æ•°æ®åº“çš„æœ€å·¦åŒ¹é…åŸåˆ™ï¼Œå½“æ—¶æ˜¯é€šè¿‡å„å¤§åšå®¢è®ºå›äº†è§£çš„ï¼Œä½†æ˜¯è¿™äº›åšå®¢çš„å±€é™æ€§åœ¨äºå®ƒä»¬å¯¹æœ€å·¦åŒ¹é…åŸåˆ™çš„æè¿°å°±åƒä¸€äº›æ•°å­¦å®šä¹‰ä¸€æ ·ï¼Œå¾€å¾€éƒ½æ˜¯åˆ—å‡º123ç‚¹ï¼Œæ»¡è¶³è¿™123ç‚¹å°±èƒ½åŒ¹é…ä¸Šç´¢å¼•ï¼Œå¦åˆ™å°±ä¸èƒ½ã€‚ æœ€å·¦åŒ¹é…åŸåˆ™å°±æ˜¯æŒ‡åœ¨è”åˆç´¢å¼•ä¸­ï¼Œå¦‚æœä½ çš„ SQL è¯­å¥ä¸­ç”¨åˆ°äº†è”åˆç´¢å¼•ä¸­çš„æœ€å·¦è¾¹çš„ç´¢å¼•ï¼Œé‚£ä¹ˆè¿™æ¡ SQL è¯­å¥å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªè”åˆç´¢å¼•å»è¿›è¡ŒåŒ¹é…ï¼Œæˆ‘ä»¬ä¸Šé¢å»ºç«‹äº†è”åˆç´¢å¼• å¯ä»¥ç”¨æ¥æµ‹è¯•æœ€å·¦åŒ¹é…åŸåˆ™ <code>sname</code>, <code>s_code</code>, <code>address</code></p><p>è¯·çœ‹ä¸‹é¢SQLè¯­å¥ è¿›è¡Œæ€è€ƒ æ˜¯å¦ä¼šèµ°ç´¢å¼•</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">-- è”åˆç´¢å¼• sname,s_code,address1ã€select create_time from student where sname &#x3D; &quot;å˜æˆæ´¾å¤§æ˜Ÿ&quot;  -- ä¼šèµ°ç´¢å¼•å—ï¼Ÿ2ã€select create_time from student where s_code &#x3D; 1   -- ä¼šèµ°ç´¢å¼•å—ï¼Ÿ3ã€select create_time from student where address &#x3D; &quot;ä¸Šæµ·&quot;  -- ä¼šèµ°ç´¢å¼•å—ï¼Ÿ4ã€select create_time from student where address &#x3D; &quot;ä¸Šæµ·&quot; and s_code &#x3D; 1 -- ä¼šèµ°ç´¢å¼•å—ï¼Ÿ5ã€select create_time from student where address &#x3D; &quot;ä¸Šæµ·&quot; and sname &#x3D; &quot;å˜æˆæ´¾å¤§æ˜Ÿ&quot;  -- ä¼šèµ°ç´¢å¼•å—ï¼Ÿ6ã€select create_time from student where sname &#x3D; &quot;å˜æˆæ´¾å¤§æ˜Ÿ&quot; and address &#x3D; &quot;ä¸Šæµ·&quot;  -- ä¼šèµ°ç´¢å¼•å—ï¼Ÿ7ã€select create_time from student where sname &#x3D; &quot;å˜æˆæ´¾å¤§æ˜Ÿ&quot; and s_code &#x3D; 1 and address &#x3D; &quot;ä¸Šæµ·&quot;  -- ä¼šèµ°ç´¢å¼•å—ï¼Ÿ</code></pre></div></figure><p>å‡­ä½ çš„ç»éªŒ å“ªäº›ä¼šä½¿ç”¨åˆ°ç´¢å¼•å‘¢ ï¼Ÿ å¯ä»¥å…ˆæ€è€ƒä¸€ä¸‹ åœ¨å¿ƒä¸­è®°ä¸‹æ•°å­—</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/783520d8f38b4e259e8f6d7b65a05103~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p><strong>èµ°ç´¢å¼•ä¾‹å­</strong></p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">EXPLAIN  select create_time from student where sname &#x3D; &quot;å˜æˆæ´¾å¤§æ˜Ÿ&quot;  -- ä¼šèµ°ç´¢å¼•å—ï¼Ÿ</code></pre></div></figure><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d253165cfba04252aa4c4a219b697a81~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p><strong>æœªèµ°ç´¢å¼•ä¾‹å­</strong></p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">EXPLAIN select create_time from student where address &#x3D; &quot;ä¸Šæµ·&quot; and s_code &#x3D; 1 -- ä¼šèµ°ç´¢å¼•å—ï¼Ÿ</code></pre></div></figure><p>èµ°çš„å…¨è¡¨æ‰«æ rows &#x3D; 4 <img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9395730bd49645f1848278ff1d7d2467~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"> å¦‚æœä¸çŸ¥é“<code>EXPLAIN</code> æ˜¯ä»€ä¹ˆçš„ æˆ–è€…çœ‹ä¸æ‡‚åˆ†æå‡ºæ¥çš„æ•°æ®çš„è¯ å»ºè®®å»çœ‹çœ‹å¦ä¸€ç¯‡æ–‡ç« <a href="https://juejin.cn/post/7161254854571065375" title="https://juejin.cn/post/7161254854571065375">åˆ†æå‘½ä»¤EXPLAINè¶…è¯¦è§£</a></p><p>å¦‚æœä½ å†…å¿ƒçš„ç­”æ¡ˆæ²¡æœ‰å…¨éƒ¨è¯´å¯¹å°±æ¥ç€å¾€ä¸‹çœ‹</p><p>æœ€å·¦åŒ¹é…åŸåˆ™é¡¾åæ€ä¹‰ï¼šæœ€å·¦ä¼˜å…ˆï¼Œä»¥æœ€å·¦è¾¹çš„ä¸ºèµ·ç‚¹ä»»ä½•è¿ç»­çš„ç´¢å¼•éƒ½èƒ½åŒ¹é…ä¸Šã€‚<strong>åŒæ—¶é‡åˆ°èŒƒå›´æŸ¥è¯¢(&gt;ã€&lt;ã€betweenã€like)å°±ä¼šåœæ­¢åŒ¹é…</strong>ã€‚<br>ä¾‹å¦‚ï¼šs_code &#x3D; 2 å¦‚æœå»ºç«‹(<code>sname</code>, <code>s_code</code>)é¡ºåºçš„ç´¢å¼•ï¼Œæ˜¯åŒ¹é…ä¸åˆ°(<code>sname</code>, <code>s_code</code>)ç´¢å¼•çš„;</p><p>ä½†æ˜¯å¦‚æœæŸ¥è¯¢æ¡ä»¶æ˜¯sname &#x3D; â€œå˜æˆæ´¾å¤§æ˜Ÿâ€ and s_code &#x3D; 2æˆ–è€…a&#x3D;1(åˆæˆ–è€…æ˜¯s_code &#x3D; 2 and sname &#x3D; â€œå˜æˆæ´¾å¤§æ˜Ÿâ€ )å°±å¯ä»¥ï¼Œ<strong>å› ä¸ºä¼˜åŒ–å™¨ä¼šè‡ªåŠ¨è°ƒæ•´<code>sname</code>, <code>s_code</code>çš„é¡ºåº</strong>ã€‚å†æ¯”å¦‚sname &#x3D; â€œå˜æˆæ´¾å¤§æ˜Ÿâ€ and s_code &gt; 1 and address &#x3D; â€œä¸Šæµ·â€ <code>addressæ˜¯ç”¨ä¸åˆ°ç´¢å¼•çš„</code>ï¼Œå› ä¸ºs_codeå­—æ®µæ˜¯ä¸€ä¸ªèŒƒå›´æŸ¥è¯¢ï¼Œå®ƒä¹‹åçš„å­—æ®µä¼šåœæ­¢åŒ¹é…ã€‚</p><p>ä¸å¸¦èŒƒå›´æŸ¥è¯¢ ç´¢å¼•ä½¿ç”¨ç±»å‹ <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/62cf1fbb4d694a32b1374a7621259924~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p>å¸¦èŒƒå›´ä½¿ç”¨ç±»å‹</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a8bf03bef225405b83de31f9ffcdd1af~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p>æ ¹æ®ä¸Šä¸€ç¯‡æ–‡ç« çš„è®²è§£ å¯ä»¥æ˜ç™½ ref å’Œrangeçš„å«ä¹‰ çº§åˆ«è¿˜æ˜¯ç›¸å·®å¾ˆå¤šçš„</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dd7c90f9067344fdaa91724d0f6882f1~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><h3 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><p>ä¸ºä»€ä¹ˆå·¦é“¾æ¥ä¸€å®šè¦éµå¾ªæœ€å·¦ç¼€åŸåˆ™å‘¢ï¼Ÿ</p><h3 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h3><p>çœ‹è¿‡ä¸€ä¸ªæ¯”è¾ƒå¥½ç©çš„å›ç­”</p><blockquote><p>ä½ å¯ä»¥è®¤ä¸ºè”åˆç´¢å¼•æ˜¯é—¯å…³æ¸¸æˆçš„è®¾è®¡<br>ä¾‹å¦‚ä½ è¿™ä¸ªè”åˆç´¢å¼•æ˜¯state&#x2F;city&#x2F;zipCode<br>é‚£ä¹ˆstateå°±æ˜¯ç¬¬ä¸€å…³ cityæ˜¯ç¬¬äºŒå…³ï¼Œ zipCodeå°±æ˜¯ç¬¬ä¸‰å…³<br>ä½ å¿…é¡»åŒ¹é…äº†ç¬¬ä¸€å…³ï¼Œæ‰èƒ½åŒ¹é…ç¬¬äºŒå…³ï¼ŒåŒ¹é…äº†ç¬¬ä¸€å…³å’Œç¬¬äºŒå…³ï¼Œæ‰èƒ½åŒ¹é…ç¬¬ä¸‰å…³</p></blockquote><p>è¿™æ ·æè¿°ä¸ç®—å®Œå…¨å‡†ç¡® ä½†æ˜¯ç¡®å®æ˜¯è¿™ç§æ€æƒ³</p><p>è¦æƒ³ç†è§£è”åˆç´¢å¼•çš„æœ€å·¦åŒ¹é…åŸåˆ™ï¼Œå…ˆæ¥ç†è§£ä¸‹ç´¢å¼•çš„åº•å±‚åŸç†ã€‚ç´¢å¼•çš„åº•å±‚æ˜¯ä¸€é¢—B+æ ‘ï¼Œé‚£ä¹ˆè”åˆç´¢å¼•çš„åº•å±‚ä¹Ÿå°±æ˜¯ä¸€é¢—B+æ ‘ï¼Œåªä¸è¿‡è”åˆç´¢å¼•çš„B+æ ‘èŠ‚ç‚¹ä¸­å­˜å‚¨çš„æ˜¯é”®å€¼ã€‚ç”±äºæ„å»ºä¸€æ£µB+æ ‘åªèƒ½æ ¹æ®ä¸€ä¸ªå€¼æ¥ç¡®å®šç´¢å¼•å…³ç³»ï¼Œæ‰€ä»¥æ•°æ®åº“ä¾èµ–è”åˆç´¢å¼•æœ€å·¦çš„å­—æ®µæ¥æ„å»º æ–‡å­—æ¯”è¾ƒæŠ½è±¡ æˆ‘ä»¬çœ‹ä¸€ä¸‹</p><p>åŠ å…¥æˆ‘ä»¬å»ºç«‹ A,B è”åˆç´¢å¼• ä»–ä»¬åœ¨åº•å±‚å‚¨å­˜æ˜¯ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿ</p><ul><li>æ©™è‰²ä»£è¡¨å­—æ®µ A</li><li>æµ…ç»¿è‰² ä»£è¡¨å­—æ®µB</li></ul><p>å›¾è§£ï¼š <img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a35b2ec784eb48109fe2916eade3c248~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå‡ ä¸ªç‰¹ç‚¹</p><ul><li>A æ˜¯æœ‰é¡ºåºçš„ 1ï¼Œ1ï¼Œ2ï¼Œ2ï¼Œ3ï¼Œ4</li><li>B æ˜¯æ²¡æœ‰é¡ºåºçš„ 1ï¼Œ2ï¼Œ1ï¼Œ4ï¼Œ1ï¼Œ2 è¿™ä¸ªæ˜¯æ•£åˆ—çš„</li><li>å¦‚æœAæ˜¯ç­‰å€¼çš„æ—¶å€™ Bæ˜¯æœ‰åºçš„ ä¾‹å¦‚ ï¼ˆ1ï¼Œ1ï¼‰ï¼Œï¼ˆ1ï¼Œ2ï¼‰ è¿™é‡Œçš„Bæœ‰åºçš„ ï¼ˆ2ï¼Œ1ï¼‰,(2,4) B ä¹Ÿæ˜¯æœ‰åºçš„</li></ul><p>è¿™é‡Œåº”è¯¥å°±èƒ½çœ‹å‡º å¦‚æœæ²¡æœ‰Açš„æ”¯æŒ Bçš„ç´¢å¼•æ˜¯æ•£åˆ—çš„ ä¸æ˜¯è¿ç»­çš„</p><p>å†ç»†è‡´ä¸€ç‚¹ æˆ‘ä»¬é‡æ–°åˆ›å»ºä¸€ä¸ªè¡¨</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">DROP TABLE IF EXISTS &#96;leftaffix&#96;;CREATE TABLE &#96;leftaffix&#96; Â (Â  &#96;a&#96; int(11) NOT NULL AUTO_INCREMENT,Â  &#96;b&#96; int(11) NULL DEFAULT NULL,Â  &#96;c&#96; int(11) NULL DEFAULT NULL,Â  &#96;d&#96; int(11) NULL DEFAULT NULL,Â  &#96;e&#96; varchar(11) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,Â  PRIMARY KEY (&#96;a&#96;) USING BTREE,Â  INDEX &#96;è”åˆç´¢å¼•&#96;(&#96;b&#96;, &#96;c&#96;, &#96;d&#96;) USING BTREE) ENGINE &#x3D; InnoDB AUTO_INCREMENT &#x3D; 8 CHARACTER SET &#x3D; utf8 COLLATE &#x3D; utf8_general_ci ROW_FORMAT &#x3D; Dynamic; -- ------------------------------ Records of leftaffix-- ----------------------------INSERT INTO &#96;leftaffix&#96; VALUES (1, 1, 1, 1, &#39;1&#39;);INSERT INTO &#96;leftaffix&#96; VALUES (2, 2, 2, 2, &#39;2&#39;);INSERT INTO &#96;leftaffix&#96; VALUES (3, 3, 2, 2, &#39;3&#39;);INSERT INTO &#96;leftaffix&#96; VALUES (4, 3, 1, 1, &#39;4&#39;);INSERT INTO &#96;leftaffix&#96; VALUES (5, 2, 3, 5, &#39;5&#39;);INSERT INTO &#96;leftaffix&#96; VALUES (6, 6, 4, 4, &#39;6&#39;);INSERT INTO &#96;leftaffix&#96; VALUES (7, 8, 8, 8, &#39;7&#39;);SET FOREIGN_KEY_CHECKS &#x3D; 1;</code></pre></div></figure><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/39277837f4fb4f8d8f4707ae5a597880~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><blockquote><p>åœ¨åˆ›å»ºç´¢å¼•æ ‘çš„æ—¶å€™ä¼šå¯¹æ•°æ®è¿›è¡Œæ’åº æ ¹æ®æœ€å·¦ç¼€åŸåˆ™ ä¼šå…ˆé€šè¿‡ B è¿›è¡Œæ’åº ä¹Ÿå°±æ˜¯ å¦‚æœå‡ºç°å€¼ç›¸åŒå°± æ ¹æ® C æ’åº å¦‚æœ Cç›¸åŒå°±æ ¹æ®D æ’åº æ’å¥½é¡ºåºä¹‹åå°±æ˜¯å¦‚ä¸‹å›¾ï¼š</p></blockquote><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/311f0f59b47141a185b466f26df0d2e0~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><blockquote><p>ç´¢å¼•çš„ç”Ÿæˆå°±ä¼šæ ¹æ®å›¾äºŒçš„é¡ºåºè¿›è¡Œç”Ÿæˆ æˆ‘ä»¬çœ‹ä¸€ä¸‹ ç”Ÿæˆåçš„æ ‘çŠ¶æ•°æ®æ˜¯ä»€ä¹ˆæ ·å­</p></blockquote><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cb22bb31c6f14d3683164388042bc0f1~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><blockquote><p>è§£é‡Šä¸€äº›è¿™ä¸ªæ ‘çŠ¶å›¾ é¦–å…ˆæ ¹æ®å›¾äºŒçš„æ’åº æˆ‘ä»¬çŸ¥é“é¡ºåº æ˜¯ 1111a 2222b æ‰€ä»¥ åœ¨ç¬¬ä¸‰å±‚ æˆ‘ä»¬å¯ä»¥çœ‹åˆ° 1111a åœ¨ç¬¬ä¸€å±‚ 2222båœ¨ç¬¬äºŒå±‚ å› ä¸º 111 &lt; 222 æ‰€ä»¥ 111 è¿›å…¥ç¬¬äºŒå±‚ ç„¶åå¾—å‡ºç¬¬ä¸€å±‚</p></blockquote><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5393546a6d59417388538798c34ca04f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p>ç®€åŒ–ä¸€ä¸‹å°±æ˜¯è¿™ä¸ªæ ·å­</p><p>ä½†æ˜¯è¿™ç§é¡ºåºæ˜¯ç›¸å¯¹çš„ã€‚è¿™æ˜¯å› ä¸ºMySQLåˆ›å»ºè”åˆç´¢å¼•çš„è§„åˆ™æ˜¯é¦–å…ˆä¼šå¯¹è”åˆç´¢å¼•çš„æœ€å·¦è¾¹<code>ç¬¬ä¸€ä¸ªå­—æ®µæ’åº</code>ï¼Œåœ¨ç¬¬ä¸€ä¸ªå­—æ®µçš„æ’åºåŸºç¡€ä¸Šï¼Œç„¶ååœ¨å¯¹ç¬¬äºŒä¸ªå­—æ®µè¿›è¡Œæ’åºã€‚æ‰€ä»¥B&#x3D;2è¿™ç§æŸ¥è¯¢æ¡ä»¶æ²¡æœ‰åŠæ³•åˆ©ç”¨ç´¢å¼•ã€‚</p><p>çœ‹åˆ°è¿™é‡Œè¿˜å¯ä»¥æ˜ç™½ä¸€ä¸ªé“ç† ä¸ºä»€ä¹ˆæˆ‘ä»¬å»ºç«‹ç´¢å¼•çš„æ—¶å€™ä¸æ¨èå»ºç«‹åœ¨ç»å¸¸æ”¹å˜çš„å­—æ®µ å› ä¸ºè¿™æ ·çš„è¯æˆ‘ä»¬çš„ç´¢å¼•ç»“æ„å°±è¦è·Ÿç€ä½ çš„æ”¹å˜è€Œæ”¹åŠ¨ æ‰€ä»¥å¾ˆæ¶ˆè€—æ€§èƒ½</p><h3 id="å°æ€»ç»“"><a href="#å°æ€»ç»“" class="headerlink" title="å°æ€»ç»“"></a>å°æ€»ç»“</h3><p>å‰æ å¦‚æœåˆ›å»º b,c,d è”åˆç´¢å¼•é¢</p><ul><li>å¦‚æœ æˆ‘where åé¢çš„æ¡ä»¶æ˜¯<code>c = 1 and d = 1</code>ä¸ºä»€ä¹ˆä¸èƒ½èµ°ç´¢å¼•å‘¢ å¦‚æœæ²¡æœ‰bçš„è¯ ä½ æŸ¥è¯¢çš„å€¼ç›¸å½“äº <code>*11</code> æˆ‘ä»¬éƒ½çŸ¥é“<code>*</code>æ˜¯æ‰€æœ‰çš„æ„æ€ä¹Ÿå°±æ˜¯æˆ‘èƒ½åŒ¹é…åˆ°æ‰€æœ‰çš„æ•°æ®</li><li>å¦‚æœ æˆ‘ where åé¢æ˜¯ <code>b = 1 and d =1</code> ä¸ºä»€ä¹ˆä¼šèµ°ç´¢å¼•å‘¢ï¼Ÿ ä½ ç­‰äºæŸ¥è¯¢çš„æ•°æ®æ˜¯ <code>1*1</code> æˆ‘å¯ä»¥é€šè¿‡å‰é¢ 1 è¿›è¡Œç´¢å¼•åŒ¹é… æ‰€ä»¥å°±å¯ä»¥èµ°ç´¢å¼•</li><li>æœ€å·¦ç¼€åŒ¹é…åŸåˆ™çš„æœ€é‡è¦çš„å°±æ˜¯ ç¬¬ä¸€ä¸ªå­—æ®µ</li></ul><p>æˆ‘ä»¬æ¥ç€çœ‹ä¸‹ä¸€ä¸ªå¤±æ•ˆåœºæ™¯</p><h2 id="select"><a href="#select" class="headerlink" title="select *"></a>select *</h2><h3 id="æ€è€ƒ-1"><a href="#æ€è€ƒ-1" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><p>é¦–å…ˆæå‡ºé—®é¢˜ <code>select *</code> ä¸€å®šä¼šç´¢å¼•å¤±æ•ˆå—ï¼Ÿ</p><h3 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h3><p>å¦‚æœä½ çš„å¿ƒé‡Œç­”æ¡ˆæ˜¯ ä¼šå¤±æ•ˆé‚£å°±æ¥ç€å¾€ä¸‹çœ‹</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f81456c6434c4beda1388db375956a17~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p>ç»†å¿ƒçš„åŒå­¦èƒ½å¤Ÿå‘ç° å³ä¾¿æˆ‘ä½¿ç”¨äº†select * ä¾ç„¶ä¼šèµ°ç´¢å¼• è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>é¦–å…ˆæˆ‘ä»¬åœ¨ä¸Šä¸€ä¸ªéªŒè¯ä¸­åˆ›å»ºäº†è”åˆç´¢å¼• æˆ‘ä»¬ä½¿ç”¨B&#x3D;1 ä¼šèµ°ç´¢å¼•</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c32c8aa321f3458b95a00ae04ec8c37b~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6d5e676c05644c1aaaf62a5f214354b3~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p>ä¹Ÿå°±æ˜¯ Select * åœ¨ä¸€äº›æƒ…å†µä¸‹æ˜¯ä¼šèµ°ç´¢å¼•çš„ é‚£ä¹ˆä»€ä¹ˆæ—¶å€™ä¸ä¼šèµ°ç´¢å¼•å‘¢</p><blockquote><p>ç»è¿‡æµ‹è¯• åœ¨æŸ¥è¯¢è¿”å›ç»“æœé›†å¤§çº¦æ€»æ•°æ®çš„25%å°±ä¸ä¼šèµ°ç´¢å¼•äº† è¿›è€Œå…¨è¡¨æ‰«æ è¿™é‡Œä¹Ÿæœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹ ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆèŒƒå›´æŸ¥æ‰¾ä¼šç´¢å¼•å¤±æ•ˆçš„åŸå› </p></blockquote><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/641cc7d7b0ad4d04aa9417f721ca7be1~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p>ä¸Šå›¾å°±æ˜¯ç´¢å¼•å¤±æ•ˆçš„æƒ…å†µ</p><p>èŒƒå›´æŸ¥æ‰¾ä¹Ÿä¸æ˜¯ä¸€å®šä¼šç´¢å¼•å¤±æ•ˆ ä¸‹é¢æƒ…å†µå°±ä¼šç´¢å¼•ç”Ÿæ•ˆå°±æ˜¯ çº§åˆ«ä½ ç”Ÿæ•ˆçš„åŸå› æ˜¯å› ä¸ºç¼©å°äº†èŒƒå›´</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/05fab88741414b70896dedc185d6a3ff~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><h3 id="å°æ€»ç»“-1"><a href="#å°æ€»ç»“-1" class="headerlink" title="å°æ€»ç»“"></a>å°æ€»ç»“</h3><ul><li>select * åªæœ‰åœ¨è¿”å›ç»“æœé›†æ•°é‡å¤§äºæ€»ç»“æœé›†çš„25% å°±ä¼šé€ æˆç´¢å¼•å¤±æ•ˆ å¦‚æœå°äº ä¸ä¼šé€ æˆç´¢å¼•å¤±æ•ˆä½†æ˜¯ä¼šé™ä½ç´¢å¼•çš„æ•ˆç‡</li><li>èŒƒå›´æŸ¥æ‰¾æœ‰æ¦‚ç‡ç´¢å¼•å¤±æ•ˆä½†æ˜¯ ä½†æ˜¯åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹ä¼šç”Ÿæ•ˆ èŒƒå›´å°å°±ä¼šä½¿ç”¨ ä¹Ÿå¯ä»¥ç†è§£ä¸º è¿”å›ç»“æœé›†å°å°±ä¼šä½¿ç”¨ç´¢å¼•</li></ul><h2 id="ä½¿ç”¨å‡½æ•°"><a href="#ä½¿ç”¨å‡½æ•°" class="headerlink" title="ä½¿ç”¨å‡½æ•°"></a>ä½¿ç”¨å‡½æ•°</h2><p>ä½¿ç”¨åœ¨Select åé¢ä½¿ç”¨å‡½æ•°å¯ä»¥ä½¿ç”¨ç´¢å¼• ä½†æ˜¯ä¸‹é¢è¿™ç§åšæ³•å°±ä¸èƒ½</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/48f8fee5fda042b4a21ba190a68dbca2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b22c7170e6bd4c9084e6f0dc01521412~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p>å› ä¸ºç´¢å¼•ä¿å­˜çš„æ˜¯ç´¢å¼•å­—æ®µçš„åŸå§‹å€¼ï¼Œè€Œä¸æ˜¯ç»è¿‡å‡½æ•°è®¡ç®—åçš„å€¼ï¼Œè‡ªç„¶å°±æ²¡åŠæ³•èµ°ç´¢å¼•äº†ã€‚</p><p>ä¸è¿‡ï¼Œä» MySQL 8.0 å¼€å§‹ï¼Œç´¢å¼•ç‰¹æ€§å¢åŠ äº†å‡½æ•°ç´¢å¼•ï¼Œå³å¯ä»¥é’ˆå¯¹å‡½æ•°è®¡ç®—åçš„å€¼å»ºç«‹ä¸€ä¸ªç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥ç´¢å¼•çš„å€¼æ˜¯å‡½æ•°è®¡ç®—åçš„å€¼ï¼Œæ‰€ä»¥å°±å¯ä»¥é€šè¿‡æ‰«æç´¢å¼•æ¥æŸ¥è¯¢æ•°æ®ã€‚</p><p>è¿™ç§å†™æ³•æˆ‘æ²¡ä½¿ç”¨è¿‡ æ„Ÿè§‰æƒ…å†µæ¯”è¾ƒå°‘ ä¹Ÿæ¯”è¾ƒå®¹æ˜“æ³¨æ„åˆ°è¿™ç§å†™æ³•</p><h2 id="è®¡ç®—æ“ä½œ"><a href="#è®¡ç®—æ“ä½œ" class="headerlink" title="è®¡ç®—æ“ä½œ"></a>è®¡ç®—æ“ä½œ</h2><p>è¿™ä¸ªæƒ…å†µå’Œä¸Šé¢ä¸€æ · ä¹‹æ‰€ä»¥ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆæ˜¯å› ä¸ºæ”¹å˜äº†ç´¢å¼•åŸæ¥çš„å€¼ åœ¨æ ‘ä¸­æ‰¾ä¸åˆ°å¯¹åº”çš„æ•°æ®åªèƒ½å…¨è¡¨æ‰«æ</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c4ce2c6583a4107aab778669bf1b775~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"> å› ä¸ºç´¢å¼•ä¿å­˜çš„æ˜¯ç´¢å¼•å­—æ®µçš„åŸå§‹å€¼ï¼Œè€Œä¸æ˜¯ b - 1 è¡¨è¾¾å¼è®¡ç®—åçš„å€¼ï¼Œæ‰€ä»¥æ— æ³•èµ°ç´¢å¼•ï¼Œåªèƒ½é€šè¿‡æŠŠç´¢å¼•å­—æ®µçš„å–å€¼éƒ½å–å‡ºæ¥ï¼Œç„¶åä¾æ¬¡è¿›è¡Œè¡¨è¾¾å¼çš„è®¡ç®—æ¥è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œå› æ­¤é‡‡ç”¨çš„å°±æ˜¯å…¨è¡¨æ‰«æçš„æ–¹å¼ã€‚</p><p>ä¸‹é¢è¿™ç§è®¡ç®—æ–¹å¼å°±ä¼šä½¿ç”¨ç´¢å¼•</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab31b17d52f44d4297c1a10248c97f33~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p>Javaæ¯”è¾ƒç†Ÿæ‚‰çš„å¯èƒ½ä¼šæœ‰ç‚¹ç–‘é—®ï¼Œè¿™ç§å¯¹ç´¢å¼•è¿›è¡Œç®€å•çš„è¡¨è¾¾å¼è®¡ç®—ï¼Œåœ¨ä»£ç ç‰¹æ®Šå¤„ç†ä¸‹ï¼Œåº”è¯¥æ˜¯å¯ä»¥åšåˆ°ç´¢å¼•æ‰«æçš„ï¼Œæ¯”æ–¹å°† b - 1 &#x3D; 6 å˜æˆ b &#x3D; 6 - 1ã€‚ æ˜¯çš„ï¼Œæ˜¯èƒ½å¤Ÿå®ç°ï¼Œä½†æ˜¯ MySQL è¿˜æ˜¯å·äº†è¿™ä¸ªæ‡’ï¼Œæ²¡æœ‰å®ç°ã€‚</p><h3 id="å°æ€»ç»“-2"><a href="#å°æ€»ç»“-2" class="headerlink" title="å°æ€»ç»“"></a>å°æ€»ç»“</h3><p>æ€»è€Œè¨€ä¹‹ è¨€è€Œæ€»ä¹‹ åªè¦æ˜¯å½±å“åˆ°ç´¢å¼•åˆ—çš„å€¼ ç´¢å¼•å°±æ˜¯å¤±æ•ˆ</p><h2 id="Like"><a href="#Like" class="headerlink" title="Like %"></a>Like %</h2><p>è¿™ä¸ªçœŸçš„æ˜¯éš¾å—å“¦ å› ä¸ºç»å¸¸ä½¿ç”¨è¿™ä¸ª æ‰€ä»¥è¿˜æ˜¯è¦å°å¿ƒç‚¹ åœ¨çœ‹ä¸ºä»€ä¹ˆå¤±æ•ˆä¹‹å‰ æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ Like % çš„è§£é‡Š</p><ol><li><strong>%ç™¾åˆ†å·é€šé…ç¬¦:</strong> è¡¨ç¤ºä»»ä½•å­—ç¬¦å‡ºç°ä»»æ„æ¬¡æ•°(å¯ä»¥æ˜¯0æ¬¡).</li><li><strong>_ä¸‹åˆ’çº¿é€šé…ç¬¦:</strong> è¡¨ç¤ºåªèƒ½åŒ¹é…å•ä¸ªå­—ç¬¦,ä¸èƒ½å¤šä¹Ÿä¸èƒ½å°‘,å°±æ˜¯ä¸€ä¸ªå­—ç¬¦.</li><li><strong>likeæ“ä½œç¬¦:</strong> LIKEä½œç”¨æ˜¯æŒ‡ç¤ºmysqlåé¢çš„æœç´¢æ¨¡å¼æ˜¯åˆ©ç”¨é€šé…ç¬¦è€Œä¸æ˜¯ç›´æ¥ç›¸ç­‰åŒ¹é…è¿›è¡Œæ¯”è¾ƒ.</li></ol><p><strong>æ³¨æ„:</strong> å¦‚æœåœ¨ä½¿ç”¨likeæ“ä½œç¬¦æ—¶,åé¢çš„æ²¡æœ‰ä½¿ç”¨é€šç”¨åŒ¹é…ç¬¦æ•ˆæœæ˜¯å’Œ&#x3D;ä¸€è‡´çš„,</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">SELECT * FROM products WHERE products.prod_name like &#39;1000&#39;;</code></pre></div></figure><p>2.åŒ¹é…åŒ…å«â€Liâ€çš„è®°å½•(åŒ…æ‹¬è®°å½•â€Liâ€) :</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">SELECT* FROM products WHERE products.prod_name like &#39;%Li%&#39;;</code></pre></div></figure><p>3.åŒ¹é…ä»¥â€Liâ€ç»“å°¾çš„è®°å½•(åŒ…æ‹¬è®°å½•â€Liâ€,ä¸åŒ…æ‹¬è®°å½•â€Li â€œ,ä¹Ÿå°±æ˜¯Liåé¢æœ‰ç©ºæ ¼çš„è®°å½•,è¿™é‡Œéœ€è¦æ³¨æ„)</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">SELECT * FROM products WHERE products.prod_name like &#39;%Li&#39;;</code></pre></div></figure><p>åœ¨å·¦ä¸èµ° åœ¨å³èµ°</p><p><code>å³ï¼š</code> è™½ç„¶èµ° ä½†æ˜¯ç´¢å¼•çº§åˆ«æ¯”è¾ƒä½ä¸»è¦æ˜¯æ¨¡ç³ŠæŸ¥è¯¢ èŒƒå›´æ¯”è¾ƒå¤§ æ‰€ä»¥ç´¢å¼•çº§åˆ«å°±æ¯”è¾ƒä½ <img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c0fd95c00a9f44ffbed872907e23bd76~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p><code>å·¦ï¼š</code> è¿™ä¸ªèŒƒå›´éå¸¸å¤§ æ‰€ä»¥æ²¡æœ‰ä½¿ç”¨ç´¢å¼•çš„å¿…è¦äº† è¿™ä¸ªå¯èƒ½ä¸æ˜¯å¾ˆå¥½ä¼˜åŒ– è¿˜å¥½ä¸æ˜¯ä¸€ç›´æ‹¼æ¥ä¸Šé¢çš„</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/183762e539b04420b6db1acc4a7cabbb~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><h3 id="å°æ€»ç»“-3"><a href="#å°æ€»ç»“-3" class="headerlink" title="å°æ€»ç»“"></a>å°æ€»ç»“</h3><p>ç´¢å¼•çš„æ—¶å€™å’ŒæŸ¥è¯¢èŒƒå›´å…³ç³»ä¹Ÿå¾ˆå¤§ èŒƒå›´è¿‡å¤§é€ æˆç´¢å¼•æ²¡æœ‰æ„ä¹‰ä»è€Œå¤±æ•ˆçš„æƒ…å†µä¹Ÿä¸å°‘</p><h2 id="ä½¿ç”¨Orå¯¼è‡´ç´¢å¼•å¤±æ•ˆ"><a href="#ä½¿ç”¨Orå¯¼è‡´ç´¢å¼•å¤±æ•ˆ" class="headerlink" title="ä½¿ç”¨Orå¯¼è‡´ç´¢å¼•å¤±æ•ˆ"></a>ä½¿ç”¨Orå¯¼è‡´ç´¢å¼•å¤±æ•ˆ</h2><p>è¿™ä¸ªåŸå› å°±æ›´ç®€å•äº†</p><p>åœ¨ WHERE å­å¥ä¸­ï¼Œå¦‚æœåœ¨ OR å‰çš„æ¡ä»¶åˆ—æ˜¯ç´¢å¼•åˆ—ï¼Œè€Œåœ¨ OR åçš„æ¡ä»¶åˆ—ä¸æ˜¯ç´¢å¼•åˆ—ï¼Œé‚£ä¹ˆç´¢å¼•ä¼šå¤±æ•ˆ ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ä¸‹é¢çš„æŸ¥è¯¢è¯­å¥ï¼Œb æ˜¯ä¸»é”®ï¼Œe æ˜¯æ™®é€šåˆ—ï¼Œä»æ‰§è¡Œè®¡åˆ’çš„ç»“æœçœ‹ï¼Œæ˜¯èµ°äº†å…¨è¡¨æ‰«æã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5fe15263f1414f058690cb11a02fdbbe~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><h3 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><p>è¿™ä¸ªçš„ä¼˜åŒ–æ–¹å¼å°±æ˜¯ åœ¨Orçš„æ—¶å€™ä¸¤è¾¹éƒ½åŠ ä¸Šç´¢å¼•</p><p>å°±ä¼šä½¿ç”¨ç´¢å¼• é¿å…å…¨è¡¨æ‰«æ <img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e2924e8c883046a793416a7e9f9307e4~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><h2 id="inä½¿ç”¨ä¸å½“"><a href="#inä½¿ç”¨ä¸å½“" class="headerlink" title="inä½¿ç”¨ä¸å½“"></a>inä½¿ç”¨ä¸å½“</h2><p>é¦–å…ˆä½¿ç”¨In ä¸æ˜¯ä¸€å®šä¼šé€ æˆå…¨è¡¨æ‰«æçš„ <strong>INè‚¯å®šä¼šèµ°ç´¢å¼•ï¼Œä½†æ˜¯å½“INçš„å–å€¼èŒƒå›´è¾ƒå¤§æ—¶ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œèµ°å…¨è¡¨æ‰«æ</strong></p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8c6239288d63424f97463355bd4c459c~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a515623c61a403b86af444c7db46fa9~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><p>in åœ¨ç»“æœé›† å¤§äº30%çš„æ—¶å€™ç´¢å¼•å¤±æ•ˆ</p><h2 id="not-in-å’Œ-Inçš„å¤±æ•ˆåœºæ™¯ç›¸åŒ"><a href="#not-in-å’Œ-Inçš„å¤±æ•ˆåœºæ™¯ç›¸åŒ" class="headerlink" title="not in å’Œ Inçš„å¤±æ•ˆåœºæ™¯ç›¸åŒ"></a>not in å’Œ Inçš„å¤±æ•ˆåœºæ™¯ç›¸åŒ</h2><h2 id="order-By"><a href="#order-By" class="headerlink" title="order By"></a>order By</h2><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/664a7329241840e888d5569d4b0e3475~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"> è¿™ä¸€ä¸ªä¸»è¦æ˜¯Mysql è‡ªèº«ä¼˜åŒ–çš„é—®é¢˜ æˆ‘ä»¬éƒ½çŸ¥é“OrderBy æ˜¯æ’åº é‚£å°±ä»£è¡¨æˆ‘éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ’åº å¦‚æœæˆ‘èµ°ç´¢å¼• ç´¢å¼•æ˜¯æ’å¥½åºçš„ ä½†æ˜¯æˆ‘éœ€è¦å›è¡¨ æ¶ˆè€—æ—¶é—´ å¦ä¸€ç§ æˆ‘ç›´æ¥å…¨è¡¨æ‰«ææ’åº ä¸ç”¨å›è¡¨ ä¹Ÿå°±æ˜¯</p><ul><li>èµ°ç´¢å¼• + å›è¡¨</li><li>ä¸èµ°ç´¢å¼• ç›´æ¥å…¨è¡¨æ‰«æ</li></ul><p>Mysql è®¤ä¸ºç›´æ¥å…¨è¡¨æ‰«é¢çš„é€Ÿåº¦æ¯” å›è¡¨çš„é€Ÿåº¦å¿«æ‰€ä»¥å°±ç›´æ¥èµ°ç´¢å¼•äº† åœ¨Order By çš„æƒ…å†µä¸‹ èµ°å…¨è¡¨æ‰«æåè€Œæ˜¯æ›´å¥½çš„é€‰æ‹©</p><h2 id="å­æŸ¥è¯¢ä¼šèµ°ç´¢å¼•å—"><a href="#å­æŸ¥è¯¢ä¼šèµ°ç´¢å¼•å—" class="headerlink" title="å­æŸ¥è¯¢ä¼šèµ°ç´¢å¼•å—"></a>å­æŸ¥è¯¢ä¼šèµ°ç´¢å¼•å—</h2><p>ç­”æ¡ˆæ˜¯ä¼š ä½†æ˜¯ä½¿ç”¨ä¸å¥½å°±ä¸ä¼š</p><h2 id="å¤§æ€»ç»“"><a href="#å¤§æ€»ç»“" class="headerlink" title="å¤§æ€»ç»“"></a>å¤§æ€»ç»“</h2><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8f7104ac9d684ce3b4fe43e97b6afaf2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="å›¾ç‰‡.png"></p><ul><li>å¦‚æœä½ æ˜¯ç›´æ¥è·³åˆ°è¿™é‡Œ çœ‹çœ‹æ–‡ç« æœ‰å¤šé•¿ <code>å»ºè®®æ”¶è—</code></li><li>å¦‚æœä½ ä¸€æ­¥æ­¥çœ‹åˆ°è¿™é‡Œ æ„Ÿè§‰æœ‰ç‚¹å¸®åŠ© <code>èµèµæ¥ä¸€ä¸ª</code></li><li>å¦‚æœæ„Ÿè§‰æ–‡ç« æœ‰é—®é¢˜ å»ºè®®è¯„è®ºåŒºæŒ‡å‡º <code>ä¼šä¿®æ­£</code></li></ul><p>å‘¨äº”æ„‰å¿« æ–‡ç« å®Œç»“ğŸ¥°</p><p>æŒç»­æ›´æ–°SQLç›¸å…³ç³»åˆ— å¯è¿½æ›´ ä¸å¯å‚¬æ›´</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bed95998e47144b4a49e8a42246ece50~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="0bd2663ecc3e21c3a51f382cec4bb8b6.gif"></p><p><em><strong>æœ¬æ–‡æ­£åœ¨å‚åŠ <a href="https://juejin.cn/post/7160601544600567845" title="https://juejin.cn/post/7160601544600567845">ã€ŒæŠ€æœ¯ä¸“é¢˜19æœŸ æ¼«è°ˆæ•°æ®åº“æŠ€æœ¯ã€</a>æ´»åŠ¨</strong></em></p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åˆ†æ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è½¬è½½</tag>
      
      <tag>SQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäº Hexo ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢</title>
    <link href="/2022/11/11/%E5%9F%BA%E4%BA%8E%20Hexo%20%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <url>/2022/11/11/%E5%9F%BA%E4%BA%8E%20Hexo%20%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    
    <content type="html"><![CDATA[<hr><blockquote><p>é˜…è¯»æœ¬ç¯‡å‰ï¼Œè¯·å…ˆé˜…è¯»å‰å‡ ç¯‡æ–‡ç« ï¼š<br><a href="https://tzy1997.com/articles/hexo1601/">åŸºäº Hexo ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢ï¼ˆä¸€ï¼‰</a><br><a href="https://tzy1997.com/articles/hexo1602/">åŸºäº Hexo ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢ï¼ˆäºŒï¼‰</a><br><a href="https://tzy1997.com/articles/hexo1603/">åŸºäº Hexo ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢ï¼ˆä¸‰ï¼‰</a></p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a><a href="https://tzy1997.com/articles/hexo1604/#%E5%89%8D%E8%A8%80" title="å‰è¨€"></a>å‰è¨€</h2><ol><li>åšå®¢æ­å»ºè¿‡ç¨‹é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œä¼˜å…ˆåœ¨æœ¬é¡µé¢æœç´¢ï¼Œæ£€æŸ¥æ˜¯å¦å·²ç»æœ‰è¯¥é…ç½®æ•™ç¨‹ã€‚</li><li>é‡åˆ°é—®é¢˜å¯ä»¥ä¼˜å…ˆåœ¨æ–‡ç« è¯„è®ºåŒºç•™è¨€ï¼Œæ³¨æ„ç•™è¨€æ—¶è¯·å¡«å†™æ­£ç¡®çš„é‚®ç®±ä»¥ç¡®ä¿èƒ½æ”¶åˆ°ç«™é•¿çš„å›å¤ã€‚</li><li>å®åœ¨è§£å†³ä¸äº†çš„é—®é¢˜å¯æ·»åŠ åšä¸» Wechat ï¼Œæ·»åŠ å¥½å‹æ—¶è¯·å¤‡æ³¨è‡ªå·±çš„å§“å+ä¸“ä¸šï¼Œå¦‚ å¼ ä¸‰ è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ã€‚</li></ol><h2 id="Front-matter"><a href="#Front-matter" class="headerlink" title="Front-matter"></a><a href="https://tzy1997.com/articles/hexo1604/#Front-matter" title="Front-matter"></a>Front-matter</h2><p><strong>Front-matter</strong> æ˜¯ <strong>markdown</strong> æ–‡ä»¶æœ€ä¸Šæ–¹ä»¥<code>---</code>åˆ†éš”çš„åŒºåŸŸï¼Œç”¨äºæŒ‡å®šä¸ªåˆ«æ¡£æ¡ˆçš„å˜æ•°ã€‚</p><ul><li>Page Front-matter ç”¨äºé¡µé¢é…ç½®</li><li>Post Front-matter ç”¨äºæ–‡ç« é¡µé…ç½®</li></ul><p>å¦‚æœæ ‡æ³¨å¯é€‰çš„å‚æ•°ï¼Œå¯æ ¹æ®è‡ªå·±éœ€è¦æ·»åŠ ï¼Œä¸ç”¨å…¨éƒ¨éƒ½å†™åœ¨markdowné‡Œ</p><h3 id="Page-Front-matter"><a href="#Page-Front-matter" class="headerlink" title="Page Front-matter"></a><a href="https://tzy1997.com/articles/hexo1604/#Page-Front-matter" title="Page Front-matter"></a>Page Front-matter</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">---title:date:updated:type:comments:description:keywords:top_img:mathjax:katex:aside:aplayer:highlight_shrink:---</code></pre></div></figure><table><thead><tr><th>å†™æ³•</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>title</td><td>ã€å¿…éœ€ã€‘é¡µé¢æ ‡é¢˜</td></tr><tr><td>date</td><td>ã€å¿…éœ€ã€‘é¡µé¢åˆ›å»ºæ—¥æœŸ</td></tr><tr><td>type</td><td>ã€å¿…éœ€ã€‘æ ‡ç±¤ã€åˆ†ç±»å’Œå‹æƒ…é“¾æ¥ä¸‰ä¸ªé¡µé¢éœ€è¦é…ç½®</td></tr><tr><td>updated</td><td>ã€å¯é€‰ã€‘é¡µé¢æ›´æ–°æ—¥æœŸ</td></tr><tr><td>description</td><td>ã€å¯é€‰ã€‘é¡µé¢æè¿°</td></tr><tr><td>keywords</td><td>ã€å¯é€‰ã€‘é¡µé¢å…³é”®å­—</td></tr><tr><td>comments</td><td>ã€å¯é€‰ã€‘æ˜¾ç¤ºé¡µé¢è¯„è®ºæ¨¡å—(é»˜è®¤ true)</td></tr><tr><td>top_img</td><td>ã€å¯é€‰ã€‘é¡µé¢é¡¶éƒ¨å›¾ç‰‡</td></tr><tr><td>mathjax</td><td>ã€å¯é€‰ã€‘æ˜¾ç¤ºmathjax(å½“è®¾ç½®mathjaxçš„per_page: falseæ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false)</td></tr><tr><td>katex</td><td>ã€å¯é€‰ã€‘æ˜¾ç¤ºkatex(å½“è®¾ç½®katexçš„per_page: falseæ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false)</td></tr><tr><td>aside</td><td>ã€å¯é€‰ã€‘æ˜¾ç¤ºä¾§è¾¹æ  (é»˜è®¤ true)</td></tr><tr><td>aplayer</td><td>ã€å¯é€‰ã€‘åœ¨éœ€è¦çš„é¡µé¢åŠ è½½aplayerçš„jså’Œcss,è¯·å‚è€ƒæ–‡ç« ä¸‹é¢çš„éŸ³ä¹ é…ç½®</td></tr><tr><td>highlight_shrink</td><td>ã€å¯é€‰ã€‘é…ç½®ä»£ç æ¡†æ˜¯å¦å±•å¼€(true&#x2F;false)(é»˜è®¤ä¸ºè®¾ç½®ä¸­highlight_shrinkçš„é…ç½®)</td></tr></tbody></table><h3 id="Post-Front-matter"><a href="#Post-Front-matter" class="headerlink" title="Post Front-matter"></a><a href="https://tzy1997.com/articles/hexo1604/#Post-Front-matter" title="Post Front-matter"></a>Post Front-matter</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">---title:date:updated:tags:categories:keywords:description:top_img:comments:cover:toc:toc_number:toc_style_simple:copyright:copyright_author:copyright_author_href:copyright_url:copyright_info:mathjax:katex:aplayer:highlight_shrink:aside:---</code></pre></div></figure><table><thead><tr><th>å†™æ³•</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>title</td><td>ã€å¿…éœ€ã€‘æ–‡ç« æ ‡é¢˜</td></tr><tr><td>date</td><td>ã€å¿…éœ€ã€‘æ–‡ç« åˆ›å»ºæ—¥æœŸ</td></tr><tr><td>updated</td><td>ã€å¯é€‰ã€‘æ–‡ç« æ›´æ–°æ—¥æœŸ</td></tr><tr><td>tags</td><td>ã€å¯é€‰ã€‘æ–‡ç« æ ‡ç±¤</td></tr><tr><td>categories</td><td>ã€å¯é€‰ã€‘æ–‡ç« åˆ†ç±»</td></tr><tr><td>keywords</td><td>ã€å¯é€‰ã€‘æ–‡ç« å…³é”®å­—</td></tr><tr><td>description</td><td>ã€å¯é€‰ã€‘æ–‡ç« æè¿°</td></tr><tr><td>top_img</td><td>ã€å¯é€‰ã€‘æ–‡ç« é¡¶éƒ¨å›¾ç‰‡</td></tr><tr><td>cover</td><td>ã€å¯é€‰ã€‘æ–‡ç« ç¼©ç•¥å›¾(å¦‚æœæ²¡æœ‰è®¾ç½®top_img,æ–‡ç« é¡µé¡¶éƒ¨å°†æ˜¾ç¤ºç¼©ç•¥å›¾ï¼Œå¯è®¾ä¸ºfalse&#x2F;å›¾ç‰‡åœ°å€&#x2F;ç•™ç©º)</td></tr><tr><td>comments</td><td>ã€å¯é€‰ã€‘æ˜¾ç¤ºæ–‡ç« è¯„è®ºæ¨¡å—(é»˜è®¤ true)</td></tr><tr><td>toc</td><td>ã€å¯é€‰ã€‘æ˜¾ç¤ºæ–‡ç« TOC(é»˜è®¤ä¸ºè®¾ç½®ä¸­tocçš„enableé…ç½®)</td></tr><tr><td>toc_number</td><td>ã€å¯é€‰ã€‘æ˜¾ç¤ºtoc_number(é»˜è®¤ä¸ºè®¾ç½®ä¸­tocçš„numberé…ç½®)</td></tr><tr><td>toc_style_simple</td><td>ã€å¯é€‰ã€‘æ˜¾ç¤º toc ç®€æ´æ¨¡å¼</td></tr><tr><td>copyright</td><td>ã€å¯é€‰ã€‘æ˜¾ç¤ºæ–‡ç« ç‰ˆæƒæ¨¡å—(é»˜è®¤ä¸ºè®¾ç½®ä¸­post_copyrightçš„enableé…ç½®)</td></tr><tr><td>copyright_author</td><td>ã€å¯é€‰ã€‘æ–‡ç« ç‰ˆæƒæ¨¡å—çš„æ–‡ç« ä½œè€…</td></tr><tr><td>copyright_author_href</td><td>ã€å¯é€‰ã€‘æ–‡ç« ç‰ˆæƒæ¨¡å—çš„æ–‡ç« ä½œè€…é“¾æ¥</td></tr><tr><td>copyright_url</td><td>ã€å¯é€‰ã€‘æ–‡ç« ç‰ˆæƒæ¨¡å—çš„æ–‡ç« è¿ç»“é“¾æ¥</td></tr><tr><td>copyright_info</td><td>ã€å¯é€‰ã€‘æ–‡ç« ç‰ˆæƒæ¨¡å—çš„ç‰ˆæƒå£°æ˜æ–‡å­—</td></tr><tr><td>mathjax</td><td>ã€å¯é€‰ã€‘æ˜¾ç¤ºmathjax(å½“è®¾ç½®mathjaxçš„per_page: falseæ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false)</td></tr><tr><td>katex</td><td>ã€å¯é€‰ã€‘æ˜¾ç¤ºkatex(å½“è®¾ç½®katexçš„per_page: falseæ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false)</td></tr><tr><td>aplayer</td><td>ã€å¯é€‰ã€‘åœ¨éœ€è¦çš„é¡µé¢åŠ è½½aplayerçš„jså’Œcss,è¯·å‚è€ƒæ–‡ç« ä¸‹é¢çš„éŸ³ä¹ é…ç½®</td></tr><tr><td>highlight_shrink</td><td>ã€å¯é€‰ã€‘é…ç½®ä»£ç æ¡†æ˜¯å¦å±•å¼€(true&#x2F;false)(é»˜è®¤ä¸ºè®¾ç½®ä¸­highlight_shrinkçš„é…ç½®)</td></tr><tr><td>aside</td><td>ã€å¯é€‰ã€‘æ˜¾ç¤ºä¾§è¾¹æ  (é»˜è®¤ true)</td></tr></tbody></table><blockquote><p>æ³¨æ„ï¼šæˆ‘çš„åšå®¢æ ¹ç›®å½•è·¯å¾„ä¸º ã€G:&#x2F;hexo-blog&#x2F;blog-demoã€‘ï¼Œä¸‹æ–‡æ‰€è¯´çš„æ ¹ç›®å½•éƒ½æ˜¯æ­¤è·¯å¾„ï¼Œå°†ç”¨<code>[BlogRoot]</code>ä»£æ›¿ã€‚å¦‚æœä¸æ¸…æ¥šæ ¹ç›®å½•è·¯å¾„ï¼Œè¯·å›åˆ°æ•™ç¨‹ <a href="https://tzy1997.com/articles/hexo1602/">åŸºäº Hexo ä»é›¶å¼€å§‹æ­å»ºä¸ªäººåšå®¢ï¼ˆäºŒï¼‰</a>ï¼ŒæŸ¥çœ‹ä½ æ‰§è¡Œ<code>hexo init xxx</code>è¿™æ¡å‘½ä»¤æ—¶æ‰€é€‰æ‹©çš„è·¯å¾„ï¼Œä¾‹å¦‚æˆ‘é€‰æ‹©çš„è·¯å¾„æ˜¯ã€G:&#x2F;hexo-blogã€‘ï¼Œæˆ‘çš„åšå®¢æ ¹ç›®å½•å³ä¸ºã€G:&#x2F;hexo-blog&#x2F;xxxã€‘ã€‚</p></blockquote><h2 id="æ ‡ç­¾é¡µ"><a href="#æ ‡ç­¾é¡µ" class="headerlink" title="æ ‡ç­¾é¡µ"></a><a href="https://tzy1997.com/articles/hexo1604/#%E6%A0%87%E7%AD%BE%E9%A1%B5" title="æ ‡ç­¾é¡µ"></a>æ ‡ç­¾é¡µ</h2><ol><li><p>å‰å¾€ä½ çš„Hexoåšå®¢æ ¹ç›®å½•ï¼Œæ‰“å¼€cmdå‘½ä»¤çª—å£æ‰§è¡Œ<code>hexo new page tags</code>ã€‚</p></li><li><p>åœ¨ã€BlogRoot&#x2F;source&#x2F;ã€‘ä¼šç”Ÿæˆä¸€ä¸ªå«æœ‰<code>index.md</code>æ–‡ä»¶çš„<code>tags</code>æ–‡ä»¶å¤¹ã€‚</p><p><a href="https://bu.dusays.com/2022/05/29/62937c8344bbb.jpg"><img src="https://bu.dusays.com/2022/01/14/1ff50a00bd75c.gif"></a></p></li><li><p>ä¿®æ”¹ã€BlogRoot&#x2F;source&#x2F;tags&#x2F;index.mdã€‘ï¼Œæ·»åŠ <code>type: &quot;tags&quot;</code>ã€‚</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">---title: tagsdate: 2022-05-29 21:42:56type: &quot;tags&quot;---</code></pre></div></figure></li></ol><h2 id="åˆ†ç±»é¡µ"><a href="#åˆ†ç±»é¡µ" class="headerlink" title="åˆ†ç±»é¡µ"></a><a href="https://tzy1997.com/articles/hexo1604/#%E5%88%86%E7%B1%BB%E9%A1%B5" title="åˆ†ç±»é¡µ"></a>åˆ†ç±»é¡µ</h2><ol><li><p>å‰å¾€ä½ çš„Hexoåšå®¢æ ¹ç›®å½•ï¼Œæ‰“å¼€cmdå‘½ä»¤çª—å£æ‰§è¡Œ<code>hexo new page categories</code>ã€‚</p></li><li><p>åœ¨ã€BlogRoot&#x2F;source&#x2F;ã€‘ä¼šç”Ÿæˆä¸€ä¸ªå«æœ‰<code>index.md</code>æ–‡ä»¶çš„<code>categories</code>æ–‡ä»¶å¤¹ã€‚</p><p><a href="https://bu.dusays.com/2022/05/29/62937c8627deb.jpg"><img src="https://bu.dusays.com/2022/01/14/1ff50a00bd75c.gif"></a></p></li><li><p>ä¿®æ”¹ã€BlogRoot&#x2F;source&#x2F;categories&#x2F;index.mdã€‘ï¼Œæ·»åŠ <code>type: &quot;categories&quot;</code>ã€‚</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">---title: categoriesdate: 2022-05-29 21:57:07type: &quot;categories&quot;---</code></pre></div></figure></li></ol><h2 id="å‹æƒ…é“¾æ¥"><a href="#å‹æƒ…é“¾æ¥" class="headerlink" title="å‹æƒ…é“¾æ¥"></a><a href="https://tzy1997.com/articles/hexo1604/#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5" title="å‹æƒ…é“¾æ¥"></a>å‹æƒ…é“¾æ¥</h2><h3 id="åˆ›å»ºå‹æƒ…é“¾æ¥é¡µé¢"><a href="#åˆ›å»ºå‹æƒ…é“¾æ¥é¡µé¢" class="headerlink" title="åˆ›å»ºå‹æƒ…é“¾æ¥é¡µé¢"></a><a href="https://tzy1997.com/articles/hexo1604/#%E5%88%9B%E5%BB%BA%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5%E9%A1%B5%E9%9D%A2" title="åˆ›å»ºå‹æƒ…é“¾æ¥é¡µé¢"></a>åˆ›å»ºå‹æƒ…é“¾æ¥é¡µé¢</h3><ol><li><p>å‰å¾€ä½ çš„Hexoåšå®¢æ ¹ç›®å½•ï¼Œæ‰“å¼€cmdå‘½ä»¤çª—å£æ‰§è¡Œ<code>hexo new page link</code>ã€‚</p></li><li><p>åœ¨ã€BlogRoot&#x2F;source&#x2F;ã€‘ä¼šç”Ÿæˆä¸€ä¸ªå«æœ‰<code>index.md</code>æ–‡ä»¶çš„<code>link</code>æ–‡ä»¶å¤¹ã€‚</p><p><a href="https://bu.dusays.com/2022/05/29/629385dc3918c.jpg"><img src="https://bu.dusays.com/2022/01/14/1ff50a00bd75c.gif"></a></p></li><li><p>ä¿®æ”¹ã€BlogRoot&#x2F;source&#x2F;link&#x2F;index.mdã€‘ï¼Œæ·»åŠ <code>type: &quot;link&quot;</code>ã€‚</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">---title: linkdate: 2022-05-29 22:03:35type: &quot;link&quot;---</code></pre></div></figure></li></ol><h3 id="å‹æƒ…é“¾æ¥é¡µé¢æ·»åŠ å‹é“¾ä¿¡æ¯"><a href="#å‹æƒ…é“¾æ¥é¡µé¢æ·»åŠ å‹é“¾ä¿¡æ¯" class="headerlink" title="å‹æƒ…é“¾æ¥é¡µé¢æ·»åŠ å‹é“¾ä¿¡æ¯"></a><a href="https://tzy1997.com/articles/hexo1604/#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5%E9%A1%B5%E9%9D%A2%E6%B7%BB%E5%8A%A0%E5%8F%8B%E9%93%BE%E4%BF%A1%E6%81%AF" title="å‹æƒ…é“¾æ¥é¡µé¢æ·»åŠ å‹é“¾ä¿¡æ¯"></a>å‹æƒ…é“¾æ¥é¡µé¢æ·»åŠ å‹é“¾ä¿¡æ¯</h3><p>å‰å¾€Hexoåšå®¢ç›®å½•ï¼ˆã€BlogRoot&#x2F;source&#x2F;_dataã€‘ï¼‰åˆ›å»ºä¸€ä¸ªæ–‡ä»¶<code>link.yml</code>ï¼ˆå¦‚æœæ²’æœ‰ _data æ–‡ä»¶å¤¹ï¼Œè¯·è‡ªè¡Œåˆ›å»ºï¼‰ã€‚</p><p><a href="https://bu.dusays.com/2022/05/29/629385e182b48.jpg"><img src="https://bu.dusays.com/2022/01/14/1ff50a00bd75c.gif"></a></p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">- class_name: å‹æƒ…é“¾æ¥  class_desc: é‚£äº›äººï¼Œé‚£äº›äº‹  link_list:    - name: å”å¿—è¿œã®åšå®¢      link: https:&#x2F;&#x2F;tzy1997.com&#x2F;      avatar: https:&#x2F;&#x2F;bu.dusays.com&#x2F;2022&#x2F;01&#x2F;14&#x2F;cd5ffd485f867.jpg      descr: å¤ä»Šä¹‹æˆå¤§äº‹è€…ï¼Œä¸æƒŸæœ‰è¶…ä¸–ä¹‹æ‰ï¼Œäº¦å¿…æœ‰åšå¿ä¸æ‹”ä¹‹å¿—ã€‚- class_name: ç½‘ç«™  class_desc: å€¼å¾—æ¨èçš„ç½‘ç«™  link_list:    - name: Twitter      link: https:&#x2F;&#x2F;twitter.com&#x2F;      avatar: https:&#x2F;&#x2F;i.loli.net&#x2F;2020&#x2F;05&#x2F;14&#x2F;5VyHPQqR6LWF39a.png      descr: ç¤¾äº¤åˆ†äº«å¹³å°</code></pre></div></figure><p><code>class_name</code>å’Œ<code>class_desc</code>æ”¯æŒ html æ ¼å¼ï¼Œå¦‚ä¸éœ€è¦ï¼Œä¹Ÿå¯ä»¥ç•™ç©ºã€‚</p><p>å¦‚æœä½ æƒ³è®¾ç½®æˆæœ¬ç«™å‹é“¾é¡µçš„æ•ˆæœï¼Œè¯·å‚è€ƒæ•™ç¨‹ï¼š<a href="https://tzy1997.com/articles/0xiipgum/">åŸºäºButterflyçš„å¤–æŒ‚æ ‡ç­¾å¼•å…¥</a> ã€‚</p><h2 id="å›¾åº“"><a href="#å›¾åº“" class="headerlink" title="å›¾åº“"></a><a href="https://tzy1997.com/articles/hexo1604/#%E5%9B%BE%E5%BA%93" title="å›¾åº“"></a>å›¾åº“</h2><p>å›¾åº“é¡µé¢åªæ˜¯æ™®é€šçš„é¡µé¢ï¼Œä½ åªéœ€è¦<code>hexo new page xxxxx</code>åˆ›å»ºä½ çš„é¡µé¢å°±è¡Œã€‚</p><p>ç„¶åä½¿ç”¨æ ‡ç­¾å¤–æŒ‚ <a href="https://butterfly.js.org/posts/4aa8abbe/#Gallery%E7%9B%B8%E5%86%8A%E5%9C%96%E5%BA%AB">galleryGroup</a>ï¼Œå…·ä½“ç”¨æ³•è¯·æŸ¥çœ‹å¯¹åº”çš„å†…å®¹ã€‚</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">&lt;div class&#x3D;&quot;gallery-group-main&quot;&gt;&#123;% galleryGroup &#39;å£çº¸&#39; &#39;æ”¶è—çš„ä¸€äº›å£çº¸&#39; &#39;&#x2F;Gallery&#x2F;wallpaper&#39; https:&#x2F;&#x2F;bu.dusays.com&#x2F;2021&#x2F;03&#x2F;06&#x2F;38a2c5cd8b44e.jpg %&#125;&#123;% galleryGroup &#39;æ¼«å¨&#39; &#39;å…³äºæ¼«å¨çš„å›¾ç‰‡&#39; &#39;&#x2F;Gallery&#x2F;marvel&#39; https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;12&#x2F;25&#x2F;8t97aVlp4hgyBGu.jpg %&#125;&#123;% galleryGroup &#39;OH MY GIRL&#39; &#39;å…³äºOH MY GIRLçš„å›¾ç‰‡&#39; &#39;&#x2F;Gallery&#x2F;ohmygirl&#39; https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;12&#x2F;25&#x2F;hOqbQ3BIwa6KWpo.jpg %&#125;&lt;&#x2F;div&gt;</code></pre></div></figure><p><img src="https://bu.dusays.com/2022/01/14/1ff50a00bd75c.gif" alt="Group Image Gallery"></p><p>å£çº¸</p><p>æ”¶è—çš„ä¸€äº›å£çº¸</p><p><a href="https://tzy1997.com/Gallery/wallpaper"></a></p><p><img src="https://bu.dusays.com/2022/01/14/1ff50a00bd75c.gif" alt="Group Image Gallery"></p><p>æ¼«å¨</p><p>å…³äºæ¼«å¨çš„å›¾ç‰‡</p><p><a href="https://tzy1997.com/Gallery/marvel"></a></p><p><img src="https://bu.dusays.com/2022/01/14/1ff50a00bd75c.gif" alt="Group Image Gallery"></p><p>OH MY GIRL</p><p>å…³äºOH MY GIRLçš„å›¾ç‰‡</p><p><a href="https://tzy1997.com/Gallery/ohmygirl"></a></p><h3 id="å­é¡µé¢"><a href="#å­é¡µé¢" class="headerlink" title="å­é¡µé¢"></a><a href="https://tzy1997.com/articles/hexo1604/#%E5%AD%90%E9%A1%B5%E9%9D%A2" title="å­é¡µé¢"></a>å­é¡µé¢</h3><p>å­é¡µé¢ä¹Ÿæ˜¯æ™®é€šçš„é¡µé¢ï¼Œä½ åªéœ€è¦<code>hexo new page xxxxx</code>åˆ›å»ºä½ çš„é¡µé¢å°±è¡Œã€‚</p><p>ç„¶åä½¿ç”¨æ ‡ç­¾å¤–æŒ‚ <a href="https://butterfly.js.org/posts/4aa8abbe/#Gallery%E7%9B%B8%E5%86%8A">gallery</a>ï¼Œå…·ä½“ç”¨æ³•è¯·æŸ¥çœ‹å¯¹åº”çš„å†…å®¹ã€‚</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">&#123;% gallery %&#125;![](https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;12&#x2F;25&#x2F;Fze9jchtnyJXMHN.jpg)![](https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;12&#x2F;25&#x2F;ryLVePaqkYm4TEK.jpg)![](https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;12&#x2F;25&#x2F;gEy5Zc1Ai6VuO4N.jpg)![](https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;12&#x2F;25&#x2F;d6QHbytlSYO4FBG.jpg)![](https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;12&#x2F;25&#x2F;6nepIJ1xTgufatZ.jpg)![](https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;12&#x2F;25&#x2F;E7Jvr4eIPwUNmzq.jpg)![](https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;12&#x2F;25&#x2F;mh19anwBSWIkGlH.jpg)![](https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;12&#x2F;25&#x2F;2tu9JC8ewpBFagv.jpg)&#123;% endgallery %&#125;</code></pre></div></figure><p>å¦‚æœä½ æƒ³è¦ä½¿ç”¨ <code>/photo/ohmygirl</code> è¿™æ ·çš„é“¾æ¥æ˜¾ç¤ºä½ çš„å›¾ç‰‡å†…å®¹</p><p>ä½ å¯ä»¥æŠŠåˆ›å»ºå¥½çš„ <code>ohmygirl</code>æ•´ä¸ªæ–‡ä»¶å¤¹ç§»åˆ° <code>photo</code>æ–‡ä»¶å¤¹é‡Œå»</p><h2 id="404é¡µé¢"><a href="#404é¡µé¢" class="headerlink" title="404é¡µé¢"></a><a href="https://tzy1997.com/articles/hexo1604/#404%E9%A1%B5%E9%9D%A2" title="404é¡µé¢"></a>404é¡µé¢</h2><p>ä¸»é¡Œå…§ç½®äº†ä¸€ä¸ªç®€å•çš„404é¡µé¢ï¼Œå¯åœ¨è®¾ç½®ä¸­å¼€æ”¾ã€‚</p><blockquote><p>å¦‚éœ€æœ¬åœ°é¢„è§ˆï¼Œè¯·è®¿é—® <a href="http://localhost:4000/404.html">http://localhost:4000/404.html</a></p></blockquote><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">error_404:  enable: true  subtitle: &quot;é¡µé¢æ²’æœ‰æ‰¾åˆ°&quot;  background: </code></pre></div></figure><p>ç‰ˆæƒå£°æ˜: æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://tzy1997.com/">å”å¿—è¿œã®åšå®¢</a>ï¼</p><p>æ‰“èµ</p><ul><li><p><a href="https://bu.dusays.com/2022/05/17/6283c3f127558.jpg"><img src="https://bu.dusays.com/2022/05/17/6283c3f127558.jpg" alt="wechat"></a></p><p>wechat</p></li><li><p><a href="https://bu.dusays.com/2022/05/17/6283c3ee6d872.jpg"><img src="https://bu.dusays.com/2022/05/17/6283c3ee6d872.jpg" alt="alipay"></a></p><p>alipay</p></li></ul><hr>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è½¬è½½</tag>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python ç³»ç»Ÿæ¨¡å—å¸¸ç”¨æ–¹æ³•</title>
    <link href="/2022/11/11/python%E4%B8%ADsys%EF%BC%8Cos%EF%BC%8Ctime%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2022/11/11/python%E4%B8%ADsys%EF%BC%8Cos%EF%BC%8Ctime%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="sysæ¨¡å—"><a href="#sysæ¨¡å—" class="headerlink" title="sysæ¨¡å—"></a>sysæ¨¡å—</h2><h3 id="sys-argv-å®ç°ä»ç¨‹åºå¤–éƒ¨å‘ç¨‹åºä¼ é€’å‚æ•°ã€‚"><a href="#sys-argv-å®ç°ä»ç¨‹åºå¤–éƒ¨å‘ç¨‹åºä¼ é€’å‚æ•°ã€‚" class="headerlink" title="sys.argv: å®ç°ä»ç¨‹åºå¤–éƒ¨å‘ç¨‹åºä¼ é€’å‚æ•°ã€‚"></a>sys.argv: å®ç°ä»ç¨‹åºå¤–éƒ¨å‘ç¨‹åºä¼ é€’å‚æ•°ã€‚</h3><p>ä½ç½®å‚æ•°argv[0]ä»£è¡¨pyæ–‡ä»¶æœ¬èº«ï¼Œè¿è¡Œæ–¹æ³• python xx.py å‚æ•°1ï¼Œå‚æ•°2 ã€‚ã€‚</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">self <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>name <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>age <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token keyword">print</span> self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age</code></pre></div></figure><h3 id="sys-getdefaultencoding-è·å–ç³»ç»Ÿå½“å‰ç¼–ç ï¼Œä¸€èˆ¬é»˜è®¤ä¸ºasciiã€‚"><a href="#sys-getdefaultencoding-è·å–ç³»ç»Ÿå½“å‰ç¼–ç ï¼Œä¸€èˆ¬é»˜è®¤ä¸ºasciiã€‚" class="headerlink" title="sys.getdefaultencoding(): è·å–ç³»ç»Ÿå½“å‰ç¼–ç ï¼Œä¸€èˆ¬é»˜è®¤ä¸ºasciiã€‚"></a>sys.getdefaultencoding(): è·å–ç³»ç»Ÿå½“å‰ç¼–ç ï¼Œä¸€èˆ¬é»˜è®¤ä¸ºasciiã€‚</h3><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span> sys<span class="token punctuation">.</span>getdefaultencoding<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></figure><h3 id="sys-setdefaultencoding-è®¾ç½®ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼Œ"><a href="#sys-setdefaultencoding-è®¾ç½®ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼Œ" class="headerlink" title="sys.setdefaultencoding(): è®¾ç½®ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼Œ"></a>sys.setdefaultencoding(): è®¾ç½®ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼Œ</h3><p>æ‰§è¡Œdirï¼ˆsysï¼‰æ—¶ä¸ä¼šçœ‹åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨è§£é‡Šå™¨ä¸­æ‰§è¡Œä¸é€šè¿‡ï¼Œ<br>å¯ä»¥å…ˆæ‰§è¡Œreload(sys)ï¼Œåœ¨æ‰§è¡Œ setdefaultencoding(â€˜utf8â€™)ï¼Œ<br>æ­¤æ—¶å°†ç³»ç»Ÿé»˜è®¤ç¼–ç è®¾ç½®ä¸ºutf8ã€‚ï¼ˆpython2.7ä¸­å¯èƒ½éœ€è¦è¿™ä¹ˆåšï¼‰</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token builtin">reload</span><span class="token punctuation">(</span>sys<span class="token punctuation">)</span>sys<span class="token punctuation">.</span>setdefaultencoding<span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span></code></pre></div></figure><h3 id="sys-path-è·å–æŒ‡å®šæ¨¡å—æœç´¢è·¯å¾„çš„å­—ç¬¦ä¸²é›†åˆ"><a href="#sys-path-è·å–æŒ‡å®šæ¨¡å—æœç´¢è·¯å¾„çš„å­—ç¬¦ä¸²é›†åˆ" class="headerlink" title="sys.path: è·å–æŒ‡å®šæ¨¡å—æœç´¢è·¯å¾„çš„å­—ç¬¦ä¸²é›†åˆ"></a>sys.path: è·å–æŒ‡å®šæ¨¡å—æœç´¢è·¯å¾„çš„å­—ç¬¦ä¸²é›†åˆ</h3><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">sys<span class="token punctuation">.</span>path</code></pre></div></figure><h3 id="sys-platform-è·å–å½“å‰ç³»ç»Ÿå¹³å°ã€‚"><a href="#sys-platform-è·å–å½“å‰ç³»ç»Ÿå¹³å°ã€‚" class="headerlink" title="sys.platform: è·å–å½“å‰ç³»ç»Ÿå¹³å°ã€‚"></a>sys.platform: è·å–å½“å‰ç³»ç»Ÿå¹³å°ã€‚</h3><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span> sys<span class="token punctuation">.</span>platform</code></pre></div></figure><h3 id="sys-exit"><a href="#sys-exit" class="headerlink" title="sys.exit()"></a>sys.exit()</h3><p>åŠŸèƒ½ï¼šæ‰§è¡Œåˆ°ä¸»ç¨‹åºæœ«å°¾ï¼Œè§£é‡Šå™¨è‡ªåŠ¨é€€å‡ºï¼Œä½†æ˜¯å¦‚æœéœ€è¦ä¸­é€”é€€å‡ºç¨‹åºï¼Œ<br>å¯ä»¥è°ƒç”¨sys.exitå‡½æ•°ï¼Œå¸¦æœ‰ä¸€ä¸ªå¯é€‰çš„æ•´æ•°å‚æ•°è¿”å›ç»™è°ƒç”¨å®ƒçš„ç¨‹åºï¼Œ<br>è¡¨ç¤ºä½ å¯ä»¥åœ¨ä¸»ç¨‹åºä¸­æ•è·å¯¹sys.exitçš„è°ƒç”¨ã€‚ï¼ˆ0æ˜¯æ­£å¸¸é€€å‡ºï¼Œå…¶ä»–ä¸ºå¼‚å¸¸ï¼‰â€™â€™â€™</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span> <span class="token string">'ç¬¬%sæ¬¡:'</span> <span class="token operator">%</span> i<span class="token punctuation">,</span> i    <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>        <span class="token keyword">print</span> <span class="token string">'ç¬¬äº”æ¬¡é€€å‡º'</span>        sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre></div></figure><h2 id="osæ¨¡å—"><a href="#osæ¨¡å—" class="headerlink" title="osæ¨¡å—"></a>osæ¨¡å—</h2><h3 id="1-os-name-â€”â€”åˆ¤æ–­ç°åœ¨æ­£åœ¨å®ç”¨çš„å¹³å°ï¼ŒWindows-è¿”å›-â€˜ntâ€™-Linux-è¿”å›â€™posixâ€™"><a href="#1-os-name-â€”â€”åˆ¤æ–­ç°åœ¨æ­£åœ¨å®ç”¨çš„å¹³å°ï¼ŒWindows-è¿”å›-â€˜ntâ€™-Linux-è¿”å›â€™posixâ€™" class="headerlink" title="1. os.name()â€”â€”åˆ¤æ–­ç°åœ¨æ­£åœ¨å®ç”¨çš„å¹³å°ï¼ŒWindows è¿”å› â€˜ntâ€™; Linux è¿”å›â€™posixâ€™"></a>1. os.name()â€”â€”åˆ¤æ–­ç°åœ¨æ­£åœ¨å®ç”¨çš„å¹³å°ï¼ŒWindows è¿”å› â€˜ntâ€™; Linux è¿”å›â€™posixâ€™</h3><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span> os<span class="token punctuation">.</span>name<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></figure><h3 id="2-os-getcwd-â€”â€”å¾—åˆ°å½“å‰å·¥ä½œçš„ç›®å½•ã€‚"><a href="#2-os-getcwd-â€”â€”å¾—åˆ°å½“å‰å·¥ä½œçš„ç›®å½•ã€‚" class="headerlink" title="2. os.getcwd()â€”â€”å¾—åˆ°å½“å‰å·¥ä½œçš„ç›®å½•ã€‚"></a>2. os.getcwd()â€”â€”å¾—åˆ°å½“å‰å·¥ä½œçš„ç›®å½•ã€‚</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print os.getcwd()</code></pre></div></figure><h3 id="3-os-listdir-â€”â€”æŒ‡å®šæ‰€æœ‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œç›®å½•åã€‚"><a href="#3-os-listdir-â€”â€”æŒ‡å®šæ‰€æœ‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œç›®å½•åã€‚" class="headerlink" title="3. os.listdir()â€”â€”æŒ‡å®šæ‰€æœ‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œç›®å½•åã€‚"></a>3. os.listdir()â€”â€”æŒ‡å®šæ‰€æœ‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œç›®å½•åã€‚</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print os.listdir(&#39;.&#39;)</code></pre></div></figure><h3 id="4-os-remove-â€”â€”åˆ é™¤æŒ‡å®šæ–‡ä»¶"><a href="#4-os-remove-â€”â€”åˆ é™¤æŒ‡å®šæ–‡ä»¶" class="headerlink" title="4. os.remove()â€”â€”åˆ é™¤æŒ‡å®šæ–‡ä»¶"></a>4. os.remove()â€”â€”åˆ é™¤æŒ‡å®šæ–‡ä»¶</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">os.remove(&#39;aaa.txt&#39;)</code></pre></div></figure><h3 id="5-os-rmdir-â€”â€”åˆ é™¤æŒ‡å®šç›®å½•"><a href="#5-os-rmdir-â€”â€”åˆ é™¤æŒ‡å®šç›®å½•" class="headerlink" title="5. os.rmdir()â€”â€”åˆ é™¤æŒ‡å®šç›®å½•"></a>5. os.rmdir()â€”â€”åˆ é™¤æŒ‡å®šç›®å½•</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">os.rmdir(&#39;C:&#x2F;&#x2F;Users&#x2F;xiaoxinsoso&#x2F;Desktop&#x2F;aaa&#39;)</code></pre></div></figure><h3 id="6-os-mkdir-â€”â€”åˆ›å»ºç›®å½•-æ³¨æ„ï¼šè¿™æ ·åªèƒ½å»ºç«‹ä¸€å±‚ï¼Œè¦æƒ³é€’å½’å»ºç«‹å¯ç”¨ï¼šos-makedirs"><a href="#6-os-mkdir-â€”â€”åˆ›å»ºç›®å½•-æ³¨æ„ï¼šè¿™æ ·åªèƒ½å»ºç«‹ä¸€å±‚ï¼Œè¦æƒ³é€’å½’å»ºç«‹å¯ç”¨ï¼šos-makedirs" class="headerlink" title="6. os.mkdir()â€”â€”åˆ›å»ºç›®å½•,æ³¨æ„ï¼šè¿™æ ·åªèƒ½å»ºç«‹ä¸€å±‚ï¼Œè¦æƒ³é€’å½’å»ºç«‹å¯ç”¨ï¼šos.makedirs()"></a>6. os.mkdir()â€”â€”åˆ›å»ºç›®å½•,æ³¨æ„ï¼šè¿™æ ·åªèƒ½å»ºç«‹ä¸€å±‚ï¼Œè¦æƒ³é€’å½’å»ºç«‹å¯ç”¨ï¼šos.makedirs()</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">os.makedirs(&#39;aaa&#x2F;aaa&#39;)</code></pre></div></figure><h3 id="7-os-path-isfile-â€”â€”åˆ¤æ–­æŒ‡å®šå¯¹è±¡æ˜¯å¦ä¸ºæ–‡ä»¶ã€‚æ˜¯è¿”å›True-å¦åˆ™False"><a href="#7-os-path-isfile-â€”â€”åˆ¤æ–­æŒ‡å®šå¯¹è±¡æ˜¯å¦ä¸ºæ–‡ä»¶ã€‚æ˜¯è¿”å›True-å¦åˆ™False" class="headerlink" title="7. os.path.isfile()â€”â€”åˆ¤æ–­æŒ‡å®šå¯¹è±¡æ˜¯å¦ä¸ºæ–‡ä»¶ã€‚æ˜¯è¿”å›True, å¦åˆ™False"></a>7. os.path.isfile()â€”â€”åˆ¤æ–­æŒ‡å®šå¯¹è±¡æ˜¯å¦ä¸ºæ–‡ä»¶ã€‚æ˜¯è¿”å›True, å¦åˆ™False</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print os.path.isfile(&#39;ccc.txt&#39;)print os.path.isfile(&#39;aaa&#39;)</code></pre></div></figure><h3 id="8-os-path-isdir-â€”â€”åˆ¤æ–­æŒ‡å®šå¯¹è±¡æ˜¯å¦ä¸ºç›®å½•ã€‚æ˜¯True-å¦åˆ™Falseã€‚ä¾‹ï¼š"><a href="#8-os-path-isdir-â€”â€”åˆ¤æ–­æŒ‡å®šå¯¹è±¡æ˜¯å¦ä¸ºç›®å½•ã€‚æ˜¯True-å¦åˆ™Falseã€‚ä¾‹ï¼š" class="headerlink" title="8. os.path.isdir()â€”â€”åˆ¤æ–­æŒ‡å®šå¯¹è±¡æ˜¯å¦ä¸ºç›®å½•ã€‚æ˜¯True, å¦åˆ™Falseã€‚ä¾‹ï¼š"></a>8. os.path.isdir()â€”â€”åˆ¤æ–­æŒ‡å®šå¯¹è±¡æ˜¯å¦ä¸ºç›®å½•ã€‚æ˜¯True, å¦åˆ™Falseã€‚ä¾‹ï¼š</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print os.path.isdir(&#39;aaa&#39;)print os.path.isdir(&#39;ccc.txt&#39;)</code></pre></div></figure><h3 id="9-os-path-exists-â€”â€”æ£€éªŒæŒ‡å®šçš„å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚æ˜¯True-å¦åˆ™False-ä¾‹ï¼š"><a href="#9-os-path-exists-â€”â€”æ£€éªŒæŒ‡å®šçš„å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚æ˜¯True-å¦åˆ™False-ä¾‹ï¼š" class="headerlink" title="9. os.path.exists()â€”â€”æ£€éªŒæŒ‡å®šçš„å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚æ˜¯True, å¦åˆ™False.ä¾‹ï¼š"></a>9. os.path.exists()â€”â€”æ£€éªŒæŒ‡å®šçš„å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚æ˜¯True, å¦åˆ™False.ä¾‹ï¼š</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print os.path.exists(&#39;bbb&#39;)print os.path.exists(&#39;aaa&#39;)print os.path.exists(&#39;ccc.txt&#39;)</code></pre></div></figure><h3 id="10-os-path-split-â€”â€”è¿”å›è·¯å¾„çš„ç›®å½•å’Œæ–‡ä»¶åã€‚ä¾‹ï¼š"><a href="#10-os-path-split-â€”â€”è¿”å›è·¯å¾„çš„ç›®å½•å’Œæ–‡ä»¶åã€‚ä¾‹ï¼š" class="headerlink" title="10. os.path.split()â€”â€”è¿”å›è·¯å¾„çš„ç›®å½•å’Œæ–‡ä»¶åã€‚ä¾‹ï¼š"></a>10. os.path.split()â€”â€”è¿”å›è·¯å¾„çš„ç›®å½•å’Œæ–‡ä»¶åã€‚ä¾‹ï¼š</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print os.path.split(&#39;C:&#x2F;&#x2F;Users&#x2F;xiaoxinsoso&#x2F;Desktop&#x2F;aaa&#x2F;ccc.txt&#39;)</code></pre></div></figure><h3 id="11-os-getcwd-â€”â€”è·å¾—å½“å‰å·¥ä½œçš„ç›®å½•"><a href="#11-os-getcwd-â€”â€”è·å¾—å½“å‰å·¥ä½œçš„ç›®å½•" class="headerlink" title="11. os.getcwd()â€”â€”è·å¾—å½“å‰å·¥ä½œçš„ç›®å½•"></a>11. os.getcwd()â€”â€”è·å¾—å½“å‰å·¥ä½œçš„ç›®å½•</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print os.getcwd()</code></pre></div></figure><h3 id="12-os-system-â€”â€”æ‰§è¡Œshellå‘½ä»¤ã€‚"><a href="#12-os-system-â€”â€”æ‰§è¡Œshellå‘½ä»¤ã€‚" class="headerlink" title="12. os.system()â€”â€”æ‰§è¡Œshellå‘½ä»¤ã€‚"></a>12. os.system()â€”â€”æ‰§è¡Œshellå‘½ä»¤ã€‚</h3><p>æ³¨æ„ï¼šæ­¤å¤„è¿è¡Œshellå‘½ä»¤æ—¶ï¼Œå¦‚æœè¦è°ƒç”¨pythonä¹‹å‰çš„å˜é‡ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼ï¼š</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">var &#x3D; 123os.environ[&#39;var&#39;] &#x3D; str(var) os.system(&#39;echo $var&#39;)os.system(&#39;dir&#39;)</code></pre></div></figure><h3 id="13-os-chdir-â€”â€”æ”¹å˜ç›®å½•åˆ°æŒ‡å®šç›®å½•"><a href="#13-os-chdir-â€”â€”æ”¹å˜ç›®å½•åˆ°æŒ‡å®šç›®å½•" class="headerlink" title="13. os.chdir()â€”â€”æ”¹å˜ç›®å½•åˆ°æŒ‡å®šç›®å½•"></a>13. os.chdir()â€”â€”æ”¹å˜ç›®å½•åˆ°æŒ‡å®šç›®å½•</h3><h3 id="14-os-path-getsize-â€”â€”è·å¾—æ–‡ä»¶çš„å¤§å°ï¼Œå¦‚æœä¸ºç›®å½•ï¼Œè¿”å›0"><a href="#14-os-path-getsize-â€”â€”è·å¾—æ–‡ä»¶çš„å¤§å°ï¼Œå¦‚æœä¸ºç›®å½•ï¼Œè¿”å›0" class="headerlink" title="14. os.path.getsize()â€”â€”è·å¾—æ–‡ä»¶çš„å¤§å°ï¼Œå¦‚æœä¸ºç›®å½•ï¼Œè¿”å›0"></a>14. os.path.getsize()â€”â€”è·å¾—æ–‡ä»¶çš„å¤§å°ï¼Œå¦‚æœä¸ºç›®å½•ï¼Œè¿”å›0</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print os.path.getsize(&#39;ccc.txt&#39;)</code></pre></div></figure><h3 id="15-os-path-abspath-â€”â€”è·å¾—ç»å¯¹è·¯å¾„ã€‚ä¾‹ï¼š"><a href="#15-os-path-abspath-â€”â€”è·å¾—ç»å¯¹è·¯å¾„ã€‚ä¾‹ï¼š" class="headerlink" title="15. os.path.abspath()â€”â€”è·å¾—ç»å¯¹è·¯å¾„ã€‚ä¾‹ï¼š"></a>15. os.path.abspath()â€”â€”è·å¾—ç»å¯¹è·¯å¾„ã€‚ä¾‹ï¼š</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print os.path.abspath(&#39;.&#39;)</code></pre></div></figure><h3 id="16-os-path-join-path-name-â€”â€”è¿æ¥ç›®å½•å’Œæ–‡ä»¶åã€‚ä¾‹ï¼š"><a href="#16-os-path-join-path-name-â€”â€”è¿æ¥ç›®å½•å’Œæ–‡ä»¶åã€‚ä¾‹ï¼š" class="headerlink" title="16. os.path.join(path, name)â€”â€”è¿æ¥ç›®å½•å’Œæ–‡ä»¶åã€‚ä¾‹ï¼š"></a>16. os.path.join(path, name)â€”â€”è¿æ¥ç›®å½•å’Œæ–‡ä»¶åã€‚ä¾‹ï¼š</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print os.path.join(&#39;c:&#x2F;&#x2F;user&#x2F;xiaoxinsoso&#x2F;&#39;, &#39;wenjian.txt&#39;)</code></pre></div></figure><h3 id="17-os-path-basename-path-â€”â€”è¿”å›æ–‡ä»¶å"><a href="#17-os-path-basename-path-â€”â€”è¿”å›æ–‡ä»¶å" class="headerlink" title="17. os.path.basename(path)â€”â€”è¿”å›æ–‡ä»¶å"></a>17. os.path.basename(path)â€”â€”è¿”å›æ–‡ä»¶å</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print os.path.basename(&#39;ccc.txt&#39;)</code></pre></div></figure><h3 id="18-os-path-dirname-path-â€”â€”è¿”å›æ–‡ä»¶è·¯å¾„"><a href="#18-os-path-dirname-path-â€”â€”è¿”å›æ–‡ä»¶è·¯å¾„" class="headerlink" title="18. os.path.dirname(path)â€”â€”è¿”å›æ–‡ä»¶è·¯å¾„"></a>18. os.path.dirname(path)â€”â€”è¿”å›æ–‡ä»¶è·¯å¾„</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print os.path.dirname(&#39;C:&#x2F;&#x2F;Users&#x2F;xiaoxinsoso&#x2F;Desktop&#x2F;aaa&#x2F;ccc.txt&#39;)</code></pre></div></figure><h3 id="19-è·å¾—ç¨‹åºæ‰€åœ¨çš„å®é™…ç›®å½•"><a href="#19-è·å¾—ç¨‹åºæ‰€åœ¨çš„å®é™…ç›®å½•" class="headerlink" title="19. è·å¾—ç¨‹åºæ‰€åœ¨çš„å®é™…ç›®å½•"></a>19. è·å¾—ç¨‹åºæ‰€åœ¨çš„å®é™…ç›®å½•</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:    print os.path.realpath(sys.argv[0])    print os.path.split(os.path.realpath(sys.argv[0]))    print os.path.split(os.path.realpath(sys.argv[0]))[0]</code></pre></div></figure><h2 id="timeæ¨¡å—"><a href="#timeæ¨¡å—" class="headerlink" title="timeæ¨¡å—"></a>timeæ¨¡å—</h2><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">ticks &#x3D; time.time()print &quot;å½“å‰æ—¶é—´æˆ³ä¸º:&quot;, ticks</code></pre></div></figure><h3 id="è·å–å½“å‰æ—¶é—´"><a href="#è·å–å½“å‰æ—¶é—´" class="headerlink" title="è·å–å½“å‰æ—¶é—´"></a>è·å–å½“å‰æ—¶é—´</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">localtime &#x3D; time.localtime(time.time())print &quot;æœ¬åœ°æ—¶é—´ä¸º :&quot;, localtime</code></pre></div></figure><h3 id="è·å–æ ¼å¼åŒ–çš„æ—¶é—´"><a href="#è·å–æ ¼å¼åŒ–çš„æ—¶é—´" class="headerlink" title="è·å–æ ¼å¼åŒ–çš„æ—¶é—´"></a>è·å–æ ¼å¼åŒ–çš„æ—¶é—´</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">localtime &#x3D; time.asctime(time.localtime(time.time()))print &quot;æœ¬åœ°æ—¶é—´ä¸º :&quot;, localtime</code></pre></div></figure><h3 id="æ ¼å¼åŒ–æ—¥æœŸ"><a href="#æ ¼å¼åŒ–æ—¥æœŸ" class="headerlink" title="æ ¼å¼åŒ–æ—¥æœŸ"></a>æ ¼å¼åŒ–æ—¥æœŸ</h3><h3 id="æ ¼å¼åŒ–æˆ2017-01-22-16-36-27å½¢å¼"><a href="#æ ¼å¼åŒ–æˆ2017-01-22-16-36-27å½¢å¼" class="headerlink" title="æ ¼å¼åŒ–æˆ2017-01-22 16:36:27å½¢å¼"></a>æ ¼å¼åŒ–æˆ2017-01-22 16:36:27å½¢å¼</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;, time.localtime())</code></pre></div></figure><h3 id="æ ¼å¼åŒ–æˆSun-Jan-22-16-36-27-2017å½¢å¼"><a href="#æ ¼å¼åŒ–æˆSun-Jan-22-16-36-27-2017å½¢å¼" class="headerlink" title="æ ¼å¼åŒ–æˆSun Jan 22 16:36:27 2017å½¢å¼"></a>æ ¼å¼åŒ–æˆSun Jan 22 16:36:27 2017å½¢å¼</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">print time.strftime(&quot;%a %b %d %H:%M:%S %Y&quot;, time.localtime())</code></pre></div></figure><h3 id="å°†æ ¼å¼å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³"><a href="#å°†æ ¼å¼å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³" class="headerlink" title="å°†æ ¼å¼å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³"></a>å°†æ ¼å¼å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">a &#x3D; &quot;Sat Mar 28 22:24:24 2016&quot;print time.mktime(time.strptime(a, &quot;%a %b %d %H:%M:%S %Y&quot;))</code></pre></div></figure><h3 id="è·å–æŸæœˆæ—¥å†"><a href="#è·å–æŸæœˆæ—¥å†" class="headerlink" title="è·å–æŸæœˆæ—¥å†"></a>è·å–æŸæœˆæ—¥å†</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">cal &#x3D; calendar.month(2017, 1)print &quot;ä»¥ä¸‹è¾“å‡º2016å¹´1æœˆä»½çš„æ—¥å†:&quot;print cal</code></pre></div></figure><h2 id="datetimeæ¨¡å—"><a href="#datetimeæ¨¡å—" class="headerlink" title="datetimeæ¨¡å—"></a>datetimeæ¨¡å—</h2><h3 id="datetimeç±»å‹æ—¶é—´"><a href="#datetimeç±»å‹æ—¶é—´" class="headerlink" title="datetimeç±»å‹æ—¶é—´"></a>datetimeç±»å‹æ—¶é—´</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">now &#x3D; datetime.datetime.now()print nownow &#x3D; date time.datetime.now()yes_time &#x3D; now + date time.timedelta(days&#x3D;-1)    # å‰ä¸€å¤©çš„æ—¶é—´</code></pre></div></figure><h3 id="datetimeè½¬string"><a href="#datetimeè½¬string" class="headerlink" title="datetimeè½¬string"></a>datetimeè½¬string</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">strdatetime &#x3D; now.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)     strdatetime1&#x3D; now.strftime(&quot;%Y-%m-%d&quot;)     print strdatetimeprint strdatetime1</code></pre></div></figure><h3 id="stringè½¬datetime"><a href="#stringè½¬datetime" class="headerlink" title="stringè½¬datetime"></a>stringè½¬datetime</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">datetime1 &#x3D; datetime.datetime.strptime(strdatetime1, &quot;%Y-%m-%d&quot;)print datetime1</code></pre></div></figure><h3 id="datetimeè½¬æ—¶é—´æˆ³"><a href="#datetimeè½¬æ—¶é—´æˆ³" class="headerlink" title="datetimeè½¬æ—¶é—´æˆ³"></a>datetimeè½¬æ—¶é—´æˆ³</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">time_time &#x3D; time.mktime(datetime1.timetuple())print time_time</code></pre></div></figure><h3 id="æ—¶é—´æˆ³è½¬string"><a href="#æ—¶é—´æˆ³è½¬string" class="headerlink" title="æ—¶é—´æˆ³è½¬string"></a>æ—¶é—´æˆ³è½¬string</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">time1 &#x3D; time.strftime(&#39;%Y-%m-%d&#39;,time.localtime(time_time))print time1</code></pre></div></figure><h3 id="dateè½¬datetime"><a href="#dateè½¬datetime" class="headerlink" title="dateè½¬datetime"></a>dateè½¬datetime</h3><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">date1 &#x3D; datetime.date(2012, 11, 19)date &#x3D; datetime.date.today()print dateprint datetime.datetime.strptime(str(date),&#39;%Y-%m-%d&#39;) #å°†dateè½¬æ¢ä¸ºstrï¼Œåœ¨ç”±strè½¬æ¢ä¸ºdatetimeprint datetime.datetime.strptime(str(date1),&#39;%Y-%m-%d&#39;) #å°†dateè½¬æ¢ä¸ºstrï¼Œåœ¨ç”±strè½¬æ¢ä¸ºdatetime</code></pre></div></figure>]]></content>
    
    
    <categories>
      
      <category>åç«¯</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è½¬è½½</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flaské¡¹ç›®é…ç½®</title>
    <link href="/2022/11/11/%E7%AC%AC%E4%BA%8C%E8%8A%82%EF%BC%9A%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%20-%20Python%E6%A1%86%E6%9E%B6Flask%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%20-%20%E7%9F%A5%E4%BA%86%E4%BC%A0%E8%AF%BE/"/>
    <url>/2022/11/11/%E7%AC%AC%E4%BA%8C%E8%8A%82%EF%BC%9A%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%20-%20Python%E6%A1%86%E6%9E%B6Flask%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%20-%20%E7%9F%A5%E4%BA%86%E4%BC%A0%E8%AF%BE/</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ•™æç”±çŸ¥äº†ä¼ è¯¾è¾›è‹¦åˆ¶ä½œè€Œæˆï¼Œä»…ä¾›å­¦ä¹ ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºå•†ä¸šç”¨é€”ï¼å¦‚è¿›è¡Œè½¬è½½è¯·åŠ¡å¿…æ³¨æ˜å‡ºå¤„ï¼è°¢è°¢ï¼</p><h2 id="é¡¹ç›®é…ç½®"><a href="#é¡¹ç›®é…ç½®" class="headerlink" title="é¡¹ç›®é…ç½®"></a>é¡¹ç›®é…ç½®</h2><h2 id="ä¸€ã€è®¾ç½®ä¸ºDEBUGæ¨¡å¼ï¼š"><a href="#ä¸€ã€è®¾ç½®ä¸ºDEBUGæ¨¡å¼ï¼š" class="headerlink" title="ä¸€ã€è®¾ç½®ä¸ºDEBUGæ¨¡å¼ï¼š"></a>ä¸€ã€è®¾ç½®ä¸ºDEBUGæ¨¡å¼ï¼š</h2><p>é»˜è®¤æƒ…å†µä¸‹<code>flask</code>ä¸ä¼šå¼€å¯<code>DEBUG</code>æ¨¡å¼ï¼Œå¼€å¯<code>DEBUG</code>æ¨¡å¼åï¼Œflaskä¼šåœ¨æ¯æ¬¡ä¿å­˜ä»£ç çš„æ—¶å€™è‡ªåŠ¨çš„é‡æ–°è½½å…¥ä»£ç ï¼Œå¹¶ä¸”å¦‚æœä»£ç æœ‰é”™è¯¯ï¼Œä¼šåœ¨ç»ˆç«¯è¿›è¡Œæç¤ºã€‚<br><img src="https://www.zlkt.net/media/course/2UZz2JSDySff5o8CPeqPRN.png" alt="image.png"><br>å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä¼šåœ¨ç»ˆç«¯æ‰“å°ä»¥ä¸‹ä¿¡æ¯ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token operator">*</span> Restarting <span class="token keyword">with</span> stat<span class="token operator">*</span> Debugger <span class="token keyword">is</span> active!<span class="token operator">*</span> Debugger pin code<span class="token punctuation">:</span> <span class="token number">294</span><span class="token operator">-</span><span class="token number">745</span><span class="token operator">-</span><span class="token number">044</span><span class="token operator">*</span> Running on http<span class="token punctuation">:</span><span class="token operator">//</span><span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token punctuation">:</span><span class="token number">9000</span><span class="token operator">/</span> <span class="token punctuation">(</span>Press CTRL<span class="token operator">+</span>C to quit<span class="token punctuation">)</span></code></pre></div></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªèƒ½åœ¨å¼€å‘ç¯å¢ƒä¸‹å¼€å¯<code>DEBUG</code>æ¨¡å¼ï¼Œå› ä¸º<code>DEBUG</code>æ¨¡å¼ä¼šå¸¦æ¥éå¸¸å¤§çš„å®‰å…¨éšæ‚£ã€‚</p><h2 id="äºŒã€é…ç½®æ–‡ä»¶ï¼š"><a href="#äºŒã€é…ç½®æ–‡ä»¶ï¼š" class="headerlink" title="äºŒã€é…ç½®æ–‡ä»¶ï¼š"></a>äºŒã€é…ç½®æ–‡ä»¶ï¼š</h2><p><code>Flask</code>é¡¹ç›®çš„é…ç½®ï¼Œéƒ½æ˜¯é€šè¿‡<code>app.config</code>å¯¹è±¡æ¥è¿›è¡Œé…ç½®çš„ã€‚æ¯”å¦‚è¦é…ç½®ä¸€ä¸ªé¡¹ç›®çš„<code>SECRET_KEY</code>ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<code>app.config[&#39;SECRET_KEY&#39;] = &quot;xxx&quot;</code>æ¥è¿›è¡Œè®¾ç½®ï¼Œåœ¨<code>Flask</code>é¡¹ç›®ä¸­ï¼Œæœ‰å››ç§æ–¹å¼è¿›è¡Œé¡¹ç›®çš„é…ç½®ï¼š</p><ol><li><p>ç›´æ¥ç¡¬ç¼–ç ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>app<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'SECRET_KEY'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"xxx"</span></code></pre></div></figure></li><li><p>å› ä¸º<code>app.config</code>æ˜¯<code>flask.config.Config</code>çš„å®ä¾‹ï¼Œè€Œ<code>Config</code>ç±»æ˜¯ç»§æ‰¿è‡ª<code>dict</code>ï¼Œå› æ­¤å¯ä»¥é€šè¿‡<code>update</code>æ–¹æ³•ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>update<span class="token punctuation">(</span>   DEBUG<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>   SECRET_KEY<span class="token operator">=</span><span class="token string">'...'</span><span class="token punctuation">)</span></code></pre></div></figure></li><li><p>å¦‚æœä½ çš„é…ç½®é¡¹ç‰¹åˆ«å¤šï¼Œä½ å¯ä»¥æŠŠæ‰€æœ‰çš„é…ç½®é¡¹éƒ½æ”¾åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œç„¶åé€šè¿‡åŠ è½½æ¨¡å—çš„æ–¹å¼è¿›è¡Œé…ç½®ï¼Œå‡è®¾æœ‰ä¸€ä¸ª<code>settings.py</code>æ¨¡å—ï¼Œä¸“é—¨ç”¨æ¥å­˜å‚¨é…ç½®é¡¹çš„ï¼Œæ­¤æ—¶ä½ å¯ä»¥é€šè¿‡<code>app.config.from_object()</code>æ–¹æ³•è¿›è¡ŒåŠ è½½ï¼Œå¹¶ä¸”è¯¥æ–¹æ³•æ—¢å¯ä»¥æ¥æ”¶æ¨¡å—çš„çš„å­—ç¬¦ä¸²åç§°ï¼Œä¹Ÿå¯ä»¥æ¨¡å—å¯¹è±¡ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># 1. é€šè¿‡æ¨¡å—å­—ç¬¦ä¸²</span>app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>from_object<span class="token punctuation">(</span><span class="token string">'settings'</span><span class="token punctuation">)</span><span class="token comment"># 2. é€šè¿‡æ¨¡å—å¯¹è±¡</span><span class="token keyword">import</span> settingsapp<span class="token punctuation">.</span>config<span class="token punctuation">.</span>from_object<span class="token punctuation">(</span>settings<span class="token punctuation">)</span></code></pre></div></figure></li><li><p>ä¹Ÿå¯ä»¥é€šè¿‡å¦å¤–ä¸€ä¸ªæ–¹æ³•åŠ è½½ï¼Œè¯¥æ–¹æ³•å°±æ˜¯<code>app.config.from_pyfile()</code>ï¼Œè¯¥æ–¹æ³•ä¼ å…¥ä¸€ä¸ªæ–‡ä»¶åï¼Œé€šå¸¸æ˜¯ä»¥<code>.py</code>ç»“å°¾çš„æ–‡ä»¶ï¼Œä½†ä¹Ÿä¸é™äºåªä½¿ç”¨<code>.py</code>åç¼€çš„æ–‡ä»¶ï¼š</p><figure><div class="code-wrapper"><pre class="language-python" data-language="python"><code class="language-python">app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>from_pyfile<span class="token punctuation">(</span><span class="token string">'settings.py'</span><span class="token punctuation">,</span>silent<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token comment"># silent=Trueè¡¨ç¤ºå¦‚æœé…ç½®æ–‡ä»¶ä¸å­˜åœ¨çš„æ—¶å€™ä¸æŠ›å‡ºå¼‚å¸¸ï¼Œé»˜è®¤æ˜¯ä¸ºFalseï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</span></code></pre></div></figure></li></ol><p><code>Flask</code>é¡¹ç›®å†…ç½®äº†è®¸å¤šçš„é…ç½®é¡¹ï¼Œæ‰€æœ‰çš„å†…ç½®é…ç½®é¡¹ï¼Œå¯ä»¥åœ¨<a href="https://flask.palletsprojects.com/en/2.0.x/config/">è¿™é‡ŒæŸ¥çœ‹</a>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>åç«¯</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è½¬è½½</tag>
      
      <tag>Python</tag>
      
      <tag>Flask</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
